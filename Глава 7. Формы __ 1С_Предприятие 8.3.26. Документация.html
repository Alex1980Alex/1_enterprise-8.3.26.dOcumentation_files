<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0263)https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_print -->
<html class="  no-touchscreen"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
		
		<title>Глава 7. Формы :: 1С:Предприятие 8.3.26. Документация</title>
		<link rel="stylesheet" href="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/style.css">
		<script src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/script.js" type="text/javascript"></script>
	<meta name="robots" content="noarchive">
<link href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm" rel="canonical">
<link href="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/its.content.css" type="text/css" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<style id="doc_style">.iss_sch_hl,mark,.iss_sch_hl.active,mark.active{background-color:transparent!important;padding:0}</style>
<script type="text/javascript" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/its.content.js"></script><style>.pic_image img, .Picture img {max-width:100%;height:auto} @media (any-pointer: coarse),(pointer: none){ img {max-width:100%;height:auto} }</style>
<script type="text/javascript">adjustContentLegacy()</script><style type="text/css">@media (any-pointer: coarse),(pointer: none){pre, code, kbd, p.Programtext{white-space:pre-wrap;word-wrap:break-word}h1, h2, h3, h4, h5, h6, p, li, table,p span, p font, p b, p strong, p i, p em,li span, li font, li b, li strong, li i, li em,table span, table font, table b, table strong, table i, table em,span.apiname{white-space:normal;word-wrap:break-word}body>div.index>a, body>div>div.index>a, ul.toc a,body>ul:not([class]) a:only-of-type[target="_top"],body>ul:not([class]) a:only-of-type[href^="/"],body>ul:not([class]) a:only-of-type[href^="#"]{display:inline-block;margin-top:10px;word-wrap:normal}}</style>
</head>
	<body class="v8326doc paywall">
<script type="text/javascript">onBodyAvailable()</script>
<a name="_toc212961355"></a><a name="_ref216521373"></a><a name="_ref216266202"></a><a name="_toc164776090"></a><a name="_toc420398498"></a><a name="_ref391291748"></a><a name="_ref391291747"></a><a name="_toc298859888"></a><a name="_ref237783401"></a><a name="_toc237692836"></a><a name="_ref216266201"></a><a id="TI000000391" class="bookmark"><h1>Глава 7.  Формы</h1></a>

<a name="_toc420398499"></a><a name="_ref397508808"></a><a name="_ref397508807"></a><a name="_toc164776091"></a><a id="TI000001468" class="bookmark" name="issogl1_7.1_общая_информация"><h2>7.1. Общая информация</h2></a>

<p class="MsoNormal"><span class="Bold">Форма</span> &#8209; это объект,
созданный для ввода и просмотра какой-либо информации, а также для
выполнения управления различными процессами. С помощью форм программа
запрашивает у пользователя ту информацию, которая необходима ей для
дальнейшей работы, либо выдает какую-либо информацию пользователю для просмотра
и редактирования.</p>

<p class="MsoNormal">Основное
назначение формы &#8209; предоставить
пользователю удобное средство для ввода и просмотра информации. Как и бумажный
документ, форма позволяет быстро ввести необходимую информацию и запомнить
ее для последующей обработки, а при необходимости вновь вернуться
к ранее введенным данным для просмотра или корректировки.</p>

<p class="MsoNormal">Отображаемая
часть формы (видимая пользователю) описывается как дерево, включающее <span class="Bold">элементы формы</span>. Элементы могут представлять собой поля ввода,
флажки, переключатели, кнопки и т. д. Кроме того, элемент может быть
группой, включающей другие элементы. Группа может представляться как панель
с рамкой, панель со страницами (закладками), собственно страница, командная
панель. Помимо этого элемент может представлять собой таблицу, которая тоже
включает элементы (колонки). Структура элементов описывает то, как будет
выглядеть форма. А вся функциональность формы описывается в виде
реквизитов и команд. <span class="Bold">Реквизиты</span> &#8209; это данные, с которыми работает форма, а <span class="Bold">команды</span> &#8209; выполняемые
действия. Таким образом, разработчик в редакторе формы должен включить
в форму необходимые реквизиты и команды, создать отображающие их элементы
формы и, если необходимо, скомпоновать элементы в группы.</p>

<p class="MsoNormal">Система
может автоматически создавать форму прикладного объекта, но разработчик может
сам создать форму и определить состав ее реквизитов, команд
и отображаемых элементов. На основе этого логического описания
система автоматически формирует внешний вид формы для отображения пользователю.
При этом системой учитываются различные свойства отображаемых данных (например,
тип), чтобы максимально удобно для пользователя расположить элементы формы. Разработчик
может влиять на расположение элементов различными установками. Он может
определять порядок элементов, указывать желаемую ширину и высоту. Однако
это является только некоторой дополнительной информацией, помогающей системе
отобразить форму.</p>

<p class="MsoNormal">В формах
разработчик может использовать не только команды самой формы, но
и глобальные команды, используемые в командном интерфейсе всей
конфигурации. Кроме того, реализована возможность создания параметризуемых
команд, которые будут открывать другие формы с учетом конкретных данных
текущей формы. Например, это может быть вызов отчета по остаткам
на том складе, который выбран сейчас в форме расходной накладной.</p>

<p class="MsoNormal">В формах
существует механизм привязки сообщений, выдаваемых пользователю, к данным
формы. Это позволяет системе визуально отмечать и активизировать элементы
формы, при заполнении которых пользователь допустил ошибку.</p>

<p class="MsoNormal">Также
форма автоматически учитывает ролевую доступность данных. Так, например, если
какой-либо реквизит отображаемого объекта недоступен для просмотра
определенному пользователю, то система автоматически удалит связанный
с этим реквизитом элемент формы и перестроит форму.</p>

<p class="MsoNormal">Форма
создается в редакторе формы, который доступен в режиме Конфигуратор
(см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2035.%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8.htm_?anchor=_ref214865442" target="_top">здесь</a>). В этом редакторе определяются:</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Реквизиты формы</span> &#8209; предназначены для хранения данных, с которыми
работает форма (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref222923530">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Параметры формы</span> &#8209; предназначены для организации связи между формами
и управления функциональностью формы при ее открытии (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref503517526">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Команды формы</span> &#8209; предназначены для выполнения различных действий
внутри формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref217219499">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Модуль формы</span> &#8209; содержит программный код, связанный
с функционированием формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref216510534">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Элементы формы</span> &#8209; предназначены для отображения и редактирования
реквизитов формы, а также для отображения и выполнения команд
(см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref216268390">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Командный интерфейс</span> &#8209; содержит команды, которые могут выполняться
в форме и предоставлены глобальным командным интерфейсом
и командами формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref343775740">здесь</a>).</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
Формы одновременно присутствуют и на стороне сервера, и на стороне
клиента. Об этом всегда следует помнить при разработке формы.</p>

</div>

<a name="_toc420398500"></a><a name="_ref389752945"></a><a name="_ref389752944"></a><a name="_toc298859889"></a><a name="_toc237692837"></a><a name="_ref222923530"></a><a name="_toc164776092"></a><a id="TI000000392" class="bookmark" name="issogl1_7.2_реквизиты_формы"><h2>7.2. Реквизиты формы</h2></a>

<a name="_toc420398501"></a><a name="_toc164776093"></a><a id="TI000001574" class="bookmark" name="issogl2_7.2.1_общая_информация"><h3>7.2.1. Общая информация</h3></a>

<p class="MsoNormal">Набор реквизитов
формы описывает состав данных, которые отображаются, редактируются
и хранятся в форме. При этом реквизиты формы сами по себе не
обеспечивают возможности отображения и редактирования данных. Для
отображения и редактирования служат элементы формы, связанные
с реквизитами формы. Совокупность всех реквизитов формы будем называть <span class="Bold">данными формы</span>.</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
Необходимо помнить, что все данные формы должны быть описаны в виде
реквизитов. Не допускается использование переменных модуля формы
в качестве источников данных для элементов формы.</p>

</div>

<p class="MsoNormal">В процессе
разработки формы можно явно задать возможность просмотра и редактирования
конкретных реквизитов формы, в разрезе ролей, с помощью свойств <span class="Interface">Просмотр</span>
и <span class="Interface">Редактирование</span>
(подробнее см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2035.%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8.htm_?anchor=_ref200447246" target="_top">здесь</a>). Кроме того, доступность того или иного реквизита в самой
форме можно настраивать с помощью функциональных опций (подробнее
о функциональных опциях см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref264542890" target="_top">здесь</a>).</p>

<p class="MsoNormal">Имеется
возможность назначить <span class="Interface">Основной реквизит</span> формы, т. е. реквизит,
который будет определять стандартную функциональность формы (расширение формы).</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
Следует помнить, что основной реквизит у формы может быть только один.</p>

</div>

<p class="MsoNormal"><span class="Bold">Расширение
формы</span> &#8209; это дополнительные
свойства, методы и параметры формы объекта <span class="Term">ФормаКлиентскогоПриложения</span>,
характерные для типа основного реквизита формы.</p>

<a name="_toc420398502"></a><a name="_ref409104736"></a><a name="_ref409104735"></a><a name="_toc298859890"></a><a name="_toc237692838"></a><a name="_ref227499547"></a><a name="_toc164776094"></a><a id="TI000000393" class="bookmark" name="issogl2_7.2.2_типы_данных_формы"><h3>7.2.2. Типы данных формы</h3></a>

<p class="MsoNormal">Форма оперирует
ограниченным набором типов данных:</p>

<p class="MsoListBullet">&#9679; 
Типы, которые непосредственно используются
в форме, &#8209; это те типы, которые
существуют на стороне тонкого клиента и веб-клиента (например, <span class="Term">Число</span>, <span class="Term">СправочникСсылка.Товары</span>,
<span class="Term">ГрафическаяСхема</span>, <span class="Term">ТабличныйДокумент</span>).</p>

<p class="MsoListBullet">&#9679; 
Типы, которые будут преобразованы
в специальные типы данных, &#8209; типы данных
формы. Такие типы отображаются в списке реквизитов формы в круглых
скобках, например <span class="Interface">(СправочникОбъект.Товары)</span>.</p>

<p class="MsoListBullet">&#9679; 
Динамический список &#8209; специальный тип данных, который позволяет
организовать отображение на форме произвольной информации из таблиц
базы данных. Для этого необходимо указать отображаемую таблицу или описать
получаемую выборку на языке запросов. Механизм основан на системе
компоновки данных и предоставляет возможности для сортировки, отбора,
поиска, группировки и условного оформления получаемых данных.</p>

<p class="MsoNormal">Некоторые
прикладные типы (такие как <span class="Term">СправочникОбъект</span>
и т. д.) не существуют на стороне тонкого клиента
и веб-клиентов. Поэтому для представления в форме таких прикладных
типов в платформе введены специальные типы данных, предназначенные для
работы в формах. Эта особенность обуславливает необходимость выполнять
преобразование прикладных объектов в данные формы (и обратно).</p>

<p class="MsoNormal">Используются
следующие типы данных:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДанныеФормыСтруктура</span> &#8209; содержит набор свойств произвольного типа.
Свойствами могут быть другие структуры, коллекции или структуры
с коллекциями. Таким типом представляется, например, в форме <span class="Term">СправочникОбъект</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДанныеФормыКоллекция</span> &#8209; это список типизированных значений, похожий
на массив. Доступ к элементу коллекции осуществляется по индексу
или по идентификатору. В коллекциях, полученных на основе наборов
записей регистров или табличных частей объектов, поле элемента коллекции <span class="Term">НомерСтроки</span> не соответствует реальному индексу
элемента коллекции. Доступ по идентификатору может отсутствовать
в некоторых случаях. Это обусловлено типом прикладного объекта, который
представлен этой коллекцией. Идентификатором может быть любое целое число.
Таким типом представляется, например, в форме табличная часть.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДанныеФормыСтруктураСКоллекцией</span> &#8209; это объект, который представлен в виде
структуры и коллекции одновременно. С ним можно обращаться как
с любой из этих сущностей. Таким типом представляется, например,
в форме набор записей.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДанныеФормыДерево</span> &#8209; объект предназначен для хранения иерархических
данных.</p>

<div>

<p class="Note"><span class="Note">Внимание!</span> Не рекомендуется использовать данные формы
в качестве параметров процедур и функций, выполняющих передачу
управления с клиента на сервер, а также в качестве
возвращаемых значений функций, если при этом управление передается
на клиента.<br><br><span class="Note">Внимание!</span> При вызове серверных процедур и функций
и возврате управления на клиента выполняется передача только изменений
в данных формы. Если в качестве типа реквизита формы выбран тип <span class="Interface">Произвольный</span>
и в качестве значения реквизита выбрано мутабельное значение, то для
того, чтобы данные между клиентом и сервером (и обратно) передавались
корректно, нужно после изменения мутабельного значения снова его присвоить
реквизиту формы.</p>

</div>

<p class="MsoNormal">Прикладной
объект представлен либо одним, либо несколькими элементами данных формы. В
общем виде иерархия и состав данных формы зависят от сложности
и взаимосвязи прикладных объектов формы.</p>

<p class="MsoNormal">Например,
документ, содержащий табличную часть, будет представлен объектом типа <span class="Term">ДанныеФормыСтруктура</span> (собственно документ),
которому подчинен объект типа <span class="Term">ДанныеФормыКоллекция</span>
(табличная часть документа).</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
Во время разработки конфигурации важно помнить, что прикладные объекты доступны
только на сервере, в то время как объектами данных форм можно
пользоваться и на сервере, и на клиенте.</p>

</div>

<p class="MsoNormal">При формировании
реквизитов формы необходимо учитывать ряд ограничений:</p>

<p class="MsoListBullet">&#9679; 
В данных формы могут храниться данные только тех
типов системы «1С:Предприятие», для которых указан возможность XDTO-сериализации (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%204.%20%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.htm_?anchor=_ref417645360" target="_top">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
Запрещено присваивание реквизитам формы значений
типа <span class="Term">Массив</span> и <span class="Term">Соответствие</span>.</p>

<p class="MsoListBullet">&#9679; 
Для реквизитов произвольного типа объектов <span class="Term">ДанныеФормыСтруктура</span>, <span class="Term">ДанныеФормыЭлементКоллекции</span>, <span class="Term">ДанныеФормыЭлементДерева</span>, <span class="Term">ДанныеФормыСтруктураСКоллекцией</span> запрещается
присваивание значений типа <span class="Term">Массив</span>
и <span class="Term">Соответствие</span>.</p>

<p class="MsoListBullet">&#9679; 
Не рекомендуется использовать значения типов <span class="Term">Массив</span> и <span class="Term">Соответствие</span>
в качестве элементов коллекций типа <span class="Term">Структура</span>
или <span class="Term">СписокЗначений</span>. В
вышеперечисленных случаях рекомендуется использовать фиксированные коллекции: <span class="Term">ФиксированныйМассив</span>, <span class="Term">ФиксированноеСоответствие</span>.</p>

<p class="MsoListBullet">&#9679; 
Не рекомендуется использовать типы <span class="Term">Структура</span> и <span class="Term">СписокЗначений</span> в данных реквизитов формы
(т. е. в реквизитах реквизитов).</p>

<p class="MsoListBullet">&#9679; 
Если реквизит формы имеет тип <span class="Term">Произвольный</span> или в качестве значения такого
реквизита выступает коллекция (массив, соответствие и т. д.), то не
следует устанавливать таким реквизитам (или свойствам коллекций) значения,
содержащие прикладные объекты:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ДокументОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">СправочникОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">БизнесПроцессОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ЗадачаОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ПланВидовХарактеристикОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ПланВидовРасчетаОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ПланОбменаОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ПланСчетовОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ВнешнийИсточникДанныхКубТаблицаИзмеренияОбъект</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">ВнешнийИсточникДанныхТаблицаОбъект</span>.</p>

<p class="MsoNormal">Фактически
можно сказать, что данные формы &#8209; это
унифицированное представление данных различных прикладных объектов,
с которыми форма работает единообразно, и которые присутствуют
и на сервере, и на клиенте. То есть форма содержит некоторую
«проекцию» данных прикладных объектов в виде своих собственных типов
данных и выполняет преобразование между ними при необходимости. Однако,
если разработчик конфигурации реализует свой алгоритм обработки данных, то
преобразование данных (из специализированных типов в прикладные
и обратно) он должен выполнять самостоятельно.</p>

<p class="MsoNormal">При
редактировании реквизитов формы имеется возможность влиять на передачу
данных между клиентом и сервером во время работы формы. Для этого служит
колонка редактора реквизитов <span class="Interface">Использовать всегда</span>. Действие этого свойства различается
для трех типов реквизитов:</p>

<p class="MsoListBullet">&#9679; 
Для реквизита, подчиненного динамическому списку
(колонке динамического списка):</p>

<p class="MsoListBullet2">&#9679; 
Свойство включено &#8209; реквизит
всегда считывается из базы данных и включается в данные формы.</p>

<p class="MsoListBullet2">&#9679; 
Свойство выключено &#8209; реквизит
считывается из базы данных и включается в данные формы только
тогда, когда есть видимый в данный момент элемент формы, связанный
с реквизитом или его подчиненным реквизитом.</p>

<p class="MsoListBullet">&#9679; 
Для реквизита, подчиненного коллекции движений:</p>

<p class="MsoListBullet2">&#9679; 
Свойство включено &#8209; движения
документа считываются из базы данных и будут присутствовать
в данных формы.</p>

<p class="MsoListBullet2">&#9679; 
Свойство выключено &#8209; движения
документа не будут считываться из базы данных и не попадут
в данные формы (если нет элемента формы, ссылающегося на движения
документа).</p>

<p class="MsoListBullet">&#9679; 
Остальные реквизиты формы:</p>

<p class="MsoListBullet2">&#9679; 
Свойство включено &#8209; реквизит
будет присутствовать в данных формы вне зависимости от того, есть или
нет хоть один элемент формы, который связан с реквизитом или его
подчиненным реквизитом.</p>

<p class="MsoListBullet2">&#9679; 
Свойство выключено &#8209; реквизит
будет присутствовать в данных формы только в том случае, если есть
элемент формы, связанный с реквизитом или его подчиненным реквизитом. В
отличие от реквизитов динамического списка, здесь не играет роли видимость
элемента, связанного с реквизитом.</p>

<div>

<p class="Note"><span class="Note">Примечание 1.</span> Следует помнить, что свойство,
установленное у родительского реквизита, действует на все подчиненные
реквизиты. Например, если свойство <span class="Interface">Использовать всегда</span> снято у табличной части
документа, то система считает, что это свойство снято и у всех подчиненных
реквизитов (несмотря на фактическое состояние свойства).<br><br><span class="Note">Примечание 2.</span> Для реквизитов формы, имеющих объектный
тип (<span class="Term">СправочникОбъект</span>, <span class="Term">ДокументОбъект</span> и т. д.), реквизиты <span class="Term">Ссылка</span>, <span class="Term">ПометкаУдаления</span>
и <span class="Term">ЭтоГруппа</span> всегда
присутствуют в данных формы (если соответствующий реквизит есть
у объекта), вне зависимости от состояния свойства <span class="Interface">Использовать всегда</span>.<br><br><span class="Note">Примечание 3.</span> Запрещено присваивание реквизитам данных
формы значений других объектов данных формы.</p>

</div>

<p class="MsoNormal">Если
в редакторе реквизитов (колонка <span class="Interface">Тип</span>) описание типа отображается в круглых скобках,
например <span class="Interface">(СправочникОбъект.Товары)</span>,
то это означает, что прикладной тип будет преобразован к типам, образующим
данные формы.</p>

<p class="MsoNormal">Если
в данных формы оказывается недопустимый тип (например, как реквизит
реквизита формы), то в редакторе реквизитов формы, рядом с именем
типа данного реквизита, будет выводиться надпись <span class="Interface">(Недоступен в данных формы)</span>. В
режиме 1С:Предприятие поле формы, соответствующее данному реквизиту, не будет
создано. Никаких ошибок выводиться не будет. При копировании
и редактировании объектов, содержащих такие данные, следует самостоятельно
реализовывать программный код, обеспечивающий копирование и работу
с такими реквизитами в форме.</p>

<p class="MsoNormal">Далее
рассмотрим некоторые особенности реквизитов форм разных типов:</p>

<p class="MsoListBullet">&#9679; 
Для реквизитов формы типа <span class="Term">ТаблицаЗначений</span> и <span class="Term">ДеревоЗначений</span> имеется возможность добавлять
колонки (команда <span class="Interface">Добавить колонку реквизита</span>). Это определяет структуру
данных создаваемой коллекции.</p>

<p class="MsoListBullet">&#9679; 
Для реквизитов типа <span class="Term">ДанныеФормыКоллекция</span> (например, табличные
части объектов) и <span class="Term">ДанныеФормыСтруктураСКоллекцией</span>
(например, наборы записей регистров) имеется возможность задавать дополнительные
колонки реквизитов (команда <span class="Interface">Добавить колонку реквизита</span>), которые не имеют связи
с данными, хранящимися в информационной базе.</p>

<p class="Indentlist">Эти колонки будут
создаваться системой в момент создания данных формы. Обращение
к таким реквизитам доступно как на клиенте, так и на сервере.</p>

<p class="Lang-subheader">Пример
заполнения колонки реквизита, не связанной с данными:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриЧтенииНаСервере<span class="operator">(</span>ТекущийОбъект<span class="operator">)</span>
    <span class="keyword">Для</span> <span class="keyword">Каждого</span> Строка <span class="keyword">Из</span> Объект<span class="operator">.</span>Товары <span class="keyword">Цикл</span>
        <span class="comment">// ВидТовара - реквизит, не связанный с данными</span>
        Строка<span class="operator">.</span>ВидТовара <span class="operator">=</span> Строка<span class="operator">.</span>Товар<span class="operator">.</span>Вид<span class="operator">;</span>
    <span class="keyword">КонецЦикла</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoListBullet">&#9679; 
Для реквизита типа <span class="Term">СписокЗначений</span> имеется возможность установить
тип значения (свойство <span class="Interface">Тип значения</span>), которое будет хранить список. При этом
система будет автоматически ограничивать тип добавляемых данных при
интерактивном добавлении. Также при этом не запрещается программное добавление,
но будет выполняться попытка приведения значения добавляемого типа
к ограничивающему типу (или составному типу). Свойство <span class="Interface">Тип значения</span>
также можно связать с элементом формы и получить возможность
интерактивно ограничивать типы данных, которые могут быть добавлены
в список значений.</p>

<p class="MsoListBullet">&#9679; 
Для реквизита типа <span class="Term">ДинамическийСписок</span> имеется возможность задать
параметры списка: основную таблицу, настройки и т. д. Подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref221603703">здесь</a>.</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
Колонки реквизитов, не связанные с данными, не участвуют
в преобразовании значений между данными формы и объектами
информационной базы и обратно.</p>

</div>

<p class="MsoNormal">Описание
свойств <span class="Interface">Просмотр</span>
и <span class="Interface">Редактирование</span>
см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2035.%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8.htm_?anchor=_ref200447246" target="_top">здесь</a>.</p>

<p class="MsoNormal">Изменения
данных формы отображаются элементами формы после окончания выполнения
встроенного языка или после принудительного вызова метода <span class="Term">ОбновитьОтображениеДанных()</span>. Рассмотрим
пример.</p>

<p class="MsoNormal">Допустим,
в форме есть реквизит <span class="Term">Счетчик</span>
типа <span class="Term">Число</span>. Этот
реквизит отображается на форме полем типа <span class="Interface">Поле индикатора</span>. Пусть есть
некоторое действие, ход выполнения которого должен отображаться индикатором.
Действие вызывается нажатием кнопки на форме:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Процедура</span> ОбработчикКомандыФормы<span class="operator">(</span><span class="operator">)</span>
    <span class="keyword">Для</span> Счетчик<span class="operator">=</span><span class="number">1</span> <span class="keyword">по</span> <span class="number">100</span> <span class="keyword">Цикл</span>
        ВыполнитьДействие<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Если
нажать кнопку, инициирующую эту команду, в режиме 1С:Предприятия, то
индикатор вначале будет в крайнем левом положении, а потом &#8209; сразу в крайнем правом (считаем, что метод <span class="Term">ВыполнитьДействие()</span> выполняется какое-то
время, что должно позволить увидеть изменение индикатора). То есть индикатор
будет обновлен только после того, как закончится исполнение обработчика
команды.</p>

<p class="MsoNormal">Для того
чтобы индикатор отображал ход выполнения процесса, нужно код обработчика
заменить нижеследующим:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Процедура</span> ОбработчикКомандыФормы<span class="operator">(</span><span class="operator">)</span>
    <span class="keyword">Для</span> Счетчик<span class="operator">=</span><span class="number">1</span> <span class="keyword">по</span> <span class="number">100</span> <span class="keyword">Цикл</span>
        ВыполнитьДействие<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
        ОбновитьОтображениеДанных<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">После такого
изменения индикатор начнет изменяться во время исполнения кода, расположенного
в обработчике команды.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
В веб-клиенте вызов метода <span class="Term">ОбновитьОтображениеДанных()</span>
приведет к обновлению элементов формы только после окончания выполнения
кода на встроенном языке.</p>

</div>

<a name="_ref455675024"></a><a name="_ref455675023"></a><a name="_toc420398503"></a><a name="_toc298859891"></a><a name="_toc237692839"></a><a name="_toc164776095"></a><a id="TI000000394" class="bookmark" name="issogl2_7.2.3_преобразование_данных_прикладных_объектов_в_данные_формы_и_обратно"><h3>7.2.3. Преобразование данных прикладных объектов в данные формы и обратно</h3></a>

<p class="MsoNormal">Для конвертирования
прикладных объектов в данные формы и обратно существует набор
глобальных методов:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ЗначениеВДанныеФормы()</span>,</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДанныеФормыВЗначение()</span>,</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">КопироватьДанныеФормы()</span>.</p>

<p class="MsoNormal">Методы,
работающие с прикладными объектами, доступны только в серверных
процедурах. Метод для копирования значений между данными формы доступен
на сервере и на клиенте, так как не требует прикладных объектов
в качестве параметров.</p>

<p class="MsoNormal">Во время
конвертирования данных формы в прикладной объект нужно учитывать их
совместимость.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ЗначениеВДанныеФормы()</span> &#8209; преобразует объект прикладного типа в данные
формы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДанныеФормыВЗначение()</span> &#8209; преобразует данные формы в объект прикладного
типа.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">КопироватьДанныеФормы()</span> &#8209; производит копирование данных формы, обладающих
совместимой структурой. Возвращает значение <span class="Term">Истина</span>,
если копирование произведено, или <span class="Term">Ложь</span>,
если структура объектов несовместима.</p>

<p class="MsoNormal">При преобразовании
данных формы в прикладные объекты и обратно используется кеширование
объектов, но при этом выполняется проверка актуальности версии объекта
в кеше.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
При выполнении стандартных действий (открытие формы, выполнение стандартной
команды <span class="Term">Записать</span>
и т. д.) в форме с основным реквизитом преобразование
выполняется автоматически.</p>

</div>

<p class="MsoNormal">Приведем пример,
как использовать преобразование данных в собственных алгоритмах.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриСозданииНаСервере<span class="operator">(</span>Отказ<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    ОбъектТовар <span class="operator">=</span> Товары<span class="operator">.</span>НайтиПоНаименованию<span class="operator">(</span><span class="string">"Кофейник"</span><span class="operator">)</span><span class="operator">.</span>ПолучитьОбъект<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    ЗначениеВДанныеФормы<span class="operator">(</span>ОбъектТовар<span class="operator">,</span> Объект<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> Записать<span class="operator">(</span><span class="operator">)</span>
    ЗаписатьНаСервере<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ЗаписатьНаСервере<span class="operator">(</span><span class="operator">)</span>
    ОбъектТовар <span class="operator">=</span> ДанныеФормыВЗначение<span class="operator">(</span>Объект<span class="operator">,</span> Тип<span class="operator">(</span><span class="string">"СправочникОбъект.Товары"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    ОбъектТовар<span class="operator">.</span>Записать<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Также
у объекта <span class="Term">ФормаКлиентскогоПриложения</span>
существуют методы, доступные на сервере:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ЗначениеВРеквизитФормы()</span> &#8209; выполняет преобразование объекта прикладного типа
в заданный реквизит формы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">РеквизитФормыВЗначение()</span> &#8209; преобразует реквизит данных формы в объект
прикладного типа.</p>

<p class="MsoNormal">Использование
данных методов обычно удобнее, так как они имеют, например, информацию
о типе реквизита формы. Кроме того, метод <span class="Term">РеквизитФормыВЗначение()</span>
выполняет установку соответствия данных формы и объекта, которая
используется при формировании сообщений (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%206.%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D1%8B%D0%B9%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81.htm_?anchor=_ref220330559" target="_top">здесь</a>).</p>

<p class="MsoNormal">Также
следует помнить, что при преобразовании в данные формы (как с помощью
метода <span class="Term">ЗначениеВДанныеФормы()</span>,
так и с помощью метода <span class="Term">ЗначениеВРеквизитФормы()</span>)
объектов типа <span class="Term">ТаблицаЗначений</span>
или <span class="Term">ДеревоЗначений</span>
нужно учитывать следующую особенность: в преобразуемом объекте должны
существовать все колонки, которые существуют в данных формы.</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Колонки реквизитов, не связанные
с данными (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref227499547">здесь</a>), не участвуют в преобразовании значений между данными
формы и объектами информационной базы и обратно. Колонки,
отсутствующие в данных объекта, очищаются при преобразовании в данные
формы.<br><br>При переносе
объекта в данные формы платформой, или при вызове методов <span class="Term">ЗначениеВДанныеФормы()</span>, <span class="Term">ЗначениеВРеквизитФормы()</span>, переносятся только
данные объекта. Внутренние состояние объекта в данные формы не переносится.
Например, значение ссылки нового, которая установлена в объект методом <span class="Term">УстановитьСсылкуНового()</span>, будет утеряна
в процессе преобразования объекта в данные формы и обратно.</p>

</div>

<p class="MsoNormal">В качестве первого
параметра методов <span class="Term">РеквизитФормыВЗначение()</span>
и <span class="Term">ДанныеФормыВЗначение()</span>
могут выступать только реквизиты формы следующих типов: <span class="Term">ДанныеФормыСтруктура</span>, <span class="Term">ДанныеФормыКоллекция</span>, <span class="Term">ДанныеФормыСтруктураСКоллекцией</span>, <span class="Term">ДанныеФормыДерево</span>. Приведем пример
использования этих методов.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПересчитатьНаСервере<span class="operator">(</span><span class="operator">)</span>
    <span class="comment">// Преобразует реквизит Объект в прикладной объект.</span>
    Документ <span class="operator">=</span> РеквизитФормыВЗначение<span class="operator">(</span><span class="string">"Объект"</span><span class="operator">)</span><span class="operator">;</span>
    <span class="comment">// Выполняет пересчет методом, определенным в модуле документа.</span>
    Документ<span class="operator">.</span>Пересчитать<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    <span class="comment">// Преобразует прикладной объект обратно в реквизит.</span>
    ЗначениеВРеквизитФормы<span class="operator">(</span>Документ<span class="operator">,</span> <span class="string">"Объект"</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><a name="_toc298859892"></a><a name="_toc237692840"></a><a name="_ref221603703"></a><a name="_toc420398504"></a><a name="_toc164776096"></a><a id="TI000000396" class="bookmark" name="issogl2_7.2.4_свойства_реквизитов"><h3>7.2.4. Свойства реквизитов</h3></a>

<p class="MsoNormal">Данный раздел содержит описание некоторых
свойств реквизитов формы.</p>

<p class="MsoNormal"><span class="Interface">Заголовок</span> &#8209; текст, который
используется в качестве заголовка элемента формы, связанного с данным
реквизитом, если не задано свойство элемента формы <span class="Interface">Заголовок</span>.</p>

<p class="MsoNormal"><span class="Interface">Основной реквизит</span> &#8209; определяет, что
данный реквизит формы является основным и определяет расширение формы.</p>

<p class="MsoNormal"><span class="Interface">Сохраняемые данные</span> &#8209; если для
реквизита установлено это свойство, то интерактивное изменение такого реквизита
будет приводить:</p>

<p class="MsoListBullet">&#9679; 
К попытке блокировки связанного реквизита формы.</p>

<p class="MsoListBullet">&#9679; 
Установке признака изменения у формы (флаг <span class="Term">Модифицированность</span>).</p>

<p class="MsoListBullet">&#9679; 
Если у реквизита установлено свойство <span class="Interface">Сохраняемые данные</span>
и форма находится в режиме <span class="Interface">Только просмотр</span>,
то все элементы формы, связанные с этим реквизитом, также будут находиться
в состоянии <span class="Interface">Только просмотр</span>.</p>

<p class="MsoNormal"><span class="Interface">Проверка заполнения</span> &#8209; определяет
необходимость проверки данного реквизита на заполнение (значение свойства
равно <span class="Interface">Выдавать ошибку</span>).
Проверка заполнения возможна только для реквизитов следующих типов:</p>

<p class="MsoListBullet">&#9679; 
примитивных типов данных (<span class="Term">Число</span>,
<span class="Term">Строка</span>, <span class="Term">Булево</span>,
<span class="Term">Дата</span>, любые типы ссылок, стандартный период),</p>

<p class="MsoListBullet">&#9679; 
список значений,</p>

<p class="MsoListBullet">&#9679; 
дерево значений,</p>

<p class="MsoListBullet">&#9679; 
таблица значений.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span> Проверка заполнения
реквизитов выполняется аналогично функции <span class="Term">ЗначениеЗаполнено()</span>.
Проверка заполнения табличных частей подразумевает, что табличная часть
считается заполненной, когда в ней присутствует хотя бы одна строка.</p>

</div>

<a name="_ref343775697"></a><a name="_toc298859896"></a><a name="_ref277428095"></a><a name="_ref271715774"></a><a name="_toc237692843"></a><a name="_ref226351125"></a><a name="_toc164776097"></a><a id="TI000001654" class="bookmark" name="issogl1_7.3_специальные_типы_реквизитов_формы"><h2>7.3. Специальные типы реквизитов формы</h2></a>

<a name="_ref326171514"></a><a name="_ref326171513"></a><a name="_toc298859895"></a><a name="_toc420398506"></a><a name="_ref370224106"></a><span class="Hidden"></span><span class="Hidden"></span><a name="_toc164776098"></a><a id="TI000000395" class="bookmark" name="issogl2_7.3.1_динамический_список"><h3>7.3.1. Динамический список</h3></a>

<a name="_ref473220820"></a><a id="TI000001333" class="bookmark" name="issogl3_7.3.1.1_общая_информация"><h4>7.3.1.1. Общая информация</h4></a>

<p class="MsoNormal">Динамический
список является специальным типом данных, который позволяет отображать
на форме произвольную информацию из таблиц базы данных. Для этого
нужно указать таблицу, данные из которой необходимо отобразить, или
описать получаемую выборку на языке запросов.</p>

<p class="Regularbeforepicture">Механизм
основан на системе компоновки данных (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2010.%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85.htm_?anchor=_ref166301231" target="_top">здесь</a>) и предоставляет возможности для сортировки, отбора,
поиска, группировки и условного оформления получаемых данных. При этом
источником данных служит запрос, который либо формируется системой
автоматически (на основании указанных данных), либо пишется разработчиком
вручную.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:804/477" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00218.gif" width="804" alt="" height="477"></p>

<p class="MsoCaption"><a name="_ref145576879">Рис. </a>220. Варианты
создания динамического списка</p>

<p class="MsoNormal">При
создании реквизита формы типа <span class="Term">ДинамическийСписок</span> разработчик может выбрать
два способа формирования запроса к данным:</p>

<p class="MsoListBullet">&#9679; 
Заданием основной таблицы &#8209; в этом случае достаточно просто указать
таблицу (свойство <span class="Interface">Основная таблица</span>),
из которой необходимо получать данные, и система будет автоматически
формировать запрос к данным (см. правую часть на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576879">рис.220</a>).</p>

<p class="MsoListBullet">&#9679; 
Ручным формированием запроса &#8209; для этого нужно установить свойство <span class="Interface">Произвольный запрос</span>
(см. левую часть <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576879">рис.220</a>). После этого будет доступно ручное формирование
запроса получения данных из информационной базы.</p>

<p class="MsoNormal">С
помощью запроса можно выполнять выборку данных из нескольких таблиц,
поэтому можно указать основную таблицу. Это нужно для того, чтобы динамический
список мог определить, какие данные главные, а какие &#8209; второстепенные, и мог правильно выбирать
и отображать информацию, а также предоставлять стандартные команды.
Однако если в запросе невозможно определить основную таблицу, то ее можно
не указывать, но тогда динамический список не будет предоставлять команды,
связанные с основной таблицей. Кроме того, в этом случае (без
указания основной таблицы) будет существенно снижена эффективность получения
данных динамическим списком.</p>

<p class="MsoNormal">В
целях повышения производительности, рекомендуется все соединения, используемые
в произвольном запросе только для получения дополнительных данных, делать
необязательными с помощью расширения языка запросов системы компоновки
данных (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2010.%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85.htm_?anchor=_ref428962417" target="_top">здесь</a>).</p>

<p class="MsoNormal">Для
динамического списка, являющегося основным реквизитом формы, имеется
возможность устанавливать значения отбора с помощью параметра формы <span class="Term">Отбор</span> (подробнее о параметрах формы
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref277428095">здесь</a>). Для этого необходимо, чтобы имя свойства структуры,
находящееся в параметре <span class="Term">Отбор</span>, совпало с именем поля отбора
динамического списка. В этом случае значение свойства структуры будет
установлено в качестве правого значения элемента отбора. Если
в качестве значения элемента параметра <span class="Term">Отбор</span> формы динамического списка передан
массив, фиксированный массив или список значений, то в отбор добавляется
условие с вариантом <span class="Interface">В Списке</span>,
в правое значение которого помещается список значений (в который
преобразуются массив и фиксированный массив).</p>

<p class="MsoNormal">В
качестве произвольного запроса в динамическом списке может выступать
запрос, в котором для формирования значения какого-либо поля используется
параметр, например:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБРАТЬ</span>
    <span class="keyword">ВЫБОР</span>
        <span class="keyword">КОГДА</span> Доставка<span class="operator">.</span>Коэффициент <span class="operator">=</span> <span class="number">1</span>
            <span class="keyword">ТОГДА</span> &amp;Представление
        <span class="keyword">ИНАЧЕ</span> Доставка<span class="operator">.</span>Коэффициент
    <span class="keyword">КОНЕЦ</span> <span class="keyword">КАК</span> Коэффициент
<span class="keyword">ИЗ</span>
    Документ<span class="operator">.</span>ДоставкаПродукции <span class="keyword">КАК</span> Доставка</pre><p class="MsoNormal">При
этом если тип значения параметра отличается от типа реквизита объекта
(например, <span class="Term">Реквизит1</span> имеет тип <span class="Term">Число</span>, а значение параметра &#8209; тип <span class="Term">Строка</span>), то для корректного отображения поля
следует выполнить явное приведение значения параметра к нужному типу:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБРАТЬ</span>
    <span class="keyword">ВЫБОР</span>
        <span class="keyword">КОГДА</span> Доставка<span class="operator">.</span>Коэффициент <span class="operator">=</span> <span class="number">1</span>
            <span class="keyword">ТОГДА</span> ВЫРАЗИТЬ<span class="operator">(</span>&amp;Представление <span class="keyword">КАК</span> Строка<span class="operator">(</span><span class="number">100</span><span class="operator">)</span><span class="operator">)</span>
        <span class="keyword">ИНАЧЕ</span> Доставка<span class="operator">.</span>Коэффициент
    <span class="keyword">КОНЕЦ</span> <span class="keyword">КАК</span> Коэффициент
<span class="keyword">ИЗ</span>
    Документ<span class="operator">.</span>ДоставкаПродукции <span class="keyword">КАК</span> Доставка</pre><p class="MsoNormal">Если
поле, по которому устанавливается отбор, отключено с помощью
функциональных опций, то отбор по такому полю не устанавливается, даже
если значение отбора передано в качестве параметров формы или связей
параметров выбора.</p>

<p class="MsoNormal">С
помощью свойства <span class="Interface">Динамическое
считывание данных</span> динамическому списку указывается на необходимость
считывать данные небольшими порциями (подробнее про способы получения данных
динамическим списком и кешировании данных см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref441142953">здесь</a>). Независимо от этого признака действуют следующие
условия:</p>

<p class="MsoListBullet">&#9679; 
Если установлен режим просмотра в виде
иерархического списка, будут считываться только данные текущей группы
и данные всех родительских элементов (без подчиненных элементов).</p>

<p class="MsoListBullet">&#9679; 
Если установлен режим просмотра в виде
дерева, то будут считываться только данные открытых узлов дерева.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается единовременная загрузка данных
динамического списка в случае установленного иерархического просмотра
(свойство <span class="Interface">Отображение</span> установлено в значение <span class="Interface">Дерево</span>) и начальном отображении дерева,
установленном в значение <span class="Interface">Раскрывать все уровни</span>. Для получения данных будет выполнено
столько запросов к серверу, сколько узлов находится в отображаемом
списке.</p>

<p class="MsoNormal">Свойство <span class="Interface">Получение представлений для невидимых полей</span> управляет
получением представлений для полей списка, которые не отображаются
на форме или связаны с фактически невидимыми элементами формы:</p>

<p class="MsoListBullet">&#9679; 
свойство имеет значение <span class="Term">Истина</span> &#8209; для тонкого
и веб-клиента динамический список получает представления для всех полей
ссылочного типа, которые передаются на клиента.</p>

<p class="MsoListBullet">&#9679; 
свойство имеет значение <span class="Term">Ложь</span> &#8209; для тонкого
и веб-клиента динамический список получает представления только для тех полей
ссылочного типа, которые отображаются фактически видимыми элементами формы.
Если при этом таблица управляемой формы находится в режиме выбора, то
представление для ключевых полей получается в любом случае.</p>

<div>

<p class="Note"><span class="Note">Совет!</span> Для динамического списка
с большим количеством ссылочных полей, не связанных с колонками
таблицы или элементами формы, но имеющих установленный флаг <span class="Interface">Использовать всегда</span>, установка значения свойства <span class="Interface">Получение представлений для невидимых полей</span>
в значение <span class="Term">Ложь</span>
может привести к ускорению получению данных динамическим списком. Если,
однако, значения из таких полей каким-либо образом попадают
в элементы формы или участвуют в формировании текстовых строк &#8209; не следует устанавливать
свойство <span class="Interface">Получение представлений для невидимых полей</span>
в значение <span class="Term">Ложь</span>,
так как это приведет к дополнительным серверным вызовам для получения
представления.</p>

</div>

<p class="MsoNormal">В рамках одного получения данных,
динамический список повторно использует ранее созданные временные таблицы при
соблюдении следующих условий:</p>

<p class="MsoListBullet">&#9679; 
В пакетном запросе списка отсутствует запросы
после основного запроса пакета.</p>

<p class="MsoListBullet">&#9679; 
Состав временных таблиц и полей в них
неизменен с предыдущего выполнения пакетного запроса.</p>

<p class="MsoNormal">В своей работе динамический список
использует значения следующих свойств реквизитов объектов метаданных:</p>

<p class="MsoListBullet">&#9679; 
формат,</p>

<p class="MsoListBullet">&#9679; 
формат редактирования,</p>

<p class="MsoListBullet">&#9679; 
подсказка,</p>

<p class="MsoListBullet">&#9679; 
признак выделения отрицательных значений,</p>

<p class="MsoListBullet">&#9679; 
маска,</p>

<p class="MsoListBullet">&#9679; 
признак многострочного режима,</p>

<p class="MsoListBullet">&#9679; 
признак расширенного редактирования,</p>

<p class="MsoListBullet">&#9679; 
режим пароля.</p>

<p class="MsoNormal">При отображении и редактировании отбора
и параметров системы компоновки данных используется формат редактирования
соответствующего поля.</p>

<a name="_ref402959395"></a><a id="TI000001334" class="bookmark" name="issogl3_7.3.1.2_ограничения_и_особенности"><h4>7.3.1.2. Ограничения и особенности</h4></a>

<p class="MsoNormal">При
установке отбора в динамическом списке следует помнить, что отбор не
действует на группы, если для динамического списка выбран режим
отображения <span class="Interface">Иерархический список</span>
или <span class="Interface">Дерево</span>. Под
«группами» понимается элемент справочника или плана видов характеристик,
у которого свойство <span class="Term">ЭтоГруппа</span> установлено в значение <span class="Term">Истина</span>.</p>

<p class="MsoNormal">Отборы,
автоматически накладываемые динамическим списком на стандартные реквизиты <span class="Term">Владелец</span>, <span class="Term">Родитель</span>, <span class="Term">Дата</span>, <span class="Term">Период</span> и <span class="Term">ЭтоГруппа</span>, применяются стандартными средствами
системы компоновки данных. Отборы, автоматически накладываемые динамическим
списком на ключевые поля, могут применяться как стандартными средствами
системы компоновки данных так и путем непосредственного добавления
в текст запроса условия <span class="Term">В</span> на поля основной таблицы. В результате
применения отборов средствами компоновки, они могут примениться как во
вложенных запросах, так и в параметрах виртуальных таблиц.</p>

<p class="MsoNormal">При
разработке динамических списков рекомендуется проверить все динамические списки
с произвольными запросами. В процессе проверки следует убедиться, что если
в запросе списка присутствуют вложенные запросы или виртуальные таблицы,
и в них доступны для отбора поля с псевдонимами, совпадающими
с псевдонимами стандартных реквизитов <span class="Term">Владелец</span>, <span class="Term">Родитель</span>, <span class="Term">Дата</span>, <span class="Term">Период</span>, <span class="Term">ЭтоГруппа</span> или ключевых полей, то эти поля
действительно соответствуют стандартными реквизитам, с которыми у них
совпадает псевдоним. Если это не так &#8209; следует изменить запрос что бы они совпадали или
псевдоним отличался.</p>

<p class="MsoNormal">Если
выбрано ручное формирование запроса, то на запрос налагаются некоторые
ограничения:</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается использование инструкции <span class="Term">ПЕРВЫЕ</span> в запросе динамического списка.
При необходимости использовать в динамическом списке выборку, ограниченную
по количеству записей, следует переработать запрос формирования динамического
списка таким образом, чтобы собственно содержательная часть запроса была
размещена в подзапросе и ограничить количество получаемых записей
в этом подзапросе. Вместо подзапроса также можно использовать временную
таблицу.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается отбор, сортировка
и группировка:</p>

<p class="MsoListBullet2">&#9679; 
По реквизитам табличных частей.</p>

<p class="MsoListBullet2">&#9679; 
Поля представлений.</p>

<p class="MsoListBullet2">&#9679; 
Поле <span class="Term">ВерсияДанных</span>.</p>

<p class="MsoListBullet2">&#9679; 
Поле <span class="Term">ИмяПредопределенныхДанных</span>.</p>

<p class="MsoListBullet2">&#9679; 
Поле <span class="Term">Вид</span> таблицы плана счетов.</p>

<p class="MsoListBullet2">&#9679; 
Поле <span class="Term">ВидДвижения</span> таблицы регистра накопления.</p>

<p class="MsoListBullet2">&#9679; 
Поле <span class="Term">ТипЗначения</span> таблицы плана видов характеристик.</p>

<p class="MsoListBullet2">&#9679; 
Поле типа <span class="Term">Тип</span>;</p>

<p class="MsoListBullet2">&#9679; 
Поле типа <span class="Term">Строка</span> (неограниченной длины).</p>

<p class="MsoListBullet2">&#9679; 
Поле типа <span class="Term">ДвоичныеДанные</span>.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается сортировка и группировка
по полям <span class="Term">Субконто&lt;НомерСубконто&gt;</span> и <span class="Term">ВидСубконто&lt;НомерСубконто&gt;</span> таблицы <span class="Term">ДвиженияССубконто</span> регистра бухгалтерии.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается сортировка по полям,
которые имеют составной тип и состав которого (составного типа) содержит
более 100 типов. Такие поля будут исключены из списка доступных полей
порядка.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается группировка по полям,
которые представляют собой выражения языка запросов, содержащие агрегатные
функции.</p>

<p class="MsoListBullet">&#9679; 
При выбранной основной таблице, запрос
динамического списка имеет следующие ограничения:</p>

<p class="MsoListBullet2">&#9679; 
Не поддерживаются объединения.</p>

<p class="MsoListBullet2">&#9679; 
Не поддерживается использование секции <span class="Term">УПОРЯДОЧИТЬ ПО</span>. Следует использовать
запрос без основной таблицы или задавать необходимое упорядочивание через
настройки динамического списка.</p>

<p class="MsoListBullet">&#9679; 
Если динамический список отображается
в виде иерархического списка или дерева, то запись не будет отображена
динамическим списком, если не отображается хотя бы один родитель этой записи.
Другими словами &#8209; для отображения элемента иерархического списка,
динамический список должен отобразить также всех родителей этого элемента до
вершины списка. При этом под вершиной списка подразумевается или собственно
корневой элемент иерархического объекта, отображаемого динамическим списком или
элемент, установленный в качестве свойства <span class="Term">РодительВерхнегоУровня</span> расширения таблицы
формы для динамического списка.</p>

<p class="MsoNormal">Не
поддерживается использование в качестве основной таблицы динамического
списка следующих таблиц:</p>

<p class="MsoListBullet">&#9679; 
Таблица, для которой отсутствует ключ, уникально
идентифицирующий каждую запись таблицы (ссылка для объектных таблиц и ключ
записи для таблиц регистров). Однако следующие таблицы могут быть установлены
в качестве основной таблицы динамического списка (несмотря
на отсутствие ключа):</p>

<p class="MsoListBullet2">&#9679; 
таблица <span class="Term">Субконто</span> регистра бухгалтерии;</p>

<p class="MsoListBullet2">&#9679; 
все виртуальные таблицы регистра бухгалтерии,
кроме таблицы <span class="Term">ДвиженияССубконто</span>;</p>

<p class="MsoListBullet2">&#9679; 
таблицы значений констант (включая таблицу <span class="Term">Константы</span>);</p>

<p class="MsoListBullet2">&#9679; 
таблицы внешних источников данных
без ключевых полей;</p>

<p class="MsoListBullet2">&#9679; 
таблицы кубов внешних источников данных;</p>

<p class="MsoListBullet2">&#9679; 
таблицы регистра накопления:</p>

<p class="MsoListBullet3">&#9679; 
таблица оборотов;</p>

<p class="MsoListBullet3">&#9679; 
таблица остатков;</p>

<p class="MsoListBullet3">&#9679; 
таблица оборотов и остатков.</p>

<p class="MsoListBullet2">&#9679; 
таблицы регистра расчета:</p>

<p class="MsoListBullet3">&#9679; 
таблица фактического периода действия;</p>

<p class="MsoListBullet3">&#9679; 
данных графика;</p>

<p class="MsoListBullet3">&#9679; 
базовых данных.</p>

<p class="MsoListBullet">&#9679; 
Таблицы табличных частей объектов;</p>

<p class="MsoListBullet">&#9679; 
Таблицы регистрации изменений (используемые
в механизмах обмена данными);</p>

<p class="MsoListBullet">&#9679; 
Таблицы последовательностей;</p>

<p class="MsoListBullet">&#9679; 
Таблицы перерасчетов (используемые
в механизмах периодических расчетов).</p>

<p class="MsoListBullet">&#9679; 
Таблицы, которая используется в запросе
только во внешнем соединении.</p>

<p class="MsoNormal">Другими
словами, динамический список с указанной основной таблицей будет работать
корректно в том случае, если в результате выполнения запроса,
указанного в качестве источника данных, не увеличивается количество строк,
получаемых из основной таблицы (с учетом наложенного отбора). Если же
в результате выполнения запроса количество строк, получаемых запросом из основной
таблицы, увеличивается, это будет приводить к нарушению уникальности ключа
записей таблицы, отображаемой списком. В этом случае необходимо отключить
использование основной таблицы динамического списка.</p>

<p class="MsoNormal">При
работе динамического списка необходимо учитывать права доступа
на реквизиты, отображаемые списком:</p>

<p class="MsoListBullet">&#9679; 
На сторону клиента не передаются данные колонок
динамического списка, которые помечены свойством <span class="Interface">Использовать всегда</span>,
но для которых у текущего пользователя отсутствует право <span class="Term">Просмотр</span>. Доступ к данным таких колонок
(с помощью свойства <span class="Term">ТекущиеДанные</span> и метода <span class="Term">ДанныеСтроки()</span>) на стороне клиента
невозможен.</p>

<p class="MsoListBullet">&#9679; 
Если у текущего пользователя отсутствует
право <span class="Term">Просмотр</span> на ключевое поле динамического
списка, получение данных этим динамическим список приводит к ошибке
нарушения прав доступа.</p>

<p class="MsoNormal">Для
динамического списка, который отображает список перечисления, отсутствует
возможность интерактивной настройки списка.</p>

<p class="MsoNormal">Состав колонок и настройки динамического списка
связаны с полями запроса по псевдонимам полей выборки. Если
в запросе для поля выборки псевдоним не задан явно и поле является
системным, то в качестве псевдонима используется имя поля для английского
варианта встроенного языка. Указанная связь означает, что при изменении (или
явном указании псевдонима для поля, у которого использовался
автоматический псевдоним) псевдонима поля запроса, формирующего данные
динамического список, будут утеряны настройки реквизита динамического списка,
элементы формы «потеряют» отображаемые реквизиты, настройки динамического списка
станут неверными и т. д.</p>

<p class="MsoNormal">В
том случае, если источником данных динамического списка является таблица
(обычная или виртуальная), которая позволяет устанавливать отбор
по периоду, то в том случае, если пользователь устанавливает период
отображения в таком динамическом списке (команда <span class="Interface">Установить интервал
дат…</span>), заданные границы периода будут установлены в качестве
значений отбора или параметров виртуальной таблицы. Если средствами расширения
языка запросов для системы компоновки данных были явно указаны имена параметров
виртуальной таблицы &#8209; будут установлены параметры с заданными
именами. Таблицы, для которых возможно управлять периодом отображения или
обработки данных:</p>

<p class="MsoListBullet">&#9679; 
таблицы регистров (основные или виртуальные),
для которых существует возможность отбора по периоду (для регистра расчета &#8209; по периоду регистрации);</p>

<p class="MsoListBullet">&#9679; 
основные таблицы документов, бизнес-процессов
и задач;</p>

<p class="MsoListBullet">&#9679; 
основные таблицы журналов документов;</p>

<p class="MsoListBullet">&#9679; 
основные таблицы последовательностей, таблицы
границ последовательностей.</p>

<p class="MsoNormal">В
качестве параметра запроса динамического списка может выступать массив или
список значений. В случае если динамический список использует запрос
с параметрами, первоначальная установка значений параметров должна
выполняться в обработчике <span class="Term">ПриСозданииНаСервере</span>.</p>

<p class="MsoNormal">При
отображении данных динамического списка следует помнить о следующих
особенностях:</p>

<p class="MsoListBullet">&#9679; 
При программном изменении свойств динамического
списка не происходит автоматического повторного заполнения командных панелей,
связанных с этим динамическим списком.</p>

<p class="MsoListBullet">&#9679; 
Если несколько полей сгруппированы в группу
с режимом группировки <span class="Interface">В ячейке</span>
и в сгруппированных полях есть поле, которое отображается флажком, то
этот флажок всегда будет отображаться первым в получившейся ячейке (левее
текста).</p>

<p class="MsoListBullet">&#9679; 
Для строк группировок не применяется никакое
оформление: условное оформление динамического списка, условное оформление
формы, оформление от настроек колонок таблицы (<span class="Term">Формат</span>, <span class="Term">Шрифт</span> и т. п.).</p>

<p class="MsoNormal">В
динамическом списке, при определении типа данных для полей, в состав
выражений которых входят параметры, поля или литералы, результирующий тип
определяется по типам полей и литералов. Если тип значения параметра
не входит в результирующий тип данных &#8209; его значение будет усечено.</p>

<p class="MsoNormal">Например,
в следующем примере поле будет иметь тип <span class="Term">Число</span>.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБОР</span>
    <span class="keyword">КОГДА</span> <span class="keyword">Ложь</span>
    <span class="keyword">ТОГДА</span> <span class="number">5</span>
    <span class="keyword">ИНАЧЕ</span> &amp;Параметр
<span class="keyword">КОНЕЦ</span></pre><p class="MsoNormal">Если
присвоить параметру <span class="Term">Параметр</span> значение другого типа,
в динамический список для этого поля будет получать значение <span class="Term">0</span> (значение по умолчанию для типа <span class="Term">Число</span>).</p>

<p class="MsoNormal">Если
в подобной ситуации требуется выбирать параметр другого типа &#8209; рекомендуется использовать конструкцию языка
запросов <span class="Term">ВЫРАЗИТЬ</span>. Например, если в приведенном
выше примере требуется передавать в параметр строку не длиннее 100
символов, то следует заменить простое указание параметра, на выражение
с явным приведением типа:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБОР</span>
    <span class="keyword">КОГДА</span> <span class="keyword">Ложь</span>
    <span class="keyword">ТОГДА</span> <span class="number">5</span>
    <span class="keyword">ИНАЧЕ</span> ВЫРАЗИТЬ<span class="operator">(</span>&amp;Параметр <span class="keyword">КАК</span> Строка<span class="operator">(</span><span class="number">100</span><span class="operator">)</span><span class="operator">)</span>
<span class="keyword">КОНЕЦ</span></pre><p class="MsoNormal">В
полях составного типа данных динамического списка не могут содержаться значения
типа <span class="Term">NULL</span>.
При наличии в результате запроса динамического списка, в поле
составного типа, значений типа <span class="Term">NULL</span>
они заменяются на значения по умолчанию для этого поля.</p>

<p class="MsoNormal">Например,
в списке с произвольным запросом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБРАТЬ</span>
    <span class="keyword">ВЫБОР</span>
        <span class="keyword">КОГДА</span> <span class="keyword">ЛОЖЬ</span>
        <span class="keyword">ТОГДА</span> <span class="number">1</span>
    <span class="keyword">КОНЕЦ</span> <span class="keyword">КАК</span> Поле</pre><p class="MsoNormal">Значением
<span class="Term">Поле</span> будет <span class="Term">0</span>, а не <span class="Term">NULL</span>,
как можно ожидать исходя из текста запроса.</p>

<p class="MsoNormal">Если
в произвольном тексте запроса динамического списка в выражениях полей
выборки используются параметры &#8209; следует явно указать тип параметров при помощи
конструкции <span class="Term">ВЫРАЗИТЬ</span>. Например, вместо <span class="Term">&amp;Номенклатура КАК Номеклатура</span> использовать
<span class="Term">ВЫРАЗИТЬ(&amp;Номенклатура КАК Справочник.Номенклатура) КАК
Номенклатура</span>. В противном случае поиск через строку поиска может
работать некорректно или выдавать ошибки.</p>

<a name="_ref441142953"></a><a id="TI000001335" class="bookmark" name="issogl3_7.3.1.3_способы_получения_и_кеширования_данных_динамическим_списком"><h4>7.3.1.3. Способы получения и кеширования данных динамическим списком</h4></a>

<p class="MsoNormal">При
получении данных для отображения динамический список использует один
из трех способов:</p>

<p class="List1">1. 
Считывание из базы данных выполняется
порциями с количеством элементов данных, несколько превышающим количество
строк, одновременно отображаемых списком (но не менее 20). Не выполняется
кеширование данных на сервере.</p>

<p class="MsoListNumberCxSpLast">2.  Считывание
из базы данных выполняется страницами по 1 000 элементов данных.
Выполняется кеширование данных на сервере. Иерархические данные
кешируются: для каждого родителя кешируется не более 2 страниц элементов. На
один динамический список кешируется не более 20 страниц элементов. Кеширование
будет включено динамическим списком для следующих таблиц:</p>

<p class="MsoListBullet2">&#9679; 
Критерий отбора;</p>

<p class="MsoListBullet2">&#9679; 
Все таблицы регистра бухгалтерии, кроме основной
таблицы и таблицы <span class="Term">ДвиженияССубконто</span>;</p>

<p class="MsoListBullet2">&#9679; 
Все таблицы регистра накопления, кроме основной
таблицы;</p>

<p class="MsoListBullet2">&#9679; 
Все таблицы регистра сведений, кроме основной
таблицы;</p>

<p class="MsoListBullet2">&#9679; 
Все таблицы регистра расчета, кроме основной
таблицы;</p>

<p class="MsoListBullet2">&#9679; 
Виртуальная таблица <span class="Term">ЗадачиПоИсполнителю</span>;</p>

<p class="MsoListBullet2">&#9679; 
Таблицы внешних источников без ключей;</p>

<p class="MsoListBullet2">&#9679; 
Кубы внешних источников.</p>

<p class="MsoListNumber">3.  Считывание
из базы данных выполняется страницами по 1 000 элементов. Первая
порция равна 1 странице. Каждая следующая порция увеличивается на 1
страницу (при достижении конца предыдущей выборки). Чем ближе передвигается
«точка просмотра» к концу отображаемых данных, тем большая выборка
считывается из базы данных, в пределе становясь равной всем
отображаемым данным. Выполняется кеширование данных на сервере.
Максимальное количество записей в кеше и динамическом списке &#8209; 1 000 000.</p>

<p class="MsoNormal">В
зависимости от того, что выбрано основной таблицей динамического списка и какое
значение принимает свойство <span class="Interface">Динамическое
считывание данных</span>, используются те или иные способы считывания данных:</p>

<p class="MsoListBullet">&#9679; 
В качестве значения свойства <span class="Interface">Основная таблица</span>
указана одна из следующих таблиц: план обмена, справочник, список документов,
журнал документов, план видов характеристик, план счетов, план видов расчета,
бизнес-процесс, задача, таблица точек бизнес-процесса:</p>

<p class="MsoListBullet2">&#9679; 
Ключ, идентифицирующий строку таблицы: <span class="Term">Ссылка</span>.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Динамическое
считывание данных</span>:</p>

<p class="MsoListBullet3">&#9679; 
Установлено: используется способ 1 (описание способов
приведено выше).</p>

<p class="MsoListBullet3">&#9679; 
Сброшено: используется способ 2 (описание
способов приведено выше).</p>

<p class="MsoListBullet">&#9679; 
В качестве значения свойства <span class="Interface">Основная таблица</span>
указана одна из следующих таблиц: основная таблица регистра сведений,
регистра накопления, регистра бухгалтерии, регистра расчета, виртуальная
таблица регистра бухгалтерии <span class="Term">ДвиженияССубконто</span>:</p>

<p class="MsoListBullet2">&#9679; 
Ключ, идентифицирующий строку таблицы: <span class="Term">КлючЗаписи</span>.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Динамическое
считывание данных</span>:</p>

<p class="MsoListBullet3">&#9679; 
Установлено: используется способ 1 (описание
способов приведено выше).</p>

<p class="MsoListBullet3">&#9679; 
Сброшено: используется способ 2 (описание
способов приведено выше).</p>

<p class="MsoListBullet">&#9679; 
В качестве свойства <span class="Interface">Основная таблица</span>
указана таблица критерия отбора или таблица задач по исполнителю (<span class="Term">ЗадачиПоИсполнителю</span>):</p>

<p class="MsoListBullet2">&#9679; 
Ключ, идентифицирующий строку таблицы: <span class="Term">Ссылка</span>.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Динамическое
считывание данных</span> не применимо.</p>

<p class="MsoListBullet2">&#9679; 
Используется способ 2 (описание способов
приведено выше).</p>

<p class="MsoListBullet">&#9679; 
В качестве свойства <span class="Interface">Основная таблица</span>
указана виртуальная таблица регистра сведений <span class="Term">СрезПервых</span> или <span class="Term">СрезПоследних</span>:</p>

<p class="MsoListBullet2">&#9679; 
Ключ, идентифицирующий строку таблицы: <span class="Term">КлючЗаписи</span>.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Динамическое
считывание данных</span> не применимо.</p>

<p class="MsoListBullet2">&#9679; 
Используется способ 2 (описание способов
приведено выше).</p>

<p class="MsoListBullet">&#9679; 
В качестве свойства <span class="Interface">Основная таблица</span>
указана одна из виртуальных таблицы регистров, кроме перечисленных выше:</p>

<p class="MsoListBullet2">&#9679; 
Ключ, идентифицирующий строку таблицы: <span class="Term">Число</span>.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Динамическое
считывание данных</span> не применимо.</p>

<p class="MsoListBullet2">&#9679; 
Используется способ 3 (описание способов
приведено выше).</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Основная таблица</span>
не указано, используется произвольный запрос: поведение зависит от свойств
Вид ключа, Поля ключа и Динамическое считывание данных. Подробное описание
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref524612751">здесь</a>.</p>

<p class="MsoNormal">Для
отображения данные передаются на клиента порциями, размер которых
аналогичен размеру порции в 1-м способе считывания данных (описан
в начале данного раздела).</p>

<p class="MsoNormal">При
создании формы, содержащей динамический список, первоначально на клиента
передается 45 элементов данных каждого видимого динамического списка (если
в списке более 45 элементов). Если динамический список отображает более 45
строк, то при открытии формы будет выполнен дополнительный серверный вызов для
получения недостающих элементов данных.</p>

<a name="_ref524612913"></a><a name="_ref524612751"></a><a id="TI000002103" class="bookmark" name="issogl3_7.3.1.4_настройка_способа_получения_и_кеширования_данных_динамического_списка_без_основной_таблицы"><h4>7.3.1.4. Настройка способа получения и кеширования данных динамического списка без основной таблицы</h4></a>

<p class="MsoNormal">Если в динамическом списке используется
основная таблица, то система «1С:Предприятие» знает, как устроена эта таблица,
и выбирает в соответствии с этим знанием режим чтения. В
подавляющем количестве случаев получается обеспечить достаточно оптимальный (с
точки зрения используемых ресурсов) способ получения данных для такого динамического
списка. В том случае, когда в динамическом списке используется
произвольный запрос и не указана основная таблица, «1С:Предприятие» не
в состоянии определить, какие данные выступают в виде ключа таблицы
и как можно эффективно получать данные такого списка. Кроме этого,
разработчику может потребоваться указать собственный ключ для данных, которые
отображаются динамическим списком. Например, в таблице справочника ключом
выступает ссылка. Но разработчика не устраивает такой ключ.</p>

<p class="MsoNormal">Для того, чтобы указать системе
«1С:Предприятие» параметры ключа для данных произвольного запроса
без основной таблицы, редактор запроса динамического списка предлагает
следующие свойства, которые становятся доступными в том случае, если
свойство <span class="Interface">Основная таблица</span>
не заполнено:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Вид ключа</span> &#8209; указывает, каким образом будет формироваться ключ
строки динамического списка.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Поля ключа</span> &#8209; содержит список полей, которые будут входить
в состав ключа. Доступность свойства определяется конкретным значением
поля <span class="Interface">Вид ключа</span>.</p>

<p class="Regularbeforepicture">Принимая
решение о виде и составе данных, входящих в состав ключа, нужно
помнить, сформированный ключ должен обеспечивать уникальное значение всех
строк, которые будет возращать запрос динамического списка. Если это требование
не выполняется &#8209; динамический список не будет отображаться
с выдачей сообщения о неуникальности ключа.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:588/451" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00219.gif" width="588" alt="" height="451"></p>

<p class="MsoCaption">Рис.
221. Произвольный запрос динамического списка</p>

<p class="MsoNormal">Рассмотрим
свойства, предназначенные для формирования ключа, более подробно.</p>

<p class="MsoNormal">Значение
свойства <span class="Interface">Вид ключа</span> может
принимать следующие значения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Значение поля</span> &#8209; в данном случае принимается, что
у данных, возвращаемых запросом, одно ключевое поле. Поле, выступающее
в роли ключа, определяется свойством <span class="Interface">Поля ключа</span>.</p>

<p class="Indentlist">Тип
значения свойства <span class="Term">ТекущаяСтрока</span>: тип значения поля, выбранного
полем ключа.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Ключ строки</span> &#8209; в данном случае принимается, что ключ включает
несколько полей. Одно поле также является допустимым вариантом. Для указания
полей, входящих в состав ключа, предназначено свойство <span class="Interface">Поля ключа</span>.</p>

<p class="Indentlist">Тип
значения свойства <span class="Term">ТекущаяСтрока</span>: значение типа <span class="Term">КлючСтрокиДинамическогоСписка</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Номер строки</span> &#8209; используется в том случае, когда для данных,
возвращаемых запросом динамического списка, невозможно определить ключ. В этом
случае ключом будет порядковый номер записи от начала выборки.</p>

<p class="Indentlist">Тип
значения свойства <span class="Term">ТекущаяСтрока</span>: значение типа <span class="Term">Число</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; в этом случае платформа пытается определить
вид ключа на основании свойства <span class="Interface">Поля ключа</span>
и заполненности свойства <span class="Interface">Основная таблица</span>:</p>

<p class="MsoListBullet2">&#9679; 
Основная таблица не указана:</p>

<p class="MsoListBullet3">&#9679; 
Поля ключа не заданы. В этом случае платформа
будет использовать в качестве вида ключа значение <span class="Interface">Номер строки</span>.</p>

<p class="MsoListBullet3">&#9679; 
В полях ключа указано одно значение. В этом
случае платформа будет использовать в качестве вида ключа значение <span class="Interface">Значение поля</span>.</p>

<p class="MsoListBullet3">&#9679; 
В полях ключа указано несколько значений. В этом
случае платформа будет использовать в качестве вида ключа значение <span class="Interface">Ключ строки</span>.</p>

<p class="MsoListBullet2">&#9679; 
Основная таблица указана:</p>

<p class="MsoListBullet3">&#9679; 
Используемый вид ключа зависит
от используемой таблицы. Связь основной таблицы и используемого ключа
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref441142953">здесь</a>.</p>

<p class="MsoNormal">В
свойстве <span class="Interface">Поля ключа</span>
предоставляется возможность выбрать одно или несколько полей, которые участвуют
в формировании ключа записи. В списке доступных полей перечисляются все
доступные поля запроса динамического списка, которые соответствуют следующим
ограничениям:</p>

<p class="MsoListBullet">&#9679; 
Поле может использоваться для отображения
в динамическом списке, а также использоваться для отбора
и упорядочивания с доступными видами сравнения <span class="Interface">Равно</span> и <span class="Interface">В списке</span>.</p>

<p class="MsoListBullet">&#9679; 
Если поле является полем ключа с видом <span class="Interface">Значение поля</span>,
то среди значений этого поля не допускаются значения <span class="Term">Неопределено</span> и <span class="Term">NULL</span>.</p>

<p class="Regularbeforetable">Свойство
<span class="Interface">Динамическое
считывание данных</span> можно изменять в том случае, когда
в качестве вида ключа выбраны значения <span class="Interface">Значение поля</span>
или <span class="Interface">Ключ строки</span>.
Способы считывания данных динамическим списком зависит от того, какой вид
ключа выбран у списка и в каком состоянии флажок <span class="Interface">Динамическое
считывание данных</span>:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Вид
   ключа</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Включено
   динамическое считывание данных</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Выключено
   динамическое считывание данных</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">Значение поля</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Способ 1</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Способ 2</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Ключ строки</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Способ 1</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Способ 2</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Номер строки</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Не применимо</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Способ 3</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Описание
способов считывания данных динамическим списком см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref441142953">здесь</a>.</p>

<a id="TI000001336" class="bookmark" name="issogl3_7.3.1.5_настройки_динамического_списка"><h4>7.3.1.5. Настройки динамического списка</h4></a>

<p class="Regularbeforepicture">Свойство
<span class="Interface">Настройка списка</span> &#8209; нажатие на гиперссылку <span class="Interface">Открыть</span>
приводит к открытию формы настройки отображения динамического списка.
Настройка списка выполняется таким же образом, как и аналогичные операции
в системе компоновки данных.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:760/461" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00220.gif" width="760" alt="" height="461"></p>

<p class="MsoCaption">Рис.
222. Условное оформление динамического списка</p>

<p class="MsoNormal">Во
время настройки динамического списка в конфигурации разработчик
прикладного решения имеет возможность сделать следующее:</p>

<p class="MsoListBullet">&#9679; 
задать поля, по которым необходимо
проводить упорядочивание;</p>

<p class="MsoListBullet">&#9679; 
описать отбор данных в списке;</p>

<p class="MsoListBullet">&#9679; 
указать настройки условного оформления;</p>

<p class="MsoListBullet">&#9679; 
задать поля, по которым необходимо
группировать данные.</p>

<p class="MsoNormal">Задавать
сортировку разработчику имеет смысл, если не устраивает устанавливаемая
системой сортировка по умолчанию.</p>

<div>

<p class="Note"><span class="Note">Совет.</span> Следует помнить о том, что неудачный выбор
полей сортировки (равно как отбора и группировки данных) негативно влияет
на эффективность динамической выборки.</p>

</div>

<p class="MsoNormal">С
точки зрения прикладного разработчика, настройки динамического списка состоят
из нескольких частей, которые связаны между собой. Основным свойством,
через которое можно управлять настройками динамического списка является <span class="Term">КомпоновщикНастроек</span>. Это объект содержит три
набора настроек, которые при работе системы определяют окончательные настройки,
применяемые к динамическому списку:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Настройки</span> &#8209; настройки,
созданные в режиме Конфигуратора. Свойство динамического списка <span class="Term">Порядок</span>
предоставляет быстрый доступ к свойству <span class="Term">Настройки.Порядок</span>
компоновщика настроек динамического списка, таким образом, следующие
конструкции являются эквивалентными: <span class="Term">Список.Порядок</span>
и <span class="Term">Список.КомпоновщикНастроек.Настройки.Порядок</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПользовательскиеНастройки</span> &#8209; это настройки, которые изменяет пользователь
в режиме «1С:Предприятие»;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ФиксированныеНастройки</span> &#8209; эти настройки задаются из встроенного языка.
Также в это свойство попадают значения отбора, которые передаются
в форму с помощью ее параметров. Свойства динамического списка <span class="Term">Отбор</span>, <span class="Term">Параметры</span>, <span class="Term">УсловноеОформление</span> предоставляют быстрый
доступ к фиксированным настройкам компоновщика настроек динамического списка.
Другими словами, данные обращения являются эквивалентными: <span class="Term">Список.КомпоновщикНастроек.ФиксированныеНастройки</span><span class="Term">.Отбор</span> и <span class="Term">Список.Отбор</span>.</p>

<p class="MsoNormal">При
формировании окончательной настройки динамического списка, различные варианты
настроек комбинируются следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Если какой-либо вид настроек целиком отмечен как
пользовательский, то в результирующие настройки попадают пользовательские
настройки (<span class="Term">Список.КомпоновщикНастроек.ПользовательскиеНастройки</span>). При этом если какие-либо элементы
настроек отмечены как недоступные, то эти настройки будет помещены
в результирующие настройки из свойства <span class="Term">Список.КомпоновщикНастроек.Настройки</span>.</p>

<p class="MsoListBullet">&#9679; 
Если какой-либо вид настроек отмечен как
пользовательский не целиком, а поэлементно, то:</p>

<p class="MsoListBullet2">&#9679; 
Элементы, отмеченные как пользовательские,
попадут в результирующие настройки из свойства <span class="Term">Список.КомпоновщикНастроек.ПользовательскиеНастройки</span>.</p>

<p class="MsoListBullet2">&#9679; 
Элементы, отмеченные как недоступные, попадут
в результирующие настройки из свойства <span class="Term">Список.КомпоновщикНастроек.Настройки</span>.</p>

<p class="MsoListBullet">&#9679; 
Фиксированные настройки (<span class="Term">Список.КомпоновщикНастроек.ФиксированныеНастройки</span>)
добавляются в результирующие настройки «как есть». При этом недопустима
ситуация, когда в фиксированных и пользовательских настройках есть
одноименные настройки, например отбор с одинаковым левым значением
в условии.</p>

<p class="MsoNormal">Если в настройках динамического списка присутствуют
настройки, которые отключены с помощью функциональных опций, эти настройки
будут удалены из списка доступных настроек при получении данных
динамического списка.</p>

<p class="Regularbeforepicture">Управление
тем, какие настройки будут доступны пользователю, а какие &#8209; нет, выполняется в окне настройки
динамического списка.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:760/461" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00221.gif" width="760" alt="" height="461"></p>

<p class="MsoCaption"><a name="_ref145576913">Рис. </a>223. Управление
включением в пользовательские настройки</p>

<p class="MsoNormal">Флажок
в нижней части окна (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576913">рис. 223</a>) отвечает за размещение в настройках (обычных или
быстрых) всего вида настроек. Эта возможность доступна для отбора, порядка,
группировки и условного оформления. Если настройки указаны с режимом
редактирования <span class="Interface">Быстрый выбор</span>,
то в свойстве <span class="Interface">Группа
пользовательских настроек</span> таблицы формы, отображающей динамический
список, необходимо указать пустую группу формы, в которой будут
располагаться элементы, связанные с быстрыми пользовательскими настройками
динамического списка. Если группа не указана &#8209; быстрые пользовательские настройки не будут
отображены на форме. Также имеется возможность явно вызвать создание
пользовательских настроек с помощью встроенного языка с помощью
метода <span class="Term">СоздатьЭлементыФормыПользовательскихНастроек</span><span class="Term">()</span> расширения динамического списка.</p>

<p class="MsoNormal">Также
имеется возможность выбирать возможность размещения в пользовательских
настройках конкретных элементов настроек. Эта возможность доступна для
элементов отбора и условного оформления (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576913">рис.223</a>).</p>

<p class="MsoNormal">Если
необходимо, чтобы при открытии динамического списка были загружены какие-либо
специальные настройки, то это можно сделать двумя способами:</p>

<p class="MsoListBullet">&#9679; 
С помощью параметра формы динамического списка <span class="Term">ПользовательскиеНастройки</span>. Данные,
содержащиеся в этом параметре, будут помещены в пользовательские
настройки динамического списка.</p>

<p class="MsoListBullet">&#9679; 
С помощью параметра формы динамического списка <span class="Term">КлючПользовательскихНастроек</span>. Если при
открытии формы указать этот параметр, то в динамический список, являющийся
основным реквизитом формы, будут загружены пользовательские настройки,
расположенные в хранилище настроек с указанным ключом.</p>

<a name="_ref328408060"></a><a name="_ref328408059"></a><a name="_toc298859893"></a><a name="_toc237692841"></a><a name="_ref377645922"></a><span class="Hidden"></span><span class="Hidden"></span><a id="TI000001337" class="bookmark" name="issogl3_7.3.1.6_поиск_в_динамическом_списке"><h4>7.3.1.6. Поиск в динамическом списке</h4></a>

<p class="MsoNormal">Динамический
список, расположенный на форме, предоставляет возможность выполнять
интерактивный поиск в отображаемых данных. Управление интерактивными
инструментами поиска осуществляется с помощью дополнений элемента формы
(см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref377996546">здесь</a>).</p>

<p class="MsoNormal">Касательно
поиска в динамическом списке, следует отметить следующий момент:
переопределение представления значений любым способом обычно делает поведение
поиска в динамическом списке непредсказуемым для пользователя.
Переопределение представлений может выполняться разными способами: обработчик <span class="Term">ОбработкаПолученияПолейПредставления()</span>
(см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref381267196" target="_top">здесь</a>), обработчик динамического списка <span class="Term">ПриПолученииДанныхНаСервере()</span>
(см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref469672940">здесь</a>), выражение представления полей компоновки данных, условное
оформление динамического списка или формы. Проблемы
восприятия пользователем будут связаны с тем, что переопределение
представления значений используется только при использовании строки поиска
динамического списка. Этот вид поиска будет использовать стандартные представления
полей, которые указаны в качестве полей, используемых для формирования
представления в обработчике <span class="Term">ОбработкаПолученияПолейПредставления()</span>
соответствующего объекта. Поэтому, при поиске в динамическом списке
с переопределенными представлениями значений, в общем случае, следует
исходить из следующей предпосылки: поиск выполняется по одному
тексту, а пользователь будет видеть другой.</p>

<p class="MsoNormal">Рассмотрим
особенности использования поиска в динамическом списке:</p>

<p class="MsoListBullet">&#9679; 
Для того чтобы поиском было удобно пользоваться
(в том числе и с точки зрения быстродействия) необходимо включить
полнотекстовый поиск для всех объектов конфигурации, которые могут
использоваться в качестве основной таблицы динамического списка. Также
в полнотекстовом поиске должны участвовать все реквизиты объектов
конфигурации, которые могут отображаться в динамическом списке и по
которым может потребоваться поиск.</p>

<p class="Indentlist">Если
объект исключен из полнотекстового поиска, то рассматриваемый механизм
поиска будет работать, но производительность такого поиска будет крайне низкой.
Не рекомендуется использовать поиск по объектам, которые не индексируются
полнотекстовым поиском.</p>

<p class="MsoListBullet">&#9679; 
В прикладном решении должно быть регламентное
задание, которое регулярно обновляет индекс полнотекстового поиска.</p>

<p class="MsoListBullet">&#9679; 
Поиск выполняется не по всем колонкам
динамического списка (и объекта конфигурации), а только по тем
колонкам, которые отображаются в таблице.</p>

<p class="MsoListBullet">&#9679; 
Для динамических списков с указанной
основной таблицей используется полнотекстовый поиск по основной таблице. К
результатам полнотекстового поиска будут добавлены все непроиндексированные
ссылки из основной таблицы. Результат полнотекстового поиска для основной
таблицы используется в качестве отбора по ключевым полям. Также
выполняется полнотекстовый поиск по полям, отображаемым в списке
из других таблиц (если для поля и объекта конфигурации используется
полнотекстовый поиск). Без включенного полнотекстового поиска данные могут быть
найдены, но сам поиск будет выполняться очень медленно.</p>

<p class="Indentlist">Если
при попытке выполнить полнотекстовый поиска произошла ошибка, поиск будет
выполняться без применения полнотекстового поиска. Например, такое может
произойти при поиске по одной букве и большому количеству строк
в информационной базе, начинающихся с этой буквы.</p>

<p class="MsoListBullet">&#9679; 
В том случае, если для поля основной таблицы динамического
списка используется отбор с видом сравнения <span class="Interface">Равно</span>, то при
выполнении полнотекстового поиска к поисковому запросу по этой
таблице будет добавлено значение отбора.</p>

<p class="MsoListBullet">&#9679; 
Строка поиска разбивается на слова. Строка
поиска не должна быть длиннее 1 000 символов, а количество слов,
полученных при разбиении, не должно быть больше 32. Разбиение выполняется
по следующим правилам:</p>

<p class="MsoListBullet2">&#9679; 
Строка разбивается, используя символы пробела,
неразрывного пробела и табуляции в качестве разделителей.</p>

<p class="MsoListBullet2">&#9679; 
Затем обрабатывается каждый получившийся
фрагмент и если фрагмент является представлением даты (с временем или
без него) с учетом текущих региональных установок сеанса, то словом
является этот фрагмент. В противном случае в качестве слова принимается
каждый получившийся фрагмент строки.</p>

<p class="MsoListBullet">&#9679; 
Для каждого слова формируется свой набор
условий, которые объединяются «по ИЛИ». Этот набор условий формируется
в том случае, если полнотекстовый поиск данного слова в таблице,
из которой было получено данное поле, вернул хотя бы один объект или
полнотекстовый поиск не использовался для этого поля. Условия формируются
следующим образом:</p>

<p class="MsoListBullet2">&#9679; 
Для поля типа <span class="Term">Строка</span> условие имеет вид <span class="Term">ИмяПоля ПОДОБНО %Слово%</span>.</p>

<p class="MsoListBullet2">&#9679; 
Для поля типа <span class="Term">Число</span> условие имеет вид <span class="Term">ИмяПоля=Значение</span>, где <span class="Term">Значение</span> &#8209; это слово, которое приведено к типу <span class="Term">Число</span>. Если приведение выполнить невозможно &#8209; поиск по полю выполняться не будет.</p>

<p class="MsoListBullet2">&#9679; 
Слово ищется как подстрока в представлении
по умолчанию для типа <span class="Term">Булево</span>, определенное для текущего сеанса. Если
искомое слово обнаружено в представлении, то в дальнейшем выполняется
поиск значения, соответствующего представлению, в котором обнаружено
слово. При этом для поиска не используются представления, которые заданы
с помощью свойства элемента формы <span class="Term">Формат</span>.</p>

<p class="MsoListBullet2">&#9679; 
Для поля типа <span class="Term">Дата</span> условие имеет вид <span class="Term">ИмяПоля&gt;= НачалоДня(Слово) И ИмяПоля&lt;=КонецДня(Слово)</span>.
Если <span class="Term">Слово</span> подобно дате, в которой год указан
одной или двумя цифрами, год будет приведен к текущему веку и уже это
значение будет подсталяться в поисковое условие.</p>

<p class="MsoListBullet2">&#9679; 
Для ссылочных полей выполняется поиск
по полям, использующимся для формирования представления ссылки. В каждом
из этих полей поиск выполняется по правилам, описанным выше. Для
поиска не используются поля, используемые для формирования произвольного
представления данных (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref381267196" target="_top">здесь</a>).</p>

<p class="Indentlist">Набор
условий для каждого слова объединяются «по И».</p>

<p class="MsoListBullet">&#9679; 
Для значений с ведущими нулями, выполнять
поиск можно как по строке с ведущими нулями, так и по строке,
указанной без ведущих нулей.</p>

<p class="MsoListBullet">&#9679; 
Если динамический список отображает список
документов или журнал документов, то заданный интервал просмотра списка также
отображается в области формы, отведенной для отображения состояния
просмотра для необходимого динамического списка.</p>

<p class="MsoListBullet">&#9679; 
Команда поиска по текущему значению не
доступна в том случае, если основной таблицей динамического списка
является критерий отбора.</p>

<p class="MsoListBullet">&#9679; 
Найденные фрагменты строк выделяются при
отображении в таблице.</p>

<p class="MsoListBullet">&#9679; 
Для одной колонки поддерживается поиск только
по одной поисковой строке. При добавлении нового поискового запроса для
колонки, по которой уже выполняется поиск, произойдет замена поискового
выражения, а не сложение двух поисковых запросов.</p>

<p class="MsoListBullet">&#9679; 
Если на форме отсутствует дополнение
элемента формы вида <span class="Interface">Отображение строки поиска</span>, связанное с таблицей
(свойство <span class="Interface">Источник</span> дополнения элемента формы), отображающей динамический
список, то нажатие сочетания клавиш <span class="Interface">Ctrl + </span><span class="Interface">F</span>
приводит к открытию диалога поиска.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:641/273" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00222.gif" width="641" alt="" height="273"></p>

<p class="MsoCaption">Рис.
224. Диалог поиска</p>

<p class="Indentlist">Если
на форме присутствует дополнение элемента формы вида <span class="Interface">Отображение строки
поиска</span>, связанное с таблицей (свойство <span class="Interface">Источник</span>
дополнения элемента формы), отображающей динамический список, то для открытия
диалога поиска следует использовать команду <span class="Interface">Расширенный поиск</span>.</p>

<p class="MsoListBullet">&#9679; 
При использовании диалога поиска нужно помнить о следующих
особенностях:</p>

<p class="MsoListBullet2">&#9679; 
Открытие диалога поиска по сочетанию клавиш
приводит к тому, что значение текущей ячейки оказывается в строке <span class="Interface">Что искать</span>,
а значение переключателя <span class="Interface">Как искать</span>
устанавливается в значение <span class="Interface">По точному совпадению</span>.</p>

<p class="MsoListBullet2">&#9679; 
Открытие диалог поиска путем непосредственного
начала набора поисковой строки в динамическом списке приводит к тому,
что значение переключателя <span class="Interface">Как искать</span>
устанавливается в значение <span class="Interface">По части строки</span>,
а набираемый текст попадает в поле <span class="Interface">Что искать</span>.</p>

<a name="_ref393106717"></a><span class="Hidden"></span><span class="Hidden"></span><a id="TI000001476" class="bookmark" name="issogl3_7.3.1.7_получение_данных_отображаемых_динамическим_списком"><h4>7.3.1.7. Получение данных, отображаемых динамическим списком</h4></a>

<p class="MsoNormal">При
использовании динамических списков может потребоваться выполнить различные
действия с данными, которые в данный момент отображаются динамическим
списком, с учетом наложенных отборов и примененного поиска. К таким
действиям относятся: обработка отображаемой информации, например,
перепроведение выделенных документов или установка какого-либо реквизита
у выделенных объектов, формирование списка доступных объектов (с
оформлением и т. д.), например, для печати или сохранения
в табличный документ.</p>

<p class="MsoNormal">Для
получения данных, которые отображаются динамическим списком, следует
использовать методы <span class="Term">ПолучитьИсполняемуюСхемуКомпоновкиДанных()</span>
и <span class="Term">ПолучитьИсполняемыеНастройкиКомпоновкиДанных()</span>.</p>

<p class="Lang-subheader">Пример
получения данных:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Схема <span class="operator">=</span> Элементы<span class="operator">.</span>Список<span class="operator">.</span>ПолучитьИсполняемуюСхемуКомпоновкиДанных<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Настройки <span class="operator">=</span> Элементы<span class="operator">.</span>Список<span class="operator">.</span>ПолучитьИсполняемыеНастройкиКомпоновкиДанных<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
КомпоновщикМакета <span class="operator">=</span> <span class="keyword">Новый</span> КомпоновщикМакетаКомпоновкиДанных<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
МакетКомпоновки <span class="operator">=</span> КомпоновщикМакета<span class="operator">.</span><span class="keyword">Выполнить</span><span class="operator">(</span>Схема<span class="operator">,</span> Настройки<span class="operator">)</span><span class="operator">;</span>
ПроцессорКомпоновки <span class="operator">=</span> <span class="keyword">Новый</span> ПроцессорКомпоновкиДанных<span class="operator">;</span>
ПроцессорКомпоновки<span class="operator">.</span>Инициализировать<span class="operator">(</span>МакетКомпоновки<span class="operator">)</span><span class="operator">;</span>
ПроцессорВывода <span class="operator">=</span> <span class="keyword">Новый</span> ПроцессорВыводаРезультатаКомпоновкиДанныхВТабличныйДокумент<span class="operator">;</span>
<span class="keyword">Возврат</span> ПроцессорВывода<span class="operator">.</span>Вывести<span class="operator">(</span>ПроцессорКомпоновки<span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Получение
данных в коллекцию значений (таблица или список значений) выполняется
аналогично (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2010.%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85.htm_?anchor=_ref393119245" target="_top">здесь</a>).</p>

<p class="MsoNormal">Получение
данных динамического списка указанным образом имеет ряд особенностей, которые
нужно учитывать при разработке прикладных решений:</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается следующее оформление таблицы:</p>

<p class="MsoListBullet2">&#9679; 
Чередование цветов строк;</p>

<p class="MsoListBullet2">&#9679; 
Картинка шапки;</p>

<p class="MsoListBullet2">&#9679; 
Картинка подвала;</p>

<p class="MsoListBullet2">&#9679; 
Цвет фона подвала;</p>

<p class="MsoListBullet2">&#9679; 
Цвет текста подвала;</p>

<p class="MsoListBullet2">&#9679; 
Шрифт подвала;</p>

<p class="MsoListBullet2">&#9679; 
Горизонтальное положение в подвале;</p>

<p class="MsoListBullet2">&#9679; 
Режим пароля.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается условное оформление, указанное
для управляемой формы;</p>

<p class="MsoListBullet">&#9679; 
Данные, полученные в результате выполнения
методов <span class="Term">ПолучитьИсполняемуюСхемуКомпоновкиДанных()</span>
и <span class="Term">ПолучитьИсполняемыеНастройкиКомпоновкиДанных()</span>,
не будет содержать изменений, которые могут быть внесены с помощью
обработчика события <span class="Term">ПриПолученииДанныхНаСервере</span>.</p>

<p class="MsoListBullet">&#9679; 
При упорядочивании иерархической таблицы
по возрастанию, по полю типа <span class="Term">Ссылка</span>, записи, содержащие пустую ссылку всегда
размещаются первыми.</p>

<a name="_ref469672940"></a><a name="_ref468785725"></a><a id="TI000001887" class="bookmark" name="issogl3_7.3.1.8_дополнительная_обработка_данных_получаемых_динамическим_списком"><h4>7.3.1.8. Дополнительная обработка данных, получаемых динамическим списком</h4></a>

<p class="MsoNormal">Требования
к динамическим спискам могут включать отображение вспомогательной
информации, которую затруднительно, неэффективно или невозможно получить
в рамках запроса динамического списка. В этом случае можно воспользоваться
обработчиком <span class="Term">ПриПолученииДанныхНаСервере</span> таблицы
управляемой формы, отображающей данные динамического списка. Это внеконтекстный
обработчик формы, который позволяет выполнить дополнительную обработку данных,
которые получает динамический список для отображения.</p>

<p class="MsoNormal">Данное
событие вызывается после получения данных динамическим списком. Событие
вызывается в том случае, если динамическим списком получена хотя бы одна
строка.</p>

<p class="MsoNormal">Настройки
динамического списка (отбор (в том числе поиск), сортировка, группировка,
условное оформление и т. д.) будут применяться к фактическим
данным, которые получены запросом динамического списка, до их обработки
в рамках обработчика события <span class="Term">ПриПолученииДанныхНаСервере</span>.</p>

<p class="MsoNormal">Обработчик
<span class="Term">ПриПолученииДанныхНаСервере</span> получает три
параметра:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ИмяЭлемента</span> &#8209; содержит имя таблицы, для которой выполняется
данный обработчик.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Настройки</span> &#8209; содержит копию полных настроек динамического
списка. Особое внимание следует уделить свойству <span class="Term">ДополнительныеСвойства</span> для этого параметра. С
помощью этого свойства предоставляется возможность передавать необходимые
данные из формы во внеконтекстный обработчик.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Строки</span> &#8209; параметр содержит коллекцию строк, которые будет
отображать динамический список. В коллекции содержатся собственно данные
и оформления этих данных, но не содержит строк группировок.</p>

<p class="Regularbeforepicture">В
качестве примера будет рассмотрен список товаров, куда выводится цена товара
для категории цен, указанной в реквизите формы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:887/407" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00223.gif" width="887" alt="" height="407"></p>

<p class="MsoCaption">Рис.
225. Цена по категории</p>

<p class="MsoNormal">Динамический
список расположен в реквизите <span class="Term">Список</span>, отображается таблицей <span class="Term">Список</span> (элемент формы). Вид цены настраивается
с помощью реквизита <span class="Term">ВидЦен</span> типа <span class="Term">СправочникСсылка.ВидыЦен</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span> Примеры, приведенные ниже, не являются
законченным. Они предназначены для демонстрации различных механизмов работы
с динамическим списком.</p>

</div>

<p class="MsoNormal">Собственно
запрос динамического списка очень простой:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБРАТЬ</span>
    СправочникТовары<span class="operator">.</span>Ссылка<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>ПометкаУдаления<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Родитель<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>ЭтоГруппа<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Код<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Наименование<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Артикул<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Поставщик<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Вид<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Описание<span class="operator">,</span>
    СправочникТовары<span class="operator">.</span>Предопределенный<span class="operator">,</span>
    ВЫРАЗИТЬ <span class="operator">(</span><span class="keyword">NULL</span> <span class="keyword">КАК</span> Число<span class="operator">(</span><span class="number">10</span><span class="operator">,</span> <span class="number">2</span><span class="operator">)</span><span class="operator">)</span> <span class="keyword">КАК</span> Цена
<span class="keyword">ИЗ</span>
    Справочник<span class="operator">.</span>Товары <span class="keyword">КАК</span> СправочникТовары</pre><p class="MsoNormal">Этот
запрос отображает сам справочник товаров и «готовит место» для размещения
цены товаров (колонка <span class="Term">Цена</span>). Остальные действия выполняются
в обработчике события <span class="Term">ПриПолученииДанныхНаСервере</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервереБезКонтекста</span>
<span class="keyword">Процедура</span> СписокПриПолученииДанныхНаСервере<span class="operator">(</span>ИмяЭлемента<span class="operator">,</span> Настройки<span class="operator">,</span> Строки<span class="operator">)</span>
    <span class="keyword">Если</span> Настройки<span class="operator">.</span>ДополнительныеСвойства<span class="operator">.</span>Свойство<span class="operator">(</span><span class="string">"ВидЦен"</span><span class="operator">)</span> <span class="keyword">Тогда</span>
        ВидЦен <span class="operator">=</span> Настройки<span class="operator">.</span>ДополнительныеСвойства<span class="operator">.</span>ВидЦен<span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    <span class="keyword">Если</span> <span class="keyword">Не</span> ЗначениеЗаполнено<span class="operator">(</span>ВидЦен<span class="operator">)</span> <span class="keyword">Тогда</span>
        <span class="keyword">Возврат</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    Запрос <span class="operator">=</span> <span class="keyword">Новый</span> Запрос<span class="operator">;</span>
    Запрос<span class="operator">.</span>Текст <span class="operator">=</span>
        <span class="string">"ВЫБРАТЬ</span>
<span class="string">        |    Цены.Товар,</span>
<span class="string">        |    Цены.Цена</span>
<span class="string">        |ИЗ</span>
<span class="string">        |    РегистрСведений.ЦеныТоваров.СрезПоследних(Товар В (&amp;Товары) И ВидЦен = &amp;ВидЦен) КАК Цены"</span><span class="operator">;</span>
    Запрос<span class="operator">.</span>УстановитьПараметр<span class="operator">(</span><span class="string">"Товары"</span><span class="operator">,</span> Строки<span class="operator">.</span>ПолучитьКлючи<span class="operator">(</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Запрос<span class="operator">.</span>УстановитьПараметр<span class="operator">(</span><span class="string">"ВидЦен"</span><span class="operator">,</span> ВидЦен<span class="operator">)</span><span class="operator">;</span>
    Выборка <span class="operator">=</span> Запрос<span class="operator">.</span><span class="keyword">Выполнить</span><span class="operator">(</span><span class="operator">)</span><span class="operator">.</span><span class="keyword">Выбрать</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Пока</span> Выборка<span class="operator">.</span>Следующий<span class="operator">(</span><span class="operator">)</span> <span class="keyword">Цикл</span>
        СтрокаСписка <span class="operator">=</span> Строки<span class="operator">[</span>Выборка<span class="operator">.</span>Товар<span class="operator">]</span><span class="operator">;</span>
        СтрокаСписка<span class="operator">.</span>Данные<span class="operator">[</span><span class="string">"Цена"</span><span class="operator">]</span> <span class="operator">=</span> Выборка<span class="operator">.</span>Цена<span class="operator">;</span>
        СтрокаСписка<span class="operator">.</span>Оформление<span class="operator">[</span><span class="string">"Цена"</span><span class="operator">]</span><span class="operator">.</span>УстановитьЗначениеПараметра<span class="operator">(</span><span class="string">"Формат"</span><span class="operator">,</span> <span class="string">"ЧЦ=10; ЧДЦ=2; ЧН= "</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">При
рассмотрении текста обработчика следует обратить внимание на следующие
моменты:</p>

<p class="List1">1. 
В силу того, что рассматриваемый обработчик
является внеконтекстным, получение категории цен выполняется особым образом:
с помощью дополнительных свойств объекта <span class="Term">Настройки</span>, передаваемого параметром
обработчика. Следствием этого является тот факт, что при изменении значения
элемента формы, отображающего реквизит <span class="Term">ВидЦен</span>, необходимо установить новое значение
реквизита в настройки динамического списка, а затем обновить список:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Список<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>Настройки<span class="operator">.</span>ДополнительныеСвойства<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ВидЦен"</span><span class="operator">,</span> ВидЦен<span class="operator">)</span><span class="operator">;</span>
Элементы<span class="operator">.</span>Список<span class="operator">.</span>Обновить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoListNumber">2.  Способ
получения значений ключей для всех записей, которые будут отображаться
динамическим списком. Для этого используется специальный метод <span class="Term">ПолучитьКлючи()</span>.</p>

<p class="MsoListNumber">3.  Данные,
расположенные в <span class="Term">Строки.Данные</span>, представляют из себя
в точности тот набор данных, который будет передан клиентскому приложению
для отображения таблицей управляемой формы, которая связана с динамическим
списком. Эта передача будет выполнена после завершения обработчика.</p>

<p class="MsoListNumber">4.  Работа
с оформлением ячеек динамического списка (<span class="Term">Строки.Оформление</span>) не отличается
от работы с оформлением ячеек системы компоновки данных.</p>

<p class="MsoNormal">Если
в обработчике события <span class="Term">ПриПолученииДанныхНаСервере</span> изменяются данные
строк, то рекомендуется исключать поля, в которых изменяются данные,
из списков полей, используемых для группировки, упорядочивания
и отбора. Если этого не сделать, группировка, упорядочивание и отбор
(включая все виды поиска) будет работать неожиданно для пользователя. Причиной
такого поведение является то, что все указанные операции выполняются
по тем данным, которые непосредственно вернет запрос формирования
динамического списка. Результат работы обработчика <span class="Term">ПриПолученииДанныхНаСервере</span> не используется
для этих операций. Для установки ограничения на использование поля
в той или иной операции предназначены методы динамического списка <span class="Term">УстановитьОграниченияИспользованияВГруппировке()</span>,
<span class="Term">УстановитьОграниченияИспользованияВПорядке()</span>
и <span class="Term">УстановитьОграниченияИспользованияВОтборе()</span>. Методы
<span class="Term">ПолучитьОграниченияИспользования…()</span> (для
реквизита типа <span class="Term">ДинамическийСписок</span>) возвращают текущий список
полей, недоступных для выполнения той или иной операции, при условии, что
список ограничений задан методами <span class="Term">УстановитьОграниченияИспользования…()</span>.</p>

<p class="MsoNormal">Данные,
передаваемые в обработчик события <span class="Term">ПриПолученииДанныхНаСервере</span>, уже обработаны
условным оформлением динамического списка. При этом для вычисления условий,
очевидно, были использованы данные, полученные в качестве результата
выполнения запроса. Если требуется изменять оформление данных динамического
списка в зависимости от результата работы обработчика <span class="Term">ПриПолученииДанныхНаСервере</span>, то следует менять
оформление непосредственно в самом обработчике.</p>

<a name="_toc420398507"></a><a name="_ref414546361"></a><a name="_toc164776099"></a><a id="TI000000398" class="bookmark" name="issogl2_7.3.2_форматированный_документ"><h3>7.3.2. Форматированный документ</h3></a>

<p class="MsoNormal">В
процессе разработки прикладных решений возникает необходимость предоставить
пользователю возможность выполнять редактирование текстов с оформлением
(далее форматированный документ). В качестве примера такой необходимости
можно привести написание писем электронной почты, различных служебных записок
или сопроводительных документов.</p>

<p class="MsoNormal">Для
работы с форматированным документом предназначен объект <span class="Term">ФорматированныйДокумент</span>, с помощью
которого можно выполнять программную обработку документа, и поле
вида <span class="Interface">Поле форматированного
документа</span>, который предназначен для интерактивного изменения
форматированного документа. Чтобы разместить на форме поле
форматированного документа, необходимо создать реквизит формы типа <span class="Term">ФорматированныйДокумент</span>, затем создать поле
ввода вида <span class="Interface">Поле форматированного
документа</span> и указать созданный реквизит в качестве данных для
этого поля.</p>

<p class="MsoNormal">В
информационной базе форматированный документ рекомендуется хранить
в реквизите типа <span class="Term">ХранилищеЗначения</span>, в который помещается
объект типа <span class="Term">ФорматированныйДокумент</span>.</p>

<p class="MsoNormal">Для
того чтобы предоставить пользователю возможность интерактивного изменения
документа, следует выполнить следующие шаги:</p>

<p class="MsoListBullet">&#9679; 
Создать реквизит формы типа <span class="Term">ФорматированныйДокумент</span> и установить для
него свойство <span class="Interface">Сохраняемые данные</span>.</p>

<p class="MsoListBullet">&#9679; 
Создать элемент формы типа <span class="Interface">Поле ввода</span> вида <span class="Interface">Поле форматированного
документа</span> и связать его с ранее созданным реквизитом.</p>

<p class="MsoListBullet">&#9679; 
При чтении данных формы (обработчик <span class="Term">ПриЧтенииНаСервере()</span>) загрузить
в реквизит формы документ (метод <span class="Term">Установить</span><span class="Term">HTML</span><span class="Term">()</span>), который необходимо редактировать,
предварительно получив его из информационной базы.</p>

<p class="MsoListBullet">&#9679; 
Перед записью данных формы (обработчик <span class="Term">ПередЗаписьюНаСервере()</span>) получить результат
(метод <span class="Term">Получить</span><span class="Term">HTML</span><span class="Term">()</span>) редактирования документа и поместить
его в реквизит, сохраняемый в информационной базе.</p>

<p class="MsoNormal">В
процессе работы с документом можно использовать <span class="Bold">закладки</span>.
Закладка описывает положение некоторого символа в документе. При
определении положения нужно учитывать следующие особенности:</p>

<p class="MsoListBullet">&#9679; 
содержимое документа считается одной
последовательностью символов;</p>

<p class="MsoListBullet">&#9679; 
перенос строки считается одним символом;</p>

<p class="MsoListBullet">&#9679; 
картинка считается одним символом.</p>

<p class="MsoNormal">Если
положение символа, с которым связана закладка, изменится, то закладка
будет отслеживать положение связанного символа. Если удаляется символ,
с которым связана закладка, то закладка пытается привязаться
к следующему символу, а если этого символа нет &#8209; закладка будет указывать на конец документа.
Если заменить целиком весь форматированный документ, то все закладки
в этом документе станут невалидными.</p>

<p class="MsoNormal">С
помощью закладок можно получать и устанавливать выделение или <span class="Bold">позицию</span> курсора в редакторе, добавлять и удалять
элементы текста в документе (собственно текст, картинка, перевод строки).</p>

<p class="MsoNormal">Если
при получении выделения позиция начала и позиция окончания совпадают, это
значит, что выделение отсутствует и получено положение курсора. Так же
и при установке выделения: если начальная и конечная позиция
выделения совпадают, происходит изменение позиции курсора, без выделения.
При программном изменении текста собственно отображение выделения в поле
форматированного документа не изменится. Если перед изменением текста
выполнялось получение границ выделения, то после изменения текста, закладки
могут изменить свою позицию, сохранив при этом свое положение. Другими словами,
если вставка происходила внутрь выделения, то позиция закладки, описывающей
окончание выделения, увеличится на размер вставленного текста
и т. д.</p>

<p class="MsoNormal">Приведем
пример получения и установки выделения в редакторе форматированного
документа.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Содержимое - реквизит формы типа ФорматированныйДокумент</span>
<span class="comment">// Редактор - элемент формы типа Поле форматированного документа</span>
<span class="comment">// Начало - реквизит формы типа Число. Указывает позицию начала выделения.</span>
<span class="comment">// Окончание - реквизит формы типа Число. Указывает позицию окончания выделения.</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ПолучитьВыделение<span class="operator">(</span><span class="operator">)</span>
    ПозицияНачала <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span>
    ПозицияОкончания <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span>
    Элементы<span class="operator">.</span>Редактор<span class="operator">.</span>ПолучитьГраницыВыделения<span class="operator">(</span>ПозицияНачала<span class="operator">,</span>ПозицияОкончания<span class="operator">)</span><span class="operator">;</span>
    Начало <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьПозициюПоЗакладке<span class="operator">(</span>ПозицияНачала<span class="operator">)</span><span class="operator">;</span>
    Окончание <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьПозициюПоЗакладке<span class="operator">(</span>ПозицияОкончания<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> УстановитьВыделение<span class="operator">(</span><span class="operator">)</span>
    ПозицияНачала <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьЗакладкуПоПозиции<span class="operator">(</span>Начало<span class="operator">)</span><span class="operator">;</span>
    ПозицияОкончания <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьЗакладкуПоПозиции<span class="operator">(</span>Окончание<span class="operator">)</span><span class="operator">;</span>
    Элементы<span class="operator">.</span>Редактор<span class="operator">.</span>УстановитьГраницыВыделения<span class="operator">(</span>ПозицияНачала<span class="operator">,</span>ПозицияОкончания<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">При
выполнении операций удаления закладка, описывающая начало удаляемого фрагмента,
может оказаться некорректной. Если при этом необходимо сохранить позицию начала
удаляемого фрагмента, то следует воспользоваться позицией начала фрагмента.
Так, пример замены выделенного текста другим текстом будет выглядеть следующим
образом.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Процедура</span> ВставитьСтрокуВТекущуюПозицию<span class="operator">(</span>Редактор<span class="operator">,</span> Содержимое<span class="operator">,</span> Строка<span class="operator">)</span>
    <span class="keyword">Перем</span> Начало<span class="operator">,</span> <span class="keyword">Конец</span><span class="operator">;</span>
    Редактор<span class="operator">.</span>ПолучитьГраницыВыделения<span class="operator">(</span>Начало<span class="operator">,</span> <span class="keyword">Конец</span><span class="operator">)</span><span class="operator">;</span>
    Позиция <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьПозициюПоЗакладке<span class="operator">(</span>Начало<span class="operator">)</span><span class="operator">;</span>
    Содержимое<span class="operator">.</span>Удалить<span class="operator">(</span>Начало<span class="operator">,</span> <span class="keyword">Конец</span><span class="operator">)</span><span class="operator">;</span>
    Начало <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьЗакладкуПоПозиции<span class="operator">(</span>Позиция<span class="operator">)</span><span class="operator">;</span>
    Содержимое<span class="operator">.</span>Вставить<span class="operator">(</span>Начало<span class="operator">,</span> Строка<span class="operator">)</span><span class="operator">;</span>
    Закладка <span class="operator">=</span> Содержимое<span class="operator">.</span>ПолучитьЗакладкуПоПозиции<span class="operator">(</span>Позиция <span class="operator">+</span> СтрДлина<span class="operator">(</span>Строка<span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Редактор<span class="operator">.</span>УстановитьГраницыВыделения<span class="operator">(</span>Закладка<span class="operator">,</span> Закладка<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Если
в форматированном документе присутствуют гиперссылки
и форматированный документ отображается в режиме <span class="Interface">Только просмотр</span>,
то гиперссылки доступны для перехода. Переход выполняется в новом окне
веб-браузера.</p>

<p class="MsoNormal">Также
имеется возможность программного доступа к тексту форматированного
документа. Сам текст состоит из объектов типа <span class="Term">ПараграфФорматированногоДокумента</span>, который
доступен через свойство <span class="Term">Элементы</span> объекта <span class="Term">ФорматированныйДокумент</span>. При этом каждый
параграф состоит из объектов типа <span class="Term">ТекстФорматированногоДокумента</span>, <span class="Term">ПереводСтрокиФорматированногоДокумента</span> и <span class="Term">КартинкаФорматированногоДокумента</span> (элементы
форматированного документа). Доступ к этой коллекции обеспечивается через
свойство <span class="Term">Элементы</span> объекта <span class="Term">ПараграфФорматированногоДокумента</span>. Границей
элемента не обязательно является граница слова.</p>

<p class="MsoNormal">Например,
следующий пример показывает перебор всех параграфов форматированного документа,
содержащих текст, и отдельную обработку каждого параграфа.</p>

<p class="Lang-subheader">Пример:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Для</span> <span class="keyword">каждого</span> Параграф <span class="keyword">Из</span> Документ<span class="operator">.</span>Элементы <span class="keyword">Цикл</span>
    <span class="keyword">Если</span> Параграф<span class="operator">.</span>ТипПараграфа <span class="operator">=</span> ТипПараграфа<span class="operator">.</span>Обычный <span class="keyword">Тогда</span>
        ОбработатьОбычныйПараграф<span class="operator">(</span>Параграф<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">ИначеЕсли</span> Параграф<span class="operator">.</span>ТипПараграфа <span class="operator">=</span> ТипПараграфа<span class="operator">.</span>МаркированныйСписок <span class="keyword">Тогда</span>
        ОбработатьСписок<span class="operator">(</span>Параграф<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">ИначеЕсли</span> Параграф<span class="operator">.</span>ТипПараграфа <span class="operator">=</span> ТипПараграфа<span class="operator">.</span>НумерованныйСписок <span class="keyword">Тогда</span>
        ОбработатьСписок<span class="operator">(</span>Параграф<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Иначе</span>
        <span class="keyword">Продолжить</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецЦикла</span><span class="operator">;</span></pre><p class="MsoNormal">Обработка
элементов форматированного документа, входящего в состав параграфа, может
оказаться полезной в том случае, если нужно, например, убрать все
оформление в виде курсива или полужирного шрифта.</p>

<p class="Lang-subheader">Пример:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Полужирный <span class="operator">=</span> <span class="keyword">Новый</span> Шрифт<span class="operator">(</span><span class="operator">,</span> <span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">)</span><span class="operator">;</span>
Курсив <span class="operator">=</span> <span class="keyword">Новый</span> Шрифт<span class="operator">(</span><span class="operator">,</span> <span class="operator">,</span> <span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">)</span><span class="operator">;</span>
Обычный <span class="operator">=</span> <span class="keyword">Новый</span> Шрифт<span class="operator">;</span>
<span class="keyword">Для</span> <span class="keyword">каждого</span> Элемент <span class="keyword">Из</span> Параграф<span class="operator">.</span>Элементы <span class="keyword">Цикл</span>
    <span class="keyword">Если</span> ТипЗнч<span class="operator">(</span>Элемент<span class="operator">)</span> <span class="operator">=</span> Тип<span class="operator">(</span><span class="string">"ПереводСтрокиФорматированногоДокумента"</span><span class="operator">)</span> <span class="keyword">Тогда</span>
        <span class="keyword">Продолжить</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    <span class="keyword">Если</span> Элемент<span class="operator">.</span>Шрифт <span class="operator">=</span> Полужирный <span class="keyword">Или</span> Элемент<span class="operator">.</span>Шрифт <span class="operator">=</span> Курсив <span class="keyword">Тогда</span>
            Элемент<span class="operator">.</span>Шрифт <span class="operator">=</span> Обычный<span class="operator">;</span>
        <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецЦикла</span><span class="operator">;</span></pre><p class="MsoNormal">При
программной работе с текстом также могут помочь методы <span class="Term">ПолучитьЭлементы()</span> и <span class="Term">СформироватьЭлементы()</span>. Эти методы возвращают
массив элементов форматированного документа. Чтобы увидеть разницу
в работе этих методов, рассмотрим пример форматированного документа,
содержащего следующую строку: <span class="Interface">012 456 890</span>. Строка состоит из 11 символов, где
на месте символов 4 и 8 расположены пробелы. Необходимо получить
элементы, которые расположены между позициями 2 и 9 этого документа.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ПозицияНачала <span class="operator">=</span> Документ<span class="operator">.</span>ПолучитьЗакладкуПоПозиции<span class="operator">(</span><span class="number">2</span><span class="operator">)</span><span class="operator">;</span>
ПозицияОкончания <span class="operator">=</span> Документ<span class="operator">.</span>ПолучитьЗакладкуПоПозиции<span class="operator">(</span><span class="number">9</span><span class="operator">)</span><span class="operator">;</span>
Результат <span class="operator">=</span> Документ<span class="operator">.</span>ПолучитьЭлементы<span class="operator">(</span>ПозицияНачала<span class="operator">,</span> ПозицияОкончания<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">Для</span> <span class="keyword">каждого</span> Элемент <span class="keyword">Из</span> Результат <span class="keyword">Цикл</span>
    Сообщить<span class="operator">(</span><span class="string">"Текст - "</span> <span class="operator">+</span> Элемент<span class="operator">.</span>Текст<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецЦикла</span><span class="operator">;</span>
Результат <span class="operator">=</span> Документ<span class="operator">.</span>СформироватьЭлементы<span class="operator">(</span>ПозицияНачала<span class="operator">,</span> ПозицияОкончания<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">Для</span> <span class="keyword">каждого</span> Элемент <span class="keyword">Из</span> Результат <span class="keyword">Цикл</span>
    Сообщить<span class="operator">(</span><span class="string">"Текст - "</span> <span class="operator">+</span> Элемент<span class="operator">.</span>Текст<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецЦикла</span><span class="operator">;</span></pre><p class="MsoNormal">Разница в работе этих методов будет
в том, что метод <span class="Term">ПолучитьЭлементы()</span>
возвращает все элементы, которые попадают между заданными закладками (включая
все граничные элементы), т. е. рассматриваемом примере будет выведен
следующий текст:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_res">Текст - 012 456 890</pre>

<p class="MsoNormal">А при работе метода <span class="Term">СформироватьЭлементы()</span>
вывод будет следующий:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_res">Текст - 2 456 8</pre>

<p class="MsoNormal">Другими словами, при использовании метода <span class="Term">СформироватьЭлементы()</span>
система формирует набор элементов таким образом, чтобы он включал в себя
только то содержимое форматированного документа, которое ограничено закладками.</p>

<p class="MsoNormal">Нужно помнить, что метод <span class="Term">СформироватьЭлементы()</span>
изменяет форматированный документ во время своего вызова и если (в
рассматриваемом примере) после вызова метода <span class="Term">СформироватьЭлементы()</span>
снова вызвать метод <span class="Term">ПолучитьЭлементы()</span>,
то результат работы будет такой:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_res">Текст - 2 456 8</pre>

<p class="MsoNormal">Такой
результат будет даже в том случае, если полученный, после вызова <span class="Term">СформироватьЭлементы()</span>, набор элементов никак
не изменялся.</p>

<a name="_toc420398508"></a><a name="_ref389752968"></a><a name="_toc164776100"></a><a id="TI000001458" class="bookmark" name="issogl2_7.3.3_планировщик"><h3>7.3.3. Планировщик</h3></a>

<a name="_ref390788495"></a><a id="TI000001459" class="bookmark" name="issogl3_7.3.3.1_общая_информация"><h4>7.3.3.1. Общая информация</h4></a>

<p class="MsoNormal">Объект
<span class="Term">Планировщик</span> (далее планировщик) предназначен
для визуализации различных операций, привязанных к дате и времени,
с возможностью повторения этих событий с определенной периодичностью.
Планировщик предназначен для отображения информации и не хранит каких-либо
данных в информационной базе.</p>

<p class="MsoNormal">Общая
схема работы выглядит следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Из информационной базы получаются данные,
которые следует отобразить.</p>

<p class="MsoListBullet">&#9679; 
Эти данные (в виде элементов) отображаются
в планировщике.</p>

<p class="MsoListBullet">&#9679; 
Пользователь редактирует элементы.</p>

<p class="MsoListBullet">&#9679; 
Данные измененных элементов актуализируются
в информационной базе.</p>

<p class="MsoNormal">Планировщик
предоставляет возможность переопределять формы, используемые для редактирования
элементов.</p>

<a id="TI000001460" class="bookmark" name="issogl3_7.3.3.2_устройство_планировщика"><h4>7.3.3.2. Устройство планировщика</h4></a>

<a id="TI000001461" class="bookmark" name="issogl4_7.3.3.2.1_измерения"><h5>7.3.3.2.1. Измерения</h5></a>

<a id="TI000002165" class="bookmark" name="issogl5_общая_информация"><h6>Общая информация</h6></a>

<p class="MsoNormal">В
планировщике всегда присутствует одно измерение &#8209; это <span class="Bold">шкала времени</span>. Также
прикладной разработчик может создать дополнительные <span class="Bold">измерения</span>
(коллекция <span class="Term">Планировщик.Измерения</span>), которые позволят
конкретизировать назначение каждого элемента. Измерения не имеют приоритета
друг перед другом, но на форме они «вкладываются» друг в друга
согласно порядку добавления. Каждое измерение характеризуется значением
произвольного типа, по которому в дальнейшем можно выполнять поиск
требуемого измерения.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ИзмерениеЗал <span class="operator">=</span> Планировщик<span class="operator">.</span>Измерения<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Зал"</span><span class="operator">)</span><span class="operator">;</span>
ЭлементИзмерения <span class="operator">=</span> ИзмерениеЗал<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Перечисления<span class="operator">.</span>ВидЗала<span class="operator">.</span>Мужской<span class="operator">)</span><span class="operator">;</span>
ЭлементИзмерения <span class="operator">=</span> ИзмерениеЗал<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Перечисления<span class="operator">.</span>ВидЗала<span class="operator">.</span>Женский<span class="operator">)</span><span class="operator">;</span>
ИзмерениеМастер <span class="operator">=</span> Планировщик<span class="operator">.</span>Измерения<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Мастер"</span><span class="operator">)</span><span class="operator">;</span>
ЭлементИзмерения <span class="operator">=</span> ИзмерениеМастер<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Иванов"</span><span class="operator">)</span><span class="operator">;</span>
ЭлементИзмерения <span class="operator">=</span> ИзмерениеМастер<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Петров"</span><span class="operator">)</span><span class="operator">;</span>
ЭлементИзмерения <span class="operator">=</span> ИзмерениеМастер<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Сидорова"</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">В
этом примере планировщику добавляется два измерения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Зал</span> &#8209; описывает тип зала некоторой парикмахерской. Для
определения типа зала служит перечисление <span class="Term">ВидЗала</span> с двумя значениями: <span class="Term">Мужской</span> и <span class="Term">Женский</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Мастер</span> &#8209; фамилия мастера, работающего в том или ином
зале. Типом значения будет являться строка с фамилией мастера.</p>

<p class="Regularbeforepicture">На
форме планировщик будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:737/360" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00224.gif" width="737" alt="" height="360"></p>

<p class="MsoCaption">Рис.
226. Два измерения</p>

<p class="Regularbeforepicture">Если
поменять порядок добавления измерений, то на форме это будет выглядеть
следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:849/422" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00225.gif" width="849" alt="" height="422"></p>

<p class="MsoCaption">Рис.
227. Измененный порядок измерений</p>

<a name="_ref3296793"></a><a id="TI000002166" class="bookmark" name="issogl5_ширина_и_высота_колонок_строк"><h6>Ширина и высота колонок/строк</h6></a>

<p class="Regularbeforepicture">Форма,
которая содержит поле планировщика, может изменять свои размеры. При этом поле
планировщика пытается уменьшить ширину колонок и высоту строк таким
образом, чтобы все данные планировщика были доступны без прокрутки. Однако
данное поведение не всегда положительно сказывается на удобстве
использования получившегося результата.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:144/268" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00226.gif" width="144" alt="" height="268"></p>

<p class="MsoCaption"><a name="_ref145576948">Рис. </a>228. Сильное сжатие
элемента формы</p>

<p class="MsoNormal">Очевидно, что использование планировщика,
показанного на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576948">рис.228</a>,
несколько неудобно.</p>

<p class="MsoNormal">Для того чтобы уменьшить такого рода
проблемы, предусмотрены несколько свойств, позволяющие управлять поведением планировщика
при уменьшении его размера:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто минимальная ширина
колонки</span> &#8209; если данный флажок установлен, то система будет
сама определять минимальную ширину каждой колонки планировщика и не
позволит колонки стать уже, чем определенная минимальная ширина.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Минимальная ширина колонки</span> &#8209; если выключить флажок <span class="Interface">Авто минимальная
ширина колонки</span>, то станет доступно ручное указание минимальной ширины
колонки планировщика. Значение <span class="Term">0</span> означает, что колонка будет сжиматься до
сохранения технической возможности.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто минимальная высота
строки</span> и <span class="Interface">Минимальная высота
строки</span> управляют высотой строк поля планировщика. Поведение аналогично
свойствам управления шириной колонки.</p>

<p class="MsoNormal">Если
колонка (или строка) достигает заданного (вручную или автоматически)
минимального размера, дальнейшее сжатие прекращается, и у поля
планировщика появляются полосы прокрутки.</p>

<p class="Regularbeforepicture">Так,
если для примера, показанного на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576948">рис.228</a>, установить свойства <span class="Interface">Авто минимальная
ширина колонки</span> и <span class="Interface">Авто минимальная высота
строки</span>, то минимальный размер поля планировщика будет следующим:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:366/268" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00227.gif" width="366" alt="" height="268"></p>

<p class="MsoCaption">Рис.
229. Автоматическое определение минимального размера</p>

<p class="MsoNormal">Дальнейшее
уменьшение высоты или ширины поля планировщика приведет к появлению полосы
прокрутки по соответствующей координате.</p>

<a name="_ref3296810"></a><a id="TI000002167" class="bookmark" name="issogl5_фиксация_заголовков_планировщика"><h6>Фиксация заголовков планировщика</h6></a>

<p class="MsoNormal">Когда у поля планировщика появляются
полосы прокрутки, то возникает необходимость управлять тем, как будут вести
себя заголовки измерений (включая шкалу времени). Управлять фиксацией
заголовков можно раздельно:</p>

<p class="MsoListBullet">&#9679; 
Возможность фиксации заголовков измерений
управляется с помощью свойства планировщика <span class="Interface">Фиксировать заголовок
измерений</span> (<span class="Term">ФиксироватьЗаголовокИзмерений</span>). Значение <span class="Interface">Авто</span> интерпретируется
как <span class="Interface">Да</span> во всех
видах клиентских приложений.</p>

<p class="MsoListBullet">&#9679; 
Возможность фиксации заголовка шкалы времени
управляется с помощью свойства <span class="Interface">Фиксировать заголовок
шкалы времени</span> (<span class="Term">ФиксироватьЗаголовокШкалыВремени</span>). Значение <span class="Interface">Авто</span>
интерпретируется как <span class="Interface">Да</span> во всех видах
клиентских приложений.</p>

<p class="MsoNormal">При
работе веб-клиента под управлением Microsoft Internet Explorer оба описанных свойства всегда интерпретируется как <span class="Interface">Нет</span>, вне
зависимости от фактического значения.</p>

<a name="_ref404182735"></a><a id="TI000001463" class="bookmark" name="issogl4_7.3.3.2.2_элементы"><h5>7.3.3.2.2. Элементы</h5></a>

<p class="MsoNormal">На
«пересечении» измерений и шкалы времени находится <span class="Bold">элемент</span>.
Элемент имеет следующие основные характеристики:</p>

<p class="MsoListBullet">&#9679; 
Описание элемента.</p>

<p class="MsoListBullet">&#9679; 
Дата и время начала и окончания
действия или события, описываемого элементом.</p>

<p class="MsoListBullet">&#9679; 
Значения всех измерений, заданных для данного
экземпляра планировщика.</p>

<p class="MsoListBullet">&#9679; 
Значение элемента.</p>

<p class="MsoListBullet">&#9679; 
Параметры повторения элемента (для повторяющихся
элементов).</p>

<p class="MsoNormal">В
простейшем случае элемент создается следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Элемент <span class="operator">=</span> Планировщик<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140606150000'</span><span class="operator">)</span><span class="operator">,</span> Дата<span class="operator">(</span><span class="date">'20140606154000'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
Элемент<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Постричь Василия"</span><span class="operator">;</span>
Измерения <span class="operator">=</span> <span class="keyword">Новый</span> Соответствие<span class="operator">;</span>
Измерения<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"Зал"</span><span class="operator">,</span> Перечисления<span class="operator">.</span>ВидЗала<span class="operator">.</span>Мужской<span class="operator">)</span><span class="operator">;</span>
Измерения<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"Мастер"</span><span class="operator">,</span> <span class="string">"Иванов"</span><span class="operator">)</span><span class="operator">;</span>
Элемент<span class="operator">.</span>ЗначенияИзмерений <span class="operator">=</span> <span class="keyword">Новый</span> ФиксированноеСоответствие<span class="operator">(</span>Измерения<span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">В
данном примере создается элемент, который описывает событие, начинающееся 6
июня 2014 года в 15:00 и заканчивающееся в тот же день
в 15:40. Событие будет происходить в мужском зале (значение измерения
<span class="Interface">Зал</span> установлено
в значение <span class="Term">Мужской</span>) и мастером будет Иванов
(значение измерения <span class="Interface">Мастер</span>
установлено в значение <span class="Interface">Иванов</span>).</p>

<p class="Regularbeforepicture">В
результате элемент на форме будет отображаться следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:366/477" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00228.gif" width="366" alt="" height="477"></p>

<p class="MsoCaption">Рис.
230. Элемент в планировщике</p>

<p class="MsoNormal">У
созданного элемента есть недостаток: этот элемент невозможно найти
в коллекции элементов планировщика (коллекция <span class="Term">Планировщик.Элементы</span>) с помощью метода <span class="Term">Найти()</span>. Для того чтобы исправить этот
недостаток, необходимо при создании элемента указывать в качестве значения
элемента (свойство <span class="Term">Значение)</span> какое-либо уникальное значение,
которое в дальнейшем позволит однозначно идентифицировать элементы
в планировщике.</p>

<p class="MsoNormal">Одним
из вариантов такого уникального идентификатора является следующее:</p>

<p class="MsoListBullet">&#9679; 
Создается справочник <span class="Term">События</span>, состав свойств которого позволяет
полностью описать сохраняемые элементы.</p>

<p class="MsoListBullet">&#9679; 
Ссылка на элемент справочника <span class="Term">События</span> помещается в свойство <span class="Term">Значение</span> создаваемого элемента.</p>

<p class="MsoNormal">Таким
образом, каждый элемент в планировщике будет однозначно идентифицироваться
ссылкой на элемент справочника <span class="Term">События</span>, из которого получены данные для
создания элемента.</p>

<p class="MsoNormal">Если
при создании элемента указаны не все значения измерений, то такой элемент не
будет отображаться в планировщике.</p>

<a id="TI000001462" class="bookmark" name="issogl4_7.3.3.2.3_шкала_времени"><h5>7.3.3.2.3. Шкала времени</h5></a>

<a id="TI000002168" class="bookmark" name="issogl5_размещение_шкалы_времени"><h6>Размещение шкалы времени</h6></a>

<p class="Regularbeforepicture">В
некоторых случаях удобно, чтобы шкала времени располагалась не вертикально
справа, а вдоль какой-либо другой стороны элемента форма, отображающего
планировщик. Это можно сделать с помощью изменения свойства <span class="Term">Планировщик.ШкалаВремени.Положение</span>. Так, если
присвоить этому свойству значение <span class="Term">ПоложениеШкалыВремени.Верх</span>, то планировщик
будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:831/414" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00229.gif" width="831" alt="" height="414"></p>

<p class="MsoCaption"><a name="_ref145576999">Рис. </a>231. Горизонтальная
шкала времени</p>

<a name="_ref3296832"></a><a id="TI000002169" class="bookmark" name="issogl5_поведение_элементов_при_недостатке_места"><h6>Поведение элементов при недостатке места</h6></a>

<p class="Regularbeforepicture">В одной
ячейке планировщика (пересечение измерений и шкалы времени) могу
располагаться несколько элементов. На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145576999">рис.231</a> показано расположение одного элемента в ячейке.
На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577007">рис.232</a> показан планировщик, в ячейке которого (12 марта
2014 года, мужской зал, мастер Иванов, интервал времени с 15 до 16 часов)
размещено 4 элемента.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:708/290" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00230.gif" width="708" alt="" height="290"></p>

<p class="MsoCaption"><a name="_ref145577007">Рис. </a>232. Несколько
элементов в ячейке</p>

<p class="Regularbeforepicture">На
рисунке места хватает для того, чтобы поместить все элементы по высоте. Но
места может не хватать (например, при уменьшении вертикального размера элемента
формы вида <span class="Interface">Поле планировщика</span>)
и тогда внешний вид планировщика изменится.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:708/188" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00231.gif" width="708" alt="" height="188"></p>

<p class="MsoCaption"><a name="_ref145577042">Рис. </a>233. Несколько
элементов в ячейке. Не хватает места</p>

<p class="MsoNormal">Ячейка
планировщика не может отобразить все элементы, поэтому отображаются только те
элементы, которые помещаются, а остальные элементы «скрываются» под
надписью <span class="Interface">Еще </span><span class="Interface">X</span>, где <span class="Interface">X</span> &#8209; число скрытых элементов в ячейке. Такое
поведение не всегда устраивает.</p>

<p class="Regularbeforepicture">Для
решения этой проблемы предназначено свойство реквизита формы <span class="Interface">Поведение элементов
при недостатке места</span> (<span class="Term">ПоведениеЭлементовПриНедостаткеМеста</span>).
Поведение, которое отображено на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577042">рис.233</a>, будет наблюдаться если свойство установлено
в значение <span class="Interface">Сворачивать элементы</span>.
Если свойство <span class="Interface">Поведение элементов
при недостатке места</span> установить в значение <span class="Interface">Отображать все
элементы</span>, то при уменьшении размера планировщика внешний вид будет
несколько другим.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:708/178" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00232.gif" width="708" alt="" height="178"></p>

<p class="MsoCaption">Рис.
234. Несколько элементов в ячейке. Разная высота</p>

<p class="MsoNormal">На
рисунке выше следует обратить внимание на то, что высота строки
с измерением <span class="Interface">Иванов</span> больше,
чем высота строк с измерениями <span class="Interface">Петров</span> и <span class="Interface">Сидорова</span>. Таким
образом планировщик сделал так, чтобы в ячейку поместились все элементы,
без отображения меню <span class="Interface">Еще</span>. Следует
отметить, что такое поведение для содержимого ячейки планировщика можно
использовать только в том случае, когда шкала времени расположена сверху
или снизу (свойство планировщика <span class="Interface">Положение шкалы
времени</span> установлено в значение <span class="Interface">Верх</span> или <span class="Interface">Низ</span>).</p>

<a id="TI000002170" class="bookmark" name="issogl5_настройка_шкалы_времени"><h6>Настройка шкалы времени</h6></a>

<p class="MsoNormal">Кроме
изменения положения, шкалу времени можно различным образом настраивать. Первым
вариантом настройки является возможность задать, в каких единицах будет
измеряться шкала времени, и сколько таких единиц будет помещаться на шкале
перед тем, как произойдет перенос в следующую колонку (или строку).
Например, можно установить, что шкала времени будет измеряться в часах
и в одной колонке (строке) будет помещаться 6 часов. В этом случае
отображение в планировщике одного дня будет состоять из 4 колонок
(строк), в зависимости от режима отображения шкалы времени:
в сутках 24 часа и 6 часов в одной колонке (строке).</p>

<p class="Regularbeforepicture">При
отображении шкалы времени сверху, изображение будет выглядеть следующим
образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:949/491" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00233.gif" width="949" alt="" height="491"></p>

<p class="MsoCaption">Рис.
235. Кратность шкалы времени</p>

<p class="MsoNormal">На
встроенном языке такое поведение задается следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Планировщик<span class="operator">.</span>ЕдиницаПериодическогоВарианта <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>Час<span class="operator">;</span>
Планировщик<span class="operator">.</span>КратностьПериодическогоВарианта <span class="operator">=</span> <span class="number">6</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Положение <span class="operator">=</span> ПоложениеШкалыВремени<span class="operator">.</span>Верх<span class="operator">;</span></pre><p class="MsoNormal">Если
заголовки с отметкой часа не нужны над каждым 6-ти часовым фрагментом, то
такие перенесенные заголовки можно отключить, присвоив свойству <span class="Term">Планировщик.ОтображатьПеренесенныеЗаголовкиШкалыВремени</span>
значение <span class="Term">Ложь</span>.</p>

<p class="Regularbeforepicture">Следующим
вариантом настройки шкал времени является изменение текущей шкалы времени или
настройка дополнительных шкал времени (свойство <span class="Term">Планировщик.ШкалаВремени.Элементы</span>). Изменение
шкалы времени необходимо в тех случаях, когда стандартная шкала времени не
устраивает по каким-то причинам. Например, единицей шкалы времени выбран
день, кратность шкалы времени установлена в 7 (неделя), а планировщик
отображает интервал времени, больший 1 недели (например, месяц). В этом случае
места соприкосновения различных дней, в рамках кратности периодического
варианта, не будет визуально никак выделяться на форме:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:510/550" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00234.gif" width="510" alt="" height="550"></p>

<p class="MsoCaption">Рис.
236. Граница двух периодов</p>

<p class="MsoNormal">Для
того чтобы визуально отметить границу, необходимо добавить еще одну шкалу
времени. Добавляемая шкала времени должна описывать целиком один день:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ЭлементШкалыВремени <span class="operator">=</span> Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Единица <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>День<span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Кратность <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span></pre><p class="Regularbeforepicture">В
результате граница двух «соседних» дней станет более заметной:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:683/548" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00235.gif" width="683" alt="" height="548"></p>

<p class="MsoCaption">Рис.
237. Разделение двух периодов</p>

<p class="MsoNormal">В
данном примере можно сделать два улучшения: перенести дату перед временем
и сменить формат отображения даты:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ЭлементШкалыВремени <span class="operator">=</span> Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Единица <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>День<span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Кратность <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Формат <span class="operator">=</span> <span class="string">"Л=; ДЛФ=DD"</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Сдвинуть<span class="operator">(</span>ЭлементШкалыВремени<span class="operator">,</span>  <span class="number">1</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">Порядок
следования шкал времени определяется их порядком в коллекции. В
рассматриваемом примере добавляемая шкала оказывается после шкалы, созданной
по умолчанию, поэтому созданная шкала будет сдвинута на 1 позицию
ближе к началу коллекции. А с помощью свойства <span class="Term">Формат</span> задается то, каким образом будет
отображаться время начала дня. В результате разделение периодов станет более
понятным и очевидным:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:499/285" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00236.gif" width="499" alt="" height="285"></p>

<p class="MsoCaption">Рис.
238. Изменен порядок шкал и формат представления</p>

<p class="MsoNormal">Также
следует помнить, что из коллекции <span class="Term">ШкалаВремени</span> невозможно удалить элемент, если
он единственный. Следовательно, вначале необходимо добавить новую шкалу
времени, и лишь затем можно удалить автоматически добавленную шкалу
времени.</p>

<a id="TI000001464" class="bookmark" name="issogl4_7.3.3.2.4_периоды_отображения"><h5>7.3.3.2.4. Периоды отображения</h5></a>

<p class="MsoNormal">Планировщик
может отображать различные периоды времени. Период времени может быть один или
несколько, периоды могут иметь произвольную длительность. Для установки
периодов отображения служит коллекция <span class="Term">Планировщик.ТекущиеПериодыОтображения</span>. Периоды
отображения следует задавать с учетом времени. Если задать период
с помощью конструкции <span class="Term">Планировщик.ТекущиеПериодыОтображения.Добавить(Дата('20140601'),
Дата('20140601'));</span>, то будет отображена первая секунда 1 июня
2014 года. Для того чтобы день окончания периода отображался целиком, следует
использовать функцию <span class="Term">КонецДня()</span> или явным образом указывать время
окончания периода.</p>

<p class="MsoNormal">Отдельного
внимания заслуживает взаимодействие заданных периодов отображения
и кратности временной шкалы. Все добавленные периоды считаются одной
непрерывной шкалой, и переносы шкалы времени обрабатываются именно
по этой шкале. Допустим, необходимо отобразить 7-дневные интервалы
на временной шкале для следующего набора периодов:</p>

<p class="MsoListBullet">&#9679; 
1 июня &#8209; 5 июня;</p>

<p class="MsoListBullet">&#9679; 
10 июня &#8209; 19 июня;</p>

<p class="MsoListBullet">&#9679; 
21 июня &#8209; 23 июня.</p>

<p class="MsoNormal">Планировщик
настраивается следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Планировщик<span class="operator">.</span>ЕдиницаПериодическогоВарианта <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>День<span class="operator">;</span>
Планировщик<span class="operator">.</span>КратностьПериодическогоВарианта <span class="operator">=</span> <span class="number">7</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ТекущиеПериодыОтображения<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ТекущиеПериодыОтображения<span class="operator">.</span>Добавить<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140601'</span><span class="operator">)</span><span class="operator">,</span> КонецДня<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140605'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ТекущиеПериодыОтображения<span class="operator">.</span>Добавить<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140610'</span><span class="operator">)</span><span class="operator">,</span> КонецДня<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140619'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ТекущиеПериодыОтображения<span class="operator">.</span>Добавить<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140621'</span><span class="operator">)</span><span class="operator">,</span> КонецДня<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20140623'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
ЭлементШкалыВремени <span class="operator">=</span> Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Единица <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>День<span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Кратность <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Формат <span class="operator">=</span> <span class="string">"Л=; ДЛФ=DD"</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Удалить<span class="operator">(</span>Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">При
такой настройке форма планировщика будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:1099/548" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00237.gif" width="1099" alt="" height="548"></p>

<p class="MsoCaption"><a name="_ref145577082">Рис. </a>239. Перенос шкалы
времени с дискретными интервалами</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577082">рис.239</a> видно, что первые 7 дней целиком включили первый
интервал (5 дней, с 1 июня по 6 июня) и 2 дня от второго
интервала. Вторые 7 дней включили 7 дней второго интервала и третьи 7 дней
включили остаток второго интервала и целиком третий интервал.</p>

<p class="MsoNormal">Еще
одним способом задания отображения прерывистых интервалов служит задание
свойств <span class="Term">ОтступСНачалаПереносаШкалыВремени</span>
и <span class="Term">ОтступСКонцаПереносаШкалыВремени</span>. Данные свойства задаются
в размерности свойства <span class="Term">ЕдиницаПериодическогоВарианта</span>. Другими
словами, если единицей периодического варианта является день, то и отступ
с начала или конца шкалы времени будет вычисляться в днях. Например,
необходимо отобразить в планировщике июнь 2014 года таким образом, чтобы
в каждом 7-дневном интервале отображались только первые 5 (или менее)
дней. Для этого используется следующий код настройки планировщика (в примере не
будет использоваться измерение <span class="Interface">Мастер</span>
из предыдущих примеров):</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Планировщик<span class="operator">.</span>ЕдиницаПериодическогоВарианта <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>День<span class="operator">;</span>
Планировщик<span class="operator">.</span>КратностьПериодическогоВарианта <span class="operator">=</span> <span class="number">7</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ТекущиеПериодыОтображения<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ТекущиеПериодыОтображения<span class="operator">.</span>Добавить<span class="operator">(</span>НачалоМесяца<span class="operator">(</span><span class="date">'20140601'</span><span class="operator">)</span><span class="operator">,</span> КонецМесяца<span class="operator">(</span><span class="date">'20140601'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ОтступСКонцаПереносаШкалыВремени <span class="operator">=</span> <span class="number">2</span><span class="operator">;</span>
ЭлементШкалыВремени <span class="operator">=</span> Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Единица <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>День<span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Кратность <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
ЭлементШкалыВремени<span class="operator">.</span>Формат <span class="operator">=</span> <span class="string">"Л=; ДЛФ=DD"</span><span class="operator">;</span>
Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Удалить<span class="operator">(</span>Планировщик<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">При
такой настройке форма планировщика будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:1081/548" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00238.gif" width="1081" alt="" height="548"></p>

<p class="MsoCaption">Рис.
240. Отступ с конца переноса шкалы времени</p>

<p class="MsoNormal">В
данном случае весь июнь разбивается на следующие периоды:</p>

<p class="List1">1. 
1 июня &#8209; 7 июня;</p>

<p class="MsoListNumberCxSpMiddle">2.  8
июня &#8209; 14 июня;</p>

<p class="MsoListNumberCxSpMiddle">3.  15
июня &#8209; 21 июня;</p>

<p class="MsoListNumberCxSpMiddle">4.  22
июня &#8209; 28 июня;</p>

<p class="MsoListNumberCxSpLast">5.  29
июня &#8209; 30 июня.</p>

<p class="MsoNormal">Затем
из каждого интервала будет удалено то количество дней (с начала
и конца интервала), которые заданы в свойствах <span class="Term">ОтступСНачалаПереносаШкалыВремени</span> и <span class="Term">ОтступСКонцаПереносаШкалыВремени</span>
(соответственно) и получившиеся интервалы будут отображены. Последний интервал
поглощается отступом целиком, но начало интервала все равно будет отображено
(по аналогии с поведением при задании текущих периодов отображения).</p>

<p class="MsoNormal">Прикладной
разработчик имеет возможность самостоятельно изменять периоды отображения при
навигации пользователя по планировщику (например, с помощью колеса
мыши). Для этого следует обработать событие <span class="Term">ПриСменеТекущегоПериодаОтображения</span>. Если параметр <span class="Term">СтандартнаяОбработка</span> в обработчике этого
события будет установлен в значение <span class="Term">Ложь</span>, то периоды отображения, заданные
в параметре <span class="Term">ТекущиеПериодыОтображения</span>, не будут применены
и не произойдет смена периода отображения.</p>

<a id="TI000001465" class="bookmark" name="issogl4_7.3.3.2.5_переопределение_форм_редактирования_элементов"><h5>7.3.3.2.5. Переопределение форм редактирования элементов</h5></a>

<p class="MsoNormal">Для
редактирования элементов в планировщике существуют две формы: форма
быстрого редактирования и форма редактирования элемента. Для
переопределения форм редактирования используются следующие события:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПередСозданием</span> &#8209; в данном событии можно переопределить форму,
которая будет использоваться при создании нового элемента. По умолчанию используется
форма быстрого редактирования элемента. Надо иметь ввиду, что параметры <span class="Term">Начало</span>, <span class="Term">Конец</span>, <span class="Term">ЗначенияИзмерений</span> и <span class="Term">Текст</span> в обработчике события <span class="Term">ПередСозданием</span> поля планировщика являются
возвращаемыми, т. е. разработчик может сразу указать, какие значения будут
подставлены в форму создания нового элемента. Эта возможность может
потребоваться, если, например, элементы могут создаваться не чаще, чем один
элемент в 15 минут.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПередНачаломБыстрогоРедактирования</span> &#8209; в данном событии можно переопределить форму,
которая используется для быстрого редактирования элемента. По умолчанию
используется форма быстрого редактирования элемента.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПередНачаломРедактирования</span> &#8209; в данном событии можно переопределить форму,
которая используется для обычного редактирования элемента. Событие срабатывает
в следующих случаях:</p>

<p class="MsoListBullet2">&#9679; 
В системной форме быстрого редактирования
элемента нажата специальная кнопка. Если форма быстрого редактирования
переопределена, то прикладному разработчику необходимо самому реализовать
механизм открытия формы обычного редактирования события. В этом случае событие <span class="Term">ПередНачаломРедактирования</span> не используется.</p>

<p class="MsoListBullet2">&#9679; 
В контекстном меню элемента выбрана команда <span class="Interface">Редактировать</span>;</p>

<p class="MsoListBullet2">&#9679; 
На элементе, отображаемом в планировщике,
выполнен двойной щелчок мыши.</p>

<p class="MsoNormal">Для
того чтобы получить параметры редактирования события следует воспользоваться
свойством <span class="Term">ВыделенныеЭлементы</span> у элемента формы,
отображающего планировщик.</p>

<p class="MsoNormal">Собственно
переопределение формы выполняется следующим образом:</p>

<p class="List1">1. 
В обработчике нужного события открывается
требуемая форма;</p>

<p class="MsoListNumberCxSpLast">2.  Параметр
используемого обработчика <span class="Term">СтандартнаяОбработка</span> устанавливается
в значение <span class="Term">Ложь</span>.</p>

<a name="_ref42617883"></a><a id="TI000002360" class="bookmark" name="issogl4_7.3.3.2.6_формирование_контекстного_меню"><h5>7.3.3.2.6. Формирование контекстного меню</h5></a>

<p class="MsoNormal">При нажатии кнопки мыши в поле
планировщика, можно определить, какое действие будет выполняться
по умолчанию и какое меню будет показываться, если действие
по умолчанию не задано или сразу нажата правая кнопка мыши. Для выполнения
указанных действия предназначен обработчик события <span class="Term">ОбработкаФормированияКоманд</span>
поля планировщика.</p>

<p class="MsoNormal">Обработчик данного события содержит
следующие параметры:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПараметрыКоманд</span> &#8209; содержит набор значений, описывающих, где выполнено
нажатие кнопки мыши.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Команды</span> &#8209; массив, который (после выхода из обработчика)
описывает контекстное меню планировщика для данного нажатия кнопки мыши.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">КомандаПоУмолчанию</span> &#8209; содержит описание той команды, которая будет
выполнена при нажатии левой кнопки мыши в данном месте планировщика.</p>

<p class="MsoNormal">Рассмотрим
подробнее особенности формирования команд планировщика. Для описания команды
планировщика предназначен объект <span class="Term">ОписаниеКомандыПланировщика</span>. Описание команды
создается конструктором объекта. Собственно команда имеет несколько свойств:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Команда</span> &#8209; данный параметр указывает, какая команда будет
создана. В качестве значения данного параметра могут выступать следующие
значения:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Неопределено</span> &#8209; будет отображаться как разделитель в меню.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Массив</span> &#8209; в этом случае будет отображаться подменю,
которое состоит из команд, находящихся в массиве.</p>

<p class="MsoListBullet2">&#9679; 
Значение системного перечисления <span class="Term">СтандартнаяКомандаПланировщика</span> &#8209; в этом случае команда описывает выполнение
стандартной команды.</p>

<p class="MsoListBullet2">&#9679; 
Значение типа <span class="Term">ОписаниеОповещения</span> &#8209; значение данного типа описывает команду,
реализованную на встроенном языке в прикладном решении.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Представление</span> &#8209; задает текст представления команды или подменю. Для
разделителя может быть указан любой текст.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Доступность</span> &#8209; указывает, будет команда доступна в данном
случае или нет.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Картинка</span> &#8209; описывает картинку, которая отображается
в меню.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Пометка</span> &#8209; позволяет установить или снять отметку
у команды в контекстном меню.</p>

<p class="MsoNormal">Таким
образом, можно создать совершенно различные команды, которые (в общем случае)
позволяют достаточно гибко наполнять контекстное меню планировщика:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// создается разделитель</span>
Разделитель <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеКомандыПланировщика<span class="operator">(</span><span class="keyword">Неопределено</span><span class="operator">,</span> <span class="string">"-"</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// создается команда, описанная на встроенном языке</span>
УниверсальнаяКоманда <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеКомандыПланировщика<span class="operator">(</span><span class="keyword">Новый</span> ОписаниеОповещения<span class="operator">(</span><span class="string">"УниверсальнаяКоманда"</span><span class="operator">,</span> ЭтаФорма<span class="operator">,</span> Параметры<span class="operator">.</span>Источник<span class="operator">)</span><span class="operator">,</span> <span class="string">"Показать источник"</span><span class="operator">)</span><span class="operator">;</span>
КомандыПодменю <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
<span class="comment">// создается стандартная команды</span>
КомандыПодменю<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> ОписаниеКомандыПланировщика<span class="operator">(</span>СтандартнаяКомандаПланировщика<span class="operator">.</span>СоздатьЭлемент<span class="operator">,</span> <span class="string">"Создать"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
КомандыПодменю<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> ОписаниеКомандыПланировщика<span class="operator">(</span>СтандартнаяКомандаПланировщика<span class="operator">.</span>БыстроРедактироватьЭлемент<span class="operator">,</span> <span class="string">"Изменить"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// создается подменю</span>
Подменю <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеКомандыПланировщика<span class="operator">(</span>КомандыПодменю<span class="operator">,</span> <span class="string">"Дполнительные команды"</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Теперь
нам необходимо научиться понимать, в каком месте планировщика нажата
кнопка мыши. Для этого предназначено свойство <span class="Term">Параметры.Источник</span> обработчика события.
Анализируя это свойство, можно формировать различные контекстные меню
и действия по умолчанию. В обработчик не приходит информация
о том, какая кнопка мыши нажата: левая или правая. Но разработчик может
указать действие, которое будет выполнено при нажатии левой кнопки мыши
и меню, которое будет показываться при нажатии правой кнопки. Для этого
предназначены параметры обработчика <span class="Term">Команды</span> и <span class="Term">КомандыПоУмолчанию</span>.</p>

<p class="MsoNormal">Если
при покидании обработчика параметр <span class="Term">КомандаПоУмолчанию</span> имеет значение отличное
от <span class="Term">Неопределено</span>, то эта команда будет вызвана при
нажатии левой кнопки мыши в соответственном источнике, при этом обработчик
события <span class="Term">НажатиеНа…</span> поля планировщика вызван не будет.
При вызове обработчика формирования команд, платформа уже указывает для данного
параметра какую-то стандартную команду планировщика. Если этот параметр равен
значению <span class="Term">Неопределено</span> или нажата правая кнопка мыши, то
будет открыто контекстное меню, которое описано в параметре обработчика <span class="Term">Команды</span>. К обработчикам событий вида <span class="Term">НажатиеНа…</span> относятся обработчики следующих
событий: <span class="Term">НажатиеНаЭлементеИзмерения</span>, <span class="Term">НажатиеНаЭлементеШкалыВремени</span>, <span class="Term">НажатиеНаПеренесенномЗаголовкеШкалыВремени</span>, <span class="Term">НажатиеНаНавигационнойСсылке</span>, <span class="Term">НажатиеНаДействиеПланировщика</span>.</p>

<p class="MsoNormal">Обработчик
формирования команд, и обработчики нажатия этих областей планировщика <span class="Term">НажатиеНа…</span>, вызываются в том случае,
когда для поля планировщика установлены следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ИсточникКомандПланировщика.ЭлементИзмерения</span>
и обработчик события <span class="Term">НажатиеНаЭлементеИзмерения</span> &#8209; необходимо установить свойство поля планировщика <span class="Interface">Гиперссылка элемента
шкалы измерения</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ИсточникКомандПланировщика.ЭлементШкалыВремени</span>
и обработчик события <span class="Term">НажатиеНаЭлементеШкалыВремени</span> &#8209; необходимо установить свойство планировщика <span class="Interface">Гиперссылка элемента
шкалы времени</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ИсточникКомандПланировщика.ОбластьПеренесенногоЗаголовкаШкалыВремени</span>
и обработчик события <span class="Term">НажатиеНаПеренесенномЗаголовкеШкалыВремени</span> &#8209; необходимо установить свойство планировщика <span class="Interface">Гиперссылка
перенесенного заголовка шкалы времени</span>.</p>

<a name="_ref42617907"></a><a id="TI000002361" class="bookmark" name="issogl4_7.3.3.2.7_действия_элемента"><h5>7.3.3.2.7. Действия элемента</h5></a>

<p class="MsoNormal">Элемент планировщика может содержать одно
или несколько действий. Можно сказать, что действие &#8209; это
некоторый идентификатор (и его оформление), которое позволяет пользователю
выполнять какие-то операции с элементом планировщика.</p>

<p class="Regularbeforetable">Действие
описывается с помощью объекта <span class="Term">ДействиеЭлементаПланировщика</span>, которое обладает
следующими свойствами:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Свойство</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Видимость</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Если свойство установлено в значение <span class="Term">Истина</span>, то такое действие будет отображаться
  в элементе планировщика и формах редактирования элемента.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Доступность</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Если свойство установлено в значение <span class="Term">Истина</span>, то при нажатии на действие
  вызывается обработчик события планировщика <span class="Term">НажатиеНаДействиеПланировщика</span>.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Значение</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Представляет собой уникальный
  идентификатор действия. Содержимое данного свойства должно позволить
  однозначно идентифицировать действие в коллекции <span class="Term">Действия</span> элемента планировщика.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Картинка</span> и</p>
  <p class="MsoNormal"><span class="Term">Текст</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Представление действия, которое будет
  показано пользователю. Вначале отображается картинка, затем текст. Текст
  может быть задан как простой, так и форматированной строкой.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Подсказка</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Подсказка, которая будет отображаться
  пользователю после наведения курсора мыши на данное действие.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Положение</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Указывает, каким образом будет
  отображаться действие в элементе планировщика (значение типа <span class="Term">ПоложениеДействияЭлементаПланировщика</span>):</p>
  <p class="MsoListBullet">&#9679; 
  <span class="Term">ВКонцеЭлемента</span> &#8209; действие
  отображается в области у правого (нижнего) края элемента
  планировщика для горизонтального (вертикального) положения шкалы времени
  соответственно.</p>
  <p class="MsoListBullet">&#9679; 
  <span class="Term">ПослеТекста</span> &#8209; действие
  отображается в области сразу после текста:</p>
  <p class="MsoListBullet2">&#9679; 
  Вдоль правой границы элемента &#8209; для
  горизонтального положения шкалы времени.</p>
  <p class="MsoListBullet2">&#9679; 
  Вдоль левой границы элемента &#8209; для
  вертикального положения шкалы времени.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Шрифт</span> и</p>
  <p class="MsoNormal"><span class="Term">ЦветТекста</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Позволяют задать параметры отображения
  текста, которым представлено действие.</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Для
того чтобы добавить действие к элементу планировщика, следует использовать
метод <span class="Term">Добавить()</span> коллекции <span class="Term">Действия</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ДействиеНазад <span class="operator">=</span> ЭлементПланировщика<span class="operator">.</span>Действия<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"ДействиеНазад"</span><span class="operator">,</span> <span class="string">""</span><span class="operator">,</span> БиблиотекаКартинок<span class="operator">.</span>ПредыдущийЭтап<span class="operator">)</span><span class="operator">;</span>
ДействиеНазад<span class="operator">.</span>Положение <span class="operator">=</span> ПоложениеДействияЭлементаПланировщика<span class="operator">.</span>ВКонцеЭлемента<span class="operator">;</span>
ДействиеНазад<span class="operator">.</span>Подсказка <span class="operator">=</span> <span class="string">"На предыдущий этап"</span><span class="operator">;</span></pre><p class="MsoNormal">После
добавления действия к элементу планировщика, эти действия автоматически
отображаются:</p>

<p class="MsoListBullet">&#9679; 
На поле планировщика.</p>

<p class="MsoListBullet">&#9679; 
В системной форме быстрого редактирования
элемента.</p>

<p class="MsoListBullet">&#9679; 
В системной форме обычного редактирования
элемента.</p>

<p class="MsoNormal">Если
элемент планировщика формируется следующим кодом на встроенном языке:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Элемент <span class="operator">=</span> Планировщик<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Дата<span class="operator">(</span><span class="date">'20200610150000'</span><span class="operator">)</span><span class="operator">,</span> Дата<span class="operator">(</span><span class="date">'20200610154000'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
Элемент<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Постричь Василия"</span><span class="operator">;</span>
Измерения <span class="operator">=</span> <span class="keyword">Новый</span> Соответствие<span class="operator">;</span>
Измерения<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"Зал"</span><span class="operator">,</span> Перечисления<span class="operator">.</span>ВидЗала<span class="operator">.</span>Мужской<span class="operator">)</span><span class="operator">;</span>
Измерения<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"Мастер"</span><span class="operator">,</span> <span class="string">"Иванов"</span><span class="operator">)</span><span class="operator">;</span>
Элемент<span class="operator">.</span>ЗначенияИзмерений <span class="operator">=</span> <span class="keyword">Новый</span> ФиксированноеСоответствие<span class="operator">(</span>Измерения<span class="operator">)</span><span class="operator">;</span>
Действие <span class="operator">=</span> Элемент<span class="operator">.</span>Действия<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Изменить"</span><span class="operator">,</span> <span class="string">""</span><span class="operator">,</span> БиблиотекаКартинок<span class="operator">.</span>Изменить<span class="operator">)</span><span class="operator">;</span>
Действие<span class="operator">.</span>Подсказка <span class="operator">=</span> <span class="string">"Отредактировать запись клиента"</span><span class="operator">;</span></pre><p class="Regularbeforepicture">То
действие, указанное для этого элемента, будет отображаться следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:364/247" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00239.gif" width="364" alt="" height="247"></p>

<p class="MsoCaption">Рис.
241. Действие элемента</p>

<p class="MsoNormal">Для
того чтобы реализовать собственно действие, необходимо для поля планировщика
определить обработчик события <span class="Term">НажатиеНаДействиеПланировщика</span>. В этом событии
необходимо проанализировать действие, которое выбрали в элементе
планировщика, и выполнить нужные действия.</p>

<a id="TI000001467" class="bookmark" name="issogl4_7.3.3.2.8_повторяющиеся_элементы"><h5>7.3.3.2.8. Повторяющиеся элементы</h5></a>

<p class="MsoNormal">Элементы
(см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref404182735">здесь</a>) бывают однократные и повторяющиеся. Повторяющиеся
элементы обладают расписанием (или правилами повторения элементов). Расписание
задается с помощью одноименного свойства (<span class="Term">Расписание</span>). Несколько элементов, образованных
в результате задания расписания, образуют серию элементов. В рамках серии
возможно как изменение параметров всей серии, так и изменение параметров
одного, конкретного, элемента серии.</p>

<p class="MsoNormal">Повторяющиеся
элементы по-разному представлены в коллекции элементов и при
отображении на форме. В коллекции элементов повторяющийся элемент будет
представлен в единственном числе и у этого элемента будет заполнено
свойство <span class="Term">Расписание</span>.</p>

<p class="MsoNormal">При
отображении на форме будут присутствовать все повторяющиеся элементы,
однако возможность их перебрать система не предоставляет. В то же время, при
попытке отредактировать какой-либо элемент, образующий серию, свойство элемента
формы <span class="Term">ВыделенныеЭлементы</span> будет содержать коллекцию
из элементов планировщика, которые образуют серию для элемента
с расписанием. У таких элементов не будет установлено свойство <span class="Term">Расписание</span>, но будет заполнено свойство <span class="Term">Родитель</span>.</p>

<p class="MsoNormal">Свойство
<span class="Term">Родитель</span> будет ссылать на элемент,
расписание которого привело к созданию серии, часть которой предполагается
редактировать.</p>

<p class="MsoNormal">Если
в форме планировщика выполнить ручное редактирование одного
из элементов серии повторяющихся элементов, то в родительском событии
серии станет заполнено свойство <span class="Term">ЗамещающиеЭлементы</span>. В данной коллекции будут
указаны те элементы серии, для которых были изменены параметры (относительно
родительского события). При создании структуры хранения данных об элементах,
следует помнить о том, что в этой структуре необходимо хранить не
только родительские элементы, но и элементы, для которых некоторые
параметры отличаются от заданных для серии в целом.</p>

<p class="MsoNormal">Если
редактируется элемент из серии, который является замещающим, то свойство <span class="Term">ДатаЗамещения</span> указывает на ту дату
и время, которые были получены в результате первоначального создания
серии системой.</p>

<a id="TI000002748" class="bookmark" name="issogl4_7.3.3.2.9_перетаскивание_и_планировщик"><h5>7.3.3.2.9. Перетаскивание и планировщик</h5></a>

<p class="MsoNormal">Когда
выполняется операция перетаскивания какого-либо объекта в поле
планировщика, то следует использовать общую схему работы с перетаскиванием
(подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref140583992">здесь</a>). Дополнительно следует учитывать, что обработчики событий <span class="Term">ПроверкаПеретаскивания</span> и <span class="Term">Перетаскивание</span> поля планировщика (кроме
стандартных параметров) содержат параметры, описывающие дату (параметр <span class="Term">Дата</span>) и значения измерений планировщика
(параметр <span class="Term">ЗначенияИзмерений</span>) над которыми находится
курсор мыши и перетаскиваемые значения.</p>

<p class="MsoNormal">Для
того, чтобы обработать перетаскивание элементов, которое выполняется только внутри
поля планировщика, необходимо использовать обработчик события поля планировщика
<span class="Term">ПроверкаПеретаскиванияВнутри()</span>. Т. к.
и источник и приемник в данном случае находятся в одном
и том же поле формы, то для работы с перетаскиванием используется
только это событие.</p>

<p class="Regularbeforetable">Обработчик
события <span class="Term">ПроверкаПеретаскиванияВнутри()</span>вызывается
в случае выделение пустой области планировщика для создания элемента
планировщика, при выделении, перетаскивании, изменении границ или копировании одного
или нескольких элементов планировщика. Эти действия описываются параметром
обработчика <span class="Term">ДействиеПеретаскивания</span> (значение имеет тип <span class="Term">ДействиеПеретаскиванияВнутриПланировщика</span>):</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Значение</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Выделение</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">В этом случае пользователь выделяет разные
  элементы поля планировщика с нажатой клавишей <span class="Interface">Shift</span>.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Копирование</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Пользователь перетаскивает элемент
  планировщика в другое место поля с нажатой клавишей <span class="Interface">Ctrl</span>.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Редактирование</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Пользователь выполняет редактирование
  элемента планировщика, например, изменяет границы элемента и меняет его
  (элемента) местоположение.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Создание</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Пользователь выделяет пустую область поля
  планировщика для создания нового элемента.</p>
  </td>
  
 </tr>
</tbody></table>

<p class="Regularbeforetable">Параметр
обработчика <span class="Term">ПараметрыПеретаскивания</span> содержит фиксированный
массив, каждый элемент которого описывает элемент поля планировщика, который
выбран пользователем для выполнения того или иного действия. Каждый элемент
описывается объектом типа <span class="Term">ПараметрПеретаскиванияВнутриПланировщика</span>
и содержит следующие свойства:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Свойство</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">ЗначенияИзмерений</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Соответствие, которое содержит значения
  измерений планировщика для текущего элемента.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Конец</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Содержит информацию о дате и времени
  окончания элемента планировщика.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Начало</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Содержит информацию о дате и времени
  начала элемента планировщика.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Элемент</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Содержит ссылку на редактируемый или
  копируемый элемент планировщика. В остальных случаях содержит значение <span class="Term">Неопределено</span>.</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Когда
речь идет о свойствах <span class="Term">Начало</span> и <span class="Term">Конец</span>, то следует помнить о следующих
особенностях:</p>

<p class="MsoListBullet">&#9679; 
В случае создания элемента планировщика путем
выделения пустой области, эти значения описывают начало и конец области
выделения.</p>

<p class="MsoListBullet">&#9679; 
В случае выделения элементов планировщика, эти
значения описывают начало и конец области выделения.</p>

<p class="MsoListBullet">&#9679; 
В случае редактирования элемента планировщика
путем перетаскивания, эти значения описывают начало и конец редактируемого
элемента.</p>

<p class="MsoListBullet">&#9679; 
В случае копирования существующего элемента
планировщика, эти значения описывают начало и конец копируемого элемента.</p>

<p class="Regularbeforetable">Параметр
обработчика <span class="Term">ВариантИзмененияГраниц</span> указывает, какое
действие пользователь сейчас выполняет с элементов планировщика:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Свойство</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Конец</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Происходит изменение окончания элемента
  планировщика. Элемент планировщика увеличивается или уменьшается со стороны
  окончания элемента.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Начало</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Происходит изменение начала элемента
  планировщика. Элемент планировщика увеличивается или уменьшается со стороны
  начала элемента.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">НачалоИКонец</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Происходит изменение положения элемента
  планировщика.</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Последним
параметром обработчика служит возвращаемый параметр <span class="Term">Отказ</span>, который описывает необходимость
изменять поле планировщика в соответствии со значениями, которые находятся
в параметре <span class="Term">ПараметрыПеретаскивания</span>. Изменение будет
сделано в том случае, если параметр <span class="Term">Отказ</span> имеет значение <span class="Term">Ложь</span> (является значением параметра при вызове
обработчика события). Если параметр <span class="Term">Отказ</span>, во время исполнения обработчика
события, установлен в значение <span class="Term">Истина</span>, то при выходе из события никаких
действий не будет выполнено (не будет создан новый элемент, не будет выполнено
копирование, перемещение или изменение размеров одного или нескольких
элементов) и границы выделения останутся в том положении, в каком
они были до вызова обработчика события.</p>

<p class="MsoNormal">Таким
образом, когда пользователь выполняет в поле планировщика какое-то
действие мышью, то в обработчик события <span class="Term">ПроверкаПеретаскиванияВнутри()</span> поступает вся
необходимая информация:</p>

<p class="MsoListBullet">&#9679; 
Что выделено пользователем? Для этого служит
параметр события <span class="Term">ПараметрыПеретаскивания</span>.</p>

<p class="MsoListBullet">&#9679; 
Что делает пользователь? Для этого служат
параметры <span class="Term">ВариантИзмененияГраницы</span> и <span class="Term">ДействиеПеретаскивания</span>.</p>

<p class="MsoListBullet">&#9679; 
Пользователь может завершить действие? Для этого
служит параметр <span class="Term">Отказ</span>.</p>

<a id="TI000001466" class="bookmark" name="issogl3_7.3.3.3_общая_схема_редактирования_данных_планировщика"><h4>7.3.3.3. Общая схема редактирования данных планировщика</h4></a>

<p class="MsoNormal">Как
было сказано ранее (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref390788495">здесь</a>), планировщик не является средством хранения данных. Он
является средством их (данных) отображения. Поэтому для хранения информации
о событиях в информационной базе должна быть создана соответствующая
структура данных, например, справочник.</p>

<p class="MsoNormal">Общая
схема работы выглядит следующим образом:</p>

<p class="List1">1. 
Определяются общие параметры планировщика,
количество измерений, настройки шкалы времени и т. д.</p>

<p class="MsoListNumberCxSpMiddle">2.  Определяется
текущий период отображения планировщика;</p>

<p class="MsoListNumberCxSpMiddle">3.  В
соответствии с установленным периодом отображения из информационной
базы получаются данные об отображаемой информации, и выполняется создание
нужных событий в элементе формы. В качестве значения свойства <span class="Term">Значение</span> для элемента планировщика
используется ссылка на элемент справочника, хранящего данные.</p>

<p class="MsoListNumberCxSpLast">4.  При
редактировании или удалении элементов запоминаются свойство <span class="Term">Значение</span> для событий, которые были изменены
или удалены. Это можно сделать с помощью реквизитов формы, в которых
будут сохраняться значения свойства <span class="Term">Значение</span> измененных или удаленных элементов.</p>

<p class="Indentlist">Новые
элементы можно будет определить по незаполненному свойству <span class="Term">Значение</span> у элемента. Для этого необходимо
перебрать всю коллекцию <span class="Term">Планировщик.Элементы</span>.</p>

<p class="MsoListNumber">5.  При
смене периода отображения выполняется создание элементов, которые принадлежат
новому периоду отображения.</p>

<p class="MsoListNumber">6.  При
успешном завершении работы с планировщиком, выполняется синхронизация
данных планировщика и справочника, в котором хранятся данные
элементов.</p>

<a name="_ref427316654"></a><a name="_ref427316653"></a><a name="_ref423694245"></a><a name="_toc164776101"></a><a id="TI000001665" class="bookmark" name="issogl2_7.3.4_диаграммы"><h3>7.3.4. Диаграммы</h3></a>

<a name="_ref2864273"></a><a id="TI000001666" class="bookmark" name="issogl3_7.3.4.1_общие_сведения"><h4>7.3.4.1. Общие сведения</h4></a>

<p class="Regularbeforepicture">Диаграммой
называют способ графического представления данных. Простой разновидностью
диаграммы является график. График используется для отображения
последовательного изменения величин во времени или в зависимости
от изменения других величин. Например, с помощью графика можно
продемонстрировать изменение цены товара в течение года.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:633/348" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00240.gif" width="633" alt="" height="348"></p>

<p class="MsoCaption">Рис.
242. Пример графика</p>

<p class="Regularbeforepicture">По
вертикальной оси графика отмечены значения показываемой величины (цена),
по горизонтальной оси &#8209; точки графика (месяцы). В случае необходимости
отображения различных показателей на одном графике их величины показывают
в виде отдельных серий.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:633/348" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00241.gif" width="633" alt="" height="348"></p>

<p class="MsoCaption">Рис.
243. Пример графика c 2 сериями</p>

<p class="MsoNormal">В
приведенном примере <span class="Interface">Яблоки</span> и <span class="Interface">Яйца</span> &#8209; серии диаграммы, месяцы &#8209; точки диаграммы.</p>

<p class="MsoNormal">Для
наглядного отображения данных разного вида используют различные типы диаграмм.
Доступны три типа данных для работы с диаграммами:</p>

<p class="MsoListBullet">&#9679; 
Диаграмма (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref423094550">здесь</a>). Диаграмма доступна для размещения в форме, табличном
документе и системе компоновки данных.</p>

<p class="MsoListBullet">&#9679; 
Диаграмма Ганта (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref423094556">здесь</a>). Диаграмма Ганта доступна для размещения в форме
и табличном документе.</p>

<p class="MsoListBullet">&#9679; 
Дендрограмма (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref423094562">здесь</a>). Дендрограмма доступна для размещения в форме
и табличном документе.</p>

<p class="MsoNormal">Далее
каждый из основных видов диаграмм будет рассмотрен более подробно.</p>

<p class="MsoNormal">На
диске ИТС опубликована конфигурация, содержащая примеры построения различных
видов диаграмм: <a href="https://its.1c.ru/db/metod8dev/content/5952/hdoc" target="_top">https://its.1c.ru/db/metod8dev#content:5952:hdoc</a>. Эта конфигурация также доступна
в разделе демонстрационных версий на сайте фирмы «1С»: <a href="http://demo.1c.ru/" target="_blank">http://demo.1c.ru/</a>.<a name="_ref423094550"></a><a name="_ref466373913"></a></p>

<a name="_ref466561243"></a><a id="TI000001875" class="bookmark" name="issogl3_7.3.4.2_интерактивное_редактирование_свойств_диаграмм"><h4>7.3.4.2. Интерактивное редактирование свойств диаграмм</h4></a>

<a id="TI000001876" class="bookmark" name="issogl4_7.3.4.2.1_общая_информация"><h5>7.3.4.2.1. Общая информация</h5></a>

<p class="MsoNormal">Конфигуратор
позволяет редактировать свойства четырех основных областей диаграммы:</p>

<p class="List1">1.  Всей
диаграммы в целом.</p>

<p class="MsoListNumberCxSpMiddle">2. 
Область построения диаграммы &#8209; та область, где
отображается собственно диаграмма.</p>

<p class="MsoListNumberCxSpMiddle">3. 
Область заголовка диаграммы &#8209; область, где
отображается заголовок диаграммы.</p>

<p class="MsoListNumberCxSpLast">4. 
Область легенды &#8209; область, где
отображается легенда диаграммы: как называются отображаемые данные и каким
образом они отображаются на диаграмме.</p>

<p class="MsoNormal">Пример расположения областей диаграммы
приведен на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577185">рис.266</a>.</p>

<p class="MsoNormal">Для редактирования свойств диаграммы
необходимо выполнить следующие действия:</p>

<p class="MsoListBullet">&#9679; 
В форме:</p>

<p class="MsoListBullet2">&#9679; 
Выделить реквизит формы требуемого типа: <span class="Term">Диаграмм</span>,
<span class="Term">ДиаграммаГанта</span> или
<span class="Term">Дендрограмма</span>.</p>

<p class="MsoListBullet2">&#9679; 
Для данного реквизита выбрать команду <span class="Interface">Перейти</span>.</p>

<p class="MsoListBullet2">&#9679; 
В открывшемся диалоге выбрать объект перехода <span class="Interface">Данные</span><span class="Interface"> &#8209; Тип
диаграммы</span><span class="Interface"> &#8209; Настройка</span>.</p>

<p class="MsoListBullet">&#9679; 
В табличном документе:</p>

<p class="MsoListBullet2">&#9679; 
Выбрать рисунок необходимого типа (вставка
рисунка осуществляется с помощью команд меню <span class="Interface">Сервис и настройки</span><span class="Interface"> &#8209; Таблица</span><span class="Interface"> &#8209; Рисунки</span>).</p>

<p class="MsoListBullet2">&#9679; 
Открыть палитру свойств рисунка.</p>

<p class="Regularbeforepicture">В палитре свойств имеется возможность
выбрать, какую область диаграммы будет отображать палитра. Для этого
предназначен выпадающий список, расположенный под строкой поиска в палитре
свойств.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:397/477" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00242.gif" width="397" alt="" height="477"></p>

<p class="MsoCaption">Рис. 244. Выбор области
настройки диаграммы</p>

<p class="MsoNormal">В выпадающем списке перечислены 4 основных
области диаграммы, описание которых приведено в начале данного раздела.</p>

<a id="TI000001877" class="bookmark" name="issogl4_7.3.4.2.2_редактирование_свойств_диаграммы"><h5>7.3.4.2.2. Редактирование свойств диаграммы</h5></a>

<a name="_ref466045171"></a><a id="TI000001878" class="bookmark" name="issogl5_общая_информация1"><h6>Общая информация</h6></a>

<p class="MsoNormal">Набор
свойств, редактируемых для диаграммы в целом, существенно зависит
от вида самой диаграммы.</p>

<p class="MsoNormal">В
общем случае, в свойствах диаграммы редактируется доступность самой
диаграммы, необходимость отображения заголовка диаграммы и параметры
отображения. В панели свойств эти параметры сгруппированы в группы <span class="Interface">Основные</span>, <span class="Interface">Характеристики</span> и <span class="Interface">Оформление</span>.</p>

<p class="MsoNormal">Также
имеется возможность настроить параметры отображения серий. Эти параметры
зависят от вида диаграммы, но имеется три общих параметра:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображать графическое
представление данных в диаграмме</span> &#8209; этот параметр
указывает, каким образом выбранная серия будет отображаться в диаграмме:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Отображать</span> &#8209; данная серия
будет всегда отображаться в диаграмме.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Не отображать</span> &#8209; выбранная серия
не будет отображаться в диаграмме и не будет участвовать
в формировании объединенной серии.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Авто</span> (значение
по умолчанию) &#8209; выбранная серия
отображается в диаграмме, если не включено ограничений по количеству
серий.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображать в легенде</span> &#8209; определяет,
каким образом выбранная серия будет отображаться в легенде диаграммы:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Отображать</span> &#8209; серия
отображается в легенде.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Не отображать</span> &#8209; серия не
отображается в легенде.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Авто</span> (значение
по умолчанию) &#8209; отображение
серии в легенде управляется свойством <span class="Interface">Отображать графическое представление данных в диаграмме</span>.
Серия будет отображаться в легенде в том случае, если она
отображается в диаграмме.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Линии тренда</span> &#8209; позволяет
указать параметры построения линий тренда для серии (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref503367358">здесь</a>).</p>

<p class="MsoNormal">В том случае, если для диаграммы
в значение <span class="Term">Истина</span>
установлено свойство <span class="Interface">Пропускать базовые значения</span>, то в расчет линий
тренда не попадают точки с базовым значением. В диаграммах
с накоплением и нормированных диаграммах линии тренда отображаются
«как есть», т. е. без накопления.</p>

<a id="TI000001879" class="bookmark" name="issogl5_диаграмма"><h6>Диаграмма</h6></a>

<p class="MsoNormal">Для
объектов типа <span class="Term">Диаграмма</span>, в свойствах самой диаграммы
редактируется тип диаграммы, область данных, характеристики отображения
и т. д. Также для объекта <span class="Term">Диаграмма</span> имеется возможность редактировать параметры
отображения каждой серии диаграммы и характеристики отображения точек. При
необходимости сменить настраиваемую серию, следует использовать свойство
диаграммы <span class="Interface">Текущая серия</span>. Если в диаграмме используется
ограничение по количеству серий (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref465952951">здесь</a>), сводная серия настраивается при выборе в свойстве <span class="Interface">Текущая серия</span> значения <span class="Interface">Сводная</span>.</p>

<p class="MsoNormal">Свойство
<span class="Interface">Порядок серий в легенде</span> определяет, каким образом будет
отображаться списко серий в легенде диаграммы:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Прямой</span> &#8209; порядок
следования серий в легенде соответствует порядку добавления серий.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обратный</span> &#8209; порядок
следования серий в легенде соответствует обратному порядку добавления
серий.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> (значение
по умолчанию) &#8209; в этом
случае порядок следования серий в легенде зависит от вида диаграммы:</p>

<p class="MsoListBullet2">&#9679; 
Обратный порядок используется для следующих
диаграмм: гистрограмма горизонтальная, гистрограмма горизонтальная объемная,
график с накоплением, график с областями и накоплением, график
с областями нормированный, гистограмма с накоплением, гистограмма
с накоплением объемная, гистрограмма нормированная, гистрограмма
нормированная объемная.</p>

<p class="MsoListBullet2">&#9679; 
Прямой порядок используется для остальных
диаграмм.</p>

<p class="MsoNormal">Группа
свойств <span class="Interface">Ось значений</span> описывает параметры, с помощью которых
можно указать базовое значение диаграммы (свойство <span class="Interface">Базовое значение</span>) и правила вычисления максимального
и минимального значений диаграммы.</p>

<p class="MsoNormal">Для
указания максимального и минимального значения диаграммы предоставляется несколько
различных вариантов:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Автоопределение</span>
(значение по умолчанию) &#8209; в этом
случае максимальное/минимальное значение определяется исходя из данных,
установленных для отображения диаграммой.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Использовать значение</span> &#8209; в этом
случае конкретные значения максимального/минимального значения задаются
значениями в свойстсвах <span class="Interface">Максимальное значение</span>/<span class="Interface">Минимальное значение</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Использовать значение
с ограничением</span> &#8209; в этом
случае максимальное/минимальное значение задается в свойствах <span class="Interface">Максимальное значение</span>/<span class="Interface">Минимальное значение</span>, но если фактические
максимальные/минимальные значения отображаемых данных превышают (по модулю)
указанные значения &#8209; будут
использоваться реальные максимальные/минимальные значения.</p>

<p class="MsoNormal">Если
максимальное и минимальное значения для диаграммы указаны таким образом,
что минимальное значение больше максимального (например, в результате
ошибки в явной установке значений), то расчет фактических максимального
и минимального значений, выполняется следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Если значение свойства <span class="Interface">Расчет максимального значения диаграммы</span> равно <span class="Interface">Использовать значение</span>, и значение свойства <span class="Interface">Расчет минимального значения диаграммы</span> не равно <span class="Interface">Использовать значение</span>, то при расчёте интервала:</p>

<p class="MsoListBullet2">&#9679; 
Минимальное значение рассчитывается
по формуле <span class="Term">МаксимальноеЗначени</span><span class="Term">e</span><span class="Term">*2–МинимальноеЗначение</span>.</p>

<p class="MsoListBullet2">&#9679; 
Минимальное значение корректируется (в меньшую
сторону) таким образом, чтоб получить «красивое» деление шкалы.</p>

<p class="MsoListBullet">&#9679; 
Если значение свойства <span class="Interface">Расчет минимального значения диаграммы</span> равно <span class="Interface">Использовать значение</span>, и значение свойства <span class="Interface">Расчет максимального значения диаграммы</span> не равно <span class="Interface">Использовать значение</span>, то при расчёте интервала:</p>

<p class="MsoListBullet2">&#9679; 
Максимальное значение расчитывается
по формуле <span class="Term">МинимальноеЗначение*2–МаксимальноеЗначени</span><span class="Term">e</span>.</p>

<p class="MsoListBullet2">&#9679; 
Максимальное значение корректируется (в меньшую
сторону) таким образом, чтоб получить «красивое» деление шкалы.</p>

<p class="MsoListBullet">&#9679; 
Если значение свойства <span class="Interface">Расчет минимального значения диаграммы</span> равно <span class="Interface">Использовать значение</span>, и значение свойства <span class="Interface">Расчет максимального значения диаграммы</span> равно <span class="Interface">Использовать значение</span>, то при расчёте интервала:</p>

<p class="MsoListBullet2">&#9679; 
Маскимальное значение рассчитывается
по формуле <span class="Term">МинимальноеЗначение*2–МаксимальноеЗначени</span><span class="Term">e</span>.</p>

<p class="MsoListBullet2">&#9679; 
Максимальное значение корректируется (в меньшую
сторону) таким образом, чтоб получить «красивое» деление шкалы. Следует
отметить, что корректировка максимального значения выполняется несмотря
на то, что алгоритм расчета максимального значения задан как <span class="Interface">Использовать значение</span>. Эта коррекция выполняется потому,
что заданы некорректные максимальное и минимальное значения.</p>

<p class="MsoNormal">Если
на оси значений откладываются числовые значения, а в качестве
максимального/минимального значени указано значение типа <span class="Term">Дата</span>, то соответствующее установленное значение
игнорируется, и расчёт максимума/минимума выполняется автоматически.</p>

<p class="MsoNormal">Для
диаграмм, расположенных в табличном документе, имеется возможность указать
область ячеек табличного документа, которая будет являться источником данных
для диаграммы. Для этого предназначено свойство <span class="Interface">Область данных</span>. В этом случае имеется возможность указать,
каким образом расположены серии данных: в строках или в столбцах
(свойство <span class="Interface">Серии в строках</span>).</p>

<p class="MsoNormal">Так,
если в качестве примера рассмотреть тестовый набор данных
(см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref466040500">здесь</a>), который используется далее в данной главе, то:</p>

<p class="MsoListBullet">&#9679; 
Если свойство <span class="Interface">Серии в строках</span> установлено, то в качестве
серий будут использованы значения из строк <span class="Interface">14.03</span>, <span class="Interface">15.03</span>, <span class="Interface">16.03</span>, <span class="Interface">17.03</span>.</p>

<p class="MsoListBullet">&#9679; 
Если свойство <span class="Interface">Серии в строках</span> сброшено, то в качестве серий
будут использованы значения из колонок <span class="Interface">Оптовые покупатели</span>, <span class="Interface">Розничные покупатели</span> и <span class="Interface">Дилеры</span>.</p>

<a name="_ref503367358"></a><a id="TI000002027" class="bookmark" name="issogl5_линии_тренда"><h6>Линии тренда</h6></a>

<p class="MsoNormal"><span class="Bold">Линия тренда</span>
представляет собой геометрическое отображение средних значений анализируемых
показателей, полученное с помощью какой-либо математической функции.
Система «1С:Предприятие» предоставляет возможность выполнять построение линий
тренда с помощью следующих функций:</p>

<p class="MsoListBullet">&#9679; 
Линейная. Используется уравнение вида <span class="Term">y</span><span class="Term">=</span><span class="Term">a</span><span class="Term">*</span><span class="Term">x</span><span class="Term">+</span><span class="Term">b</span>.</p>

<p class="MsoListBullet">&#9679; 
Экспоненциальная. Используется уравнение вида: <span class="Term">y</span><span class="Term">=</span><span class="Term">b</span><span class="Term">*</span><span class="Term">e</span><span class="TermSuper">(</span><span class="TermSuper">a</span><span class="TermSuper">*</span><span class="TermSuper">x</span><span class="TermSuper">)</span>.</p>

<p class="MsoListBullet">&#9679; 
Логарифмическая. Используется уравнение вида: <span class="Term">y</span><span class="Term">=</span><span class="Term">a</span><span class="Term">*</span><span class="Term">ln</span><span class="Term">(</span><span class="Term">x</span><span class="Term">)+</span><span class="Term">b</span>.</p>

<p class="MsoListBullet">&#9679; 
Степенная. Используется уравнение: <span class="Term">y</span><span class="Term">=</span><span class="Term">a</span><span class="Term">*</span><span class="Term">x</span><span class="TermSuper">b</span>.</p>

<p class="MsoListBullet">&#9679; 
Полиномиальная. Используется уравнение вида: <span class="Term">a</span><span class="Term">0+</span><span class="Term">a</span><span class="Term">1*</span><span class="Term">x</span><span class="Term">+…+</span><span class="Term">aN</span><span class="Term">*(</span><span class="Term">x</span><span class="TermSuper">N</span><span class="Term">)</span>,
где <span class="Term">N</span> больше 2.</p>

<div>

<p class="Note"><span class="Note">ПРИМЕЧАНИЕ</span>. Описание используемых
функций и их особенностей выходит за рамки данной документации.
Особенности поведения используемых функций и их (функций) параметризацию
следует искать в соответствующих учебных материалах.</p>

</div>

<p class="Regularbeforepicture">Редактирование линий тренда осуществляется
в специальном диалоге.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:700/275" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00243.gif" width="700" alt="" height="275"></p>

<p class="MsoCaption">Рис. 245. Настройка линий
тренда</p>

<p class="MsoNormal">Для одной серии можно указать более одной
линии тренда. Для этого нужно добавить новую линию тренда в данном диалоге.
При добавлении указываются:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Тип</span> &#8209; какая функция
будет использоваться для построения линии тренда. Список функций приведен выше.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Порядок аппроксимации</span> &#8209; определяет
значение N в том случае, если
типом линии тренда выбрана полиномиальная функция.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Фактор</span> &#8209; что будет
являться значением (фактором) для интерполяции:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Номер точки</span> &#8209; фактором будет
выступать порядковый номер точки на данной диаграмме (нумерация начинается
с 1).</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Значение точки</span> &#8209; фактором будет
являться свойство <span class="Interface">Значение</span> точки, приведённое к типу <span class="Term">Число</span>.
Если значениями серии или точек являются даты, и для линии тренда свойство
<span class="Interface">Фактор</span>
установлено в <span class="Interface">Значение точки</span>, то при расчёте тренда, даты переводятся
в числа как количество дней (суток), прошедшее с минимальной для
данной диаграммы даты. Количество дней может быть дробным.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Авто</span> (значение
по умолчанию) &#8209; фактором будет
выступать либо как номер точки, либо ее значение, в зависимости
от значений всех точек.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Значение в биржевой
диаграмме</span> &#8209; в биржевой
диаграмме и диаграмме биржевая «свеча» каждая точка задаётся четырьмя
значениями: цена открытия, максимальная, минимальная, цена закрытия. Данное
свойство указывает, какие значения будут использоваться для интерполяции.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Цвет</span> &#8209; определяет цвет
линии тренда. Если в качестве цвета указано значение <span class="Interface">Авто</span> (для этого следует очистить заданное значение
кнопкой очистки значения), то цвет линии тренда будет:</p>

<p class="MsoListBullet2">&#9679; 
если выводится несколько серий &#8209; равен цвету
серии, для которой линия тренда была создана (соответственно, при смене цвета
серии, изменяется цвет линии тренда);</p>

<p class="MsoListBullet2">&#9679; 
если выводится одна серия &#8209; чёрный.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Маркер</span> &#8209; определяет
форму маркера. Маркер отображается только в начале и конце линии
тренда.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Линия</span> &#8209; определяет
стиль линии, которой будет рисоваться линия тренда.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Текст</span> &#8209; название линии
тренда, которое будет оторажаться в легенде диаграммы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Область уравнения</span> &#8209; свойство
описывает, где и как будет отображаться фактическое уравнение, описывающее
построенную линию тренда (если это указано).</p>

<p class="MsoListBullet">&#9679; 
В группе свойств <span class="Interface">Отображать</span> указывается, как будут отображаться
характеристики линии тренда:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">В легенде</span> &#8209; будет или нет
линия тренда преставлена в легенде диаграммы.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Уравнение</span> &#8209; будет или нет
отображаться в диаграмме фактическое уравнение интерполяции.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Коэффициент детерминации</span> &#8209; управляет
отображением коэффициента детерминации. Коэффициент детерминации оценку
интерполяционной функции на использованных заданных данных
и позволяет оценить адекватность использованной функции для использованных
данных.</p>

<a name="_ref503367437"></a><a id="TI000002028" class="bookmark" name="issogl5_информационные_линии_и_интервалы"><h6>Информационные линии и интервалы</h6></a>

<p class="Regularbeforepicture">При построении диаграмм может потребоваться
выделить графически какую-либо область диаграммы, например, на графике продаж
выделить примечательный месяц или товар. Допускается выделять точки
и интервалы в следующих видах диаграмм: биржевая (все виды),
гистограмма (все виды), график (все виды), точечная, пузырьковая, радарный
график (все виды), измерительная.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:397/477" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00244.gif" width="397" alt="" height="477"></p>

<p class="MsoCaption">Рис. 246. Информационные
интервалы и линии</p>

<p class="MsoNormal">Для управления выделением для собственно
диаграммы предусмотрены следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Информационные интервалы
значений</span> (<span class="Term">ИнформационныеИнтервалыЗначений</span>),
<span class="Interface">Информационные
интервалы точек</span> (<span class="Term">ИнформационныеИнтервалыТочек</span>) &#8209; позволяют
выделить один или несколько интервалов значений по соответствующей оси.
Интервал представляет собой прямоугольник определенного цвета, выделяющий
определенный интервал значений на соответствующей оси.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Информационные линии
значений</span> (<span class="Term">ИнформационныеЛинииЗначений</span>),
<span class="Interface">Информационные
линии точек</span> (<span class="Term">ИнформационныеЛинииТочек</span>) &#8209; позволяют
создать одну или несколько линий, которые проходят по некоторым характеристическим
значениям соответствующей оси.</p>

<p class="Regularbeforepicture">Каждое из указанных свойств обладает
специальным редактором, с помощью которого и выполняется настройка
интервалов и линий.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:812/683" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00245.gif" width="812" alt="" height="683"></p>

<p class="MsoCaption"><a name="_ref145577237">Рис. </a>247. Информационный интервал</p>

<p class="MsoNormal">Для интервалов используются следующие
свойства (пример приведен на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577237">рис.247</a>):</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Начало</span> и <span class="Interface">Конец</span> &#8209; описывают
интервал значений или точек. Типы значений и сами значения зависят
от используемых данных.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Текст</span> &#8209; подпись
интервала.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Подсказка</span> &#8209; дополнительная
информация, возникающая при наведении курсора мыши на интервал.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Область текста</span> &#8209; позволяет
указать формат отображения подписи интервала.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Цвет</span> и <span class="Interface">Прозрачность</span> &#8209; позволяют
задать цвет отображения интервала и его (цвета) прозрачность. Прозрачность
задается значением от 0 (полностью непрозрачный) до 100 (полностью
прозрачный).</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Линия</span>, <span class="Interface">Цвет линии</span> и <span class="Interface">Прозрачность линии</span> &#8209; позволяют
указать, каким образом будет отображаться граница интервала. Прозрачность
задается аналогично таковой для цвета отображения интервала.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Начало области отображения</span>
и <span class="Interface">Конец области отображения</span> &#8209; позволяют
управлять размером области отображения интервала. По умолчанию интервал
отображается от соответствующей оси и на всю высоту диаграммы. В
примере на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577237">рис.247</a> отображение интервала по умолчанию &#8209; от точки <span class="Interface">Колбаса</span> (собственно ось значений) до точки <span class="Interface">Печенье</span> (граница области построения диаграммы). Однако
такое отображение не всегда подходит. Тогда с помощью данных свойств можно
задать «отступ» от нижней и верхней границы интервала (в процентах).
На рисунке видно, что задан отступ в 20% от нижней границы интервала
и на 20% от верхней границы интервала.</p>

<p class="Regularbeforepicture">Набор свойств, который задается для
отображения информационной линии, несколько отличается.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:675/649" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00246.gif" width="675" alt="" height="649"></p>

<p class="MsoCaption">Рис. 248. Информационная линия</p>

<p class="MsoNormal">Свойства подобны одноименным свойствам
свойств информационного интервала. Стоит отдельно остановиться
на следующих свойствах:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Значение</span> &#8209; определяет
значение, для которого будет проведена информационная линия. Типы значений
и сами значения зависят от используемых данных.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Положение</span> &#8209; позволяет
указать, где будет проведена линия: непосредственно «по значению» или между
предыдущим и текущим значениями.</p>

<a name="_ref528065443"></a><a id="TI000002123" class="bookmark" name="issogl5_подсказки_значений"><h6>Подсказки значений</h6></a>

<p class="MsoNormal">Диаграммы
позволяют настраивать, каким образом будет отображаться подсказка при навигации
курсором мыши по диаграмме. Для настройки подсказки существует несколько
свойств.</p>

<p class="MsoNormal">Свойство <span class="Interface">Отображение подсказки значений</span> (<span class="Term">ОтображениеПодсказкиЗначений</span>)
позволяет задать, в какой момент времени диаграммы будет отоображать
подсказку:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображать при наведении</span> &#8209; всплывающая
подсказка отображается при непосредственном попадании мышью в значение. Во
время движения мыши подсказка не показывается.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображать для ближайшего</span> &#8209; всплывающая
подсказка отображается для ближайшего значения. Подсказка располагается около
значения. При движении мышью, подсказка перемещается с анимацией
от предыдущего значения к следующему.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Не отображать</span> &#8209; всплывающая
подсказка не отображается.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; в зависимости
от вида диаграммы интерпретируется следующим образом:</p>

<p class="MsoListBullet2">&#9679; 
Для графиков (обычных, с областями
и радарных) и точечных диаграмм интерпретируется как <span class="Interface">Отображать для ближашего</span>.</p>

<p class="MsoListBullet2">&#9679; 
Для остальных типов диаграмм интерпретируется
как <span class="Interface">Отображать при наведении</span>.</p>

<p class="Regularbeforepicture">Если для диаграммы установлен режим <span class="Interface">Отображать при наведении</span>, то подсказка (совместно
с курсором мыши) будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:666/319" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00247.gif" width="666" alt="" height="319"></p>

<p class="MsoCaption"><a name="_ref145577316">Рис. </a>249. Отображать при наведении</p>

<p class="Regularbeforepicture">Если для диаграммы установлен режим <span class="Interface">Отображать для ближайшего</span>, то подсказка будет
отображаться, например, в такой ситуации:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:666/319" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00248.gif" width="666" alt="" height="319"></p>

<p class="MsoCaption"><a name="_ref145577351">Рис. </a>250. Подсказка для ближайшего</p>

<p class="MsoNormal">Если на графике отображается несколько
серий, то может возникнуть потребность отображать в подсказке информацию
сразу по всем сериям в выбранной точке. Этой возможность управляет
свойство диаграммы <span class="Interface">Режим заполнения подсказки значений</span> (<span class="Term">ЗаполнениеПодсказкиЗначений</span>):</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Одно значение</span> &#8209; в этом
случае всплывающая подсказка отображает то значение, на которое указывает
курсор мыши.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Все значения точки</span> &#8209; в этом
случае всплывающая подсказка отображает значения для всех серий в данной
точке.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; интерпретируется
как <span class="Interface">Одно значение</span>.</p>

<p class="Regularbeforepicture">Пример отображение подсказки с одним
значением можно увидеть, например, на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577316">рис.249</a>. Если режим отображения подсказки установлен
в значение <span class="Interface">Все значения точки</span>, то подсказка будет выглядеть
следующим образом (отображение подсказки установлено в значение <span class="Interface">Отображать для ближайшего</span>):</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:666/319" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00249.gif" width="666" alt="" height="319"></p>

<p class="MsoCaption"><a name="_ref145577358">Рис. </a>251. Все значения точки</p>

<p class="MsoNormal">Если для диаграммы выбрано отображение всех
значений точки, то подсказка отображается следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Подсказка всегда отображается в режиме <span class="Interface">Отображать для ближайшего</span>.</p>

<p class="MsoListBullet">&#9679; 
Задержка от момента перемещения курсора
мыши до отображения подскази регулируется свойством <span class="Interface">Отображение подсказки значений</span>.</p>

<p class="Regularbeforepicture">Еще одной возможность оформления подсказки
является возможность задания текста подсказки в виде форматированной
строки. Так, если для значения серии <span class="Interface">Розничные покупатели</span> в точке <span class="Interface">16.03</span> задать представление в виде строки <span class="Italic">Специальное значение</span> (шрифт курсивом), то в этом
случае диаграмма будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:666/319" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00250.gif" width="666" alt="" height="319"></p>

<p class="MsoCaption">Рис. 252. Форматирование
подсказки</p>

<p class="MsoNormal">Также стоит отметить, что платформа
автоматически добавляет в подсказку маркер серии в начало строки
в том случае, если для значения не установлена подсказка или включен режим
<span class="Interface">Все
значения точки</span>. Если подсказка отображает одно значение, то рамка
подсказки формируется цветом серии.</p>

<p class="MsoNormal">Для установки подсказки предназначено
свойство <span class="Term">ЗначениеДиаграммы.Подсказка</span>
или соответствующие параметры методов установки значений диаграммы.</p>

<p class="MsoNormal">При выводе подсказки может требоваться
выделить все значения точки, на значение которой указывает курсор мыши.
Для управления этой возможностью предназначены свойства <span class="Interface">Отображать всплывающую информационную линию точек</span> (<span class="Term">ОтображатьВсплывающуюИнформационнуюЛиниюТочек</span>)
и <span class="Interface">Отображать всплывающую информационную линию значений</span> (<span class="Term">ОтображатьВсплывающуюИнформационнуюЛиниюЗначений</span>).
Если такое отображение разрешено, то при отображении подсказки будет отображать
информационная линия. Пример можно посмотреть на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577351">рис.250</a>. Если отображение информаицонной линии запрещено, то
отображение будет соответствовать изображению на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577358">рис.251</a>.</p>

<a name="_ref528068785"></a><a id="TI000002124" class="bookmark" name="issogl5_выделение_на_диаграмме"><h6>Выделение на диаграмме</h6></a>

<p class="MsoNormal">Диаграмма
предоставляет возможность интерактивно выделять некоторые элементы диаграммы
и обрабатывать данное выделение. Что может быть выделено
на диаграмме, можно установить с помощью свойства диаграммы <span class="Interface">Режим выделения</span> (<span class="Term">РежимВыделения</span>):</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Выделение значений</span> &#8209; позволяет
интерактивно выделять серии диаграммы и значения диаграммы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Выделение точек</span> &#8209; позволяет
интерактивно выделять точки диаграммы. Данный режим работает только в тех
типах диаграмм, в которых поддерживается ось точек и не
поддерживается ось серий (различные графики, гистограммы, радарные
и биржевые диаграммы). В остальных типах диаграмм значение
интерпретируется как <span class="Interface">Нет</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span> &#8209; в диаграмме
нельзя интерактивно изменять выделение.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; интерпретируется
как <span class="Interface">Выделение значений</span>.</p>

<p class="MsoNormal">Информацию на диаграмме также можно
выделять с помощью щелчка левой кнопкой мыши на нужной серии легенды.</p>

<p class="MsoNormal">Если для диаграммы разрешено выделение, то
результат выделения может быть обработан с помощью обработчика события <span class="Term">ПриАктивизации</span>.
Данное событие доступно для расширения поля формы для поля диаграммы.</p>

<p class="MsoNormal">Выделение на диаграмме выполняется
следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Выделение выполняется:</p>

<p class="MsoListBullet2">&#9679; 
по одиночному нажатию левой кнопкой мыши
на значении;</p>

<p class="MsoListBullet2">&#9679; 
по одиночному нажатию левой кнопкой мыши
на серии диаграммы в легенде;</p>

<p class="MsoListBullet2">&#9679; 
выделением прямоугольной области в области
построения диаграммы.</p>

<p class="MsoListBullet">&#9679; 
Если выделение выполняется с нажатой
клавишей <span class="Interface">Ctrl</span>,
то выделяемый объект добавляется к выделению или удаляется из него
(если этот объект был ранее добавлен в выделение).</p>

<p class="MsoListBullet">&#9679; 
Если выделение осуществляется без нажатия
клавиши <span class="Interface">Ctrl</span>,
то новое выделение становится единственным.</p>

<p class="MsoNormal">При наличии выделения, диаграмма
отображается следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Если на диаграмме ничего не выделено, то
диаграмма отображается как обычно.</p>

<p class="MsoListBullet">&#9679; 
Если на диаграмме выделены какие-то данные,
то:</p>

<p class="MsoListBullet2">&#9679; 
Серии, в которых есть выделенные значения,
отображаются цветом, заданным для серии. Выделенные значения отображаются
с окантовкой.</p>

<p class="MsoListBullet2">&#9679; 
Серии, в которых нет выделенных значений,
отображаются более бледным цветом, заданным для серии.</p>

<a name="_ref14366249"></a><a id="TI000002203" class="bookmark" name="issogl5_интерактивное_изменение_значений_диаграммы"><h6>Интерактивное изменение значений диаграммы</h6></a>

<p class="MsoNormal">При
отображении информации с помощью диаграмм, система «1С:Предприятие»
предоставляет возможность редактирования отображаемых данных интерактивно,
непосредственно на самой диаграмме. Такая возможность может быть полезна
в различных сценариях, например при выполнении сценариев «что будет, если»
или при планировании чего-либо.</p>

<p class="MsoNormal">Возможность
интерактивного изменения значений диаграммы управляется независимо для трех
объектов, участвующих в построении диаграммы:</p>

<p class="List1">1.  Свойство
диаграммы <span class="Interface">Режим редактирования значений</span>. Это свойство определяет
возможность интерактивного изменения значений диаграммы по умолчанию, для
всей диаграммы. Если свойство установлено в значение <span class="Interface">Авто</span>, то для диаграммы это означает запрет возможности
интерактивного изменения (значение интерпретируется как <span class="Interface">Не использовать</span>).</p>

<p class="MsoListNumberCxSpMiddle">2. 
Свойство серии диаграммы <span class="Interface">Режим редактирования значений</span>. Это свойство определяет
возможность редактирования значений конкретной серии. Если значение установлено
в значение <span class="Interface">Авто</span>, то возможность редактирования определяется настройкой
диаграммы.</p>

<p class="MsoListNumberCxSpLast">3. 
Свойство значения диаграммы <span class="Term">ЗначениеДиаграммы.СостояниеРедактирования</span>.
Разрешает или запрещает редактирование конкретного значения диаграммы. Если это
значение установлено в значение <span class="Term">РежимРедактированияЗначенийДиаграммы.Авто</span>,
то возможность редактирования определяется, последовательно, настройками серии
и самой диаграммы.</p>

<p class="MsoNormal">Таким образом, видно, что настройки
возможности редактирования значений позволяют очень гибко управлять
интерактивным редактированием. Например, можно реализовать следующую диаграмму:</p>

<p class="MsoListBullet">&#9679; 
Отобразить фактические данные продаж
за прошлый год, по месяцам. Редактирование этих данных, очевидно, не
возможно.</p>

<p class="MsoListBullet">&#9679; 
Отобразить на графике продажи за этот
год, при этом:</p>

<p class="MsoListBullet2">&#9679; 
Фактические продажи за уже прошедшие месяцы
также нельзя редактировать.</p>

<p class="MsoListBullet2">&#9679; 
Продажи за месяцы, оставшиеся до конца
года, редактировать, естественно, можно. В этом случае будет редактироваться
план продаж до конца года.</p>

<p class="MsoNormal">При редактировании значений поможет
обработчик события элемента формы <span class="Term">ПриРедактированииЗначения</span>.
Обработчик вызывается как во время изменения значения, так и после
окончания или отмены редактирования значения. Определить, какое действие
выполняется в данный момент времени можно с помощью параметра
обработчика <span class="Term">СостояниеРедактирования</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Завершено</span> &#8209; редактирование
завершено успешно. Параметр обработчика <span class="Term">ЗначениеДиаграммы</span>
содержит новое значение.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Отменено</span> &#8209; во время
редактирования значения нажата кнопка <span class="Interface">Esc</span>.
Параметр обработчика <span class="Term">ЗначениеДиаграммы</span>
содержит значение, которое было до начала редактирования.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НеЗавершено</span> &#8209; пользователь
находится в состоянии изменение значения. Параметр обработчика <span class="Term">ЗначениеДиаграммы</span>
содержит текущее значение.</p>

<p class="MsoNormal">Определить возможность редактирования
значения можно по внешнему виду курсора мыши. Во время перемещения курсора
мыши над областью, где допускается интерактивное изменение значения, курсор
будет менять свой внешний вид. Собственно редактирование выполняется путем
нажатия на маркере (или края столбца) диаграммы левой кнопки мыши
и перемещения маркера (или края столбца). При этом:</p>

<p class="MsoNormal">Редактирование доступно в режиме
несовместимости с 8.3.15 для серий вида гистограмма, график, график
по шагам, график с областями. Редактирование доступно и для
серий с суммированием и нормированием. Редактирование происходит
с помощью перетаскивания мышью.</p>

<p class="MsoListBullet">&#9679; 
При нажатии на левую кнопку мыши запрашивается
блокировка формы (если нужна), и начинается редактирование.</p>

<p class="MsoListBullet">&#9679; 
При перемещении мыши значение текущей точки
изменяется на величину, зависящую от текущего масштаба шкалы
и расстояния перемещения мыши. В нормированных диаграммах учитывается
общая сумма, по которой происходит нормировка.</p>

<p class="Indentlist">Во время перемещения мыши формируется
событие элемента формы <span class="Term">ПриРедактированияЗначения</span>
с новым значением и параметром <span class="Term">СостояниеРедактирования</span>,
равным значению <span class="Term">НеЗавершено</span>.</p>

<p class="MsoListBullet">&#9679; 
Во время интерактивного изменения значения
выполняется пересчет значений шкал и выполняется перерисовка самой диаграммы.</p>

<p class="MsoListBullet">&#9679; 
Если редактирование отменяется нажатием кнопки <span class="Interface">Esc</span>,
то значение диаграммы устанавливается в то значение, которое было до
начала редактирования.</p>

<p class="Indentlist">Формируется событие <span class="Term">ПриРедактированияЗначения</span>
со старым значением и параметром <span class="Term">СостояниеРедактирования</span>,
равным значению <span class="Term">Отменено</span>.
Редактирование закончено.</p>

<p class="MsoListBullet">&#9679; 
При успешном завершении редактирования
(отпускается левая кнопка мыши) формируется событие <span class="Term">ПриРедактированияЗначения</span>
с новым значением и параметром <span class="Term">СостояниеРедактирования</span>,
равным значению <span class="Term">Завершено</span>.</p>

<p class="MsoListBullet">&#9679; 
Последним шагом формируется событие элемента
формы <span class="Term">ПриИзменении</span>,
а для формы устанавливается признак <span class="Term">Модифицированность</span>.</p>

<a name="_ref14356762"></a><a id="TI000002200" class="bookmark" name="issogl5_дополнительная_шкала_значений"><h6>Дополнительная шкала значений</h6></a>

<p class="MsoNormal">Механизм
построения диаграмм, с технической точки зрения, при построении диаграмм
не «обращает внимания» на размерность отображаемых единиц измерения.
Однако человеку, который пользуется такой диаграммой, сложно воспринимать
информацию, когда на одной диаграмме и на одной шкале отображаются
значения в разных единицах измерения. В качестве примеров построения таких
диаграммы можно привести диаграмму, описывающую продажи какого-то товара
в количественном и суммовом выражении или одновременное отображение
сумм в разных валютах. В качестве еще одного примера сложностей
с отображением информации можно привести построение диаграммы в том
случае, когда значения серий находятся в одних единицах измерения, но при
этом имеют существенно отличающийся порядок значений.</p>

<p class="MsoNormal">Для
решения этих проблем предназначена возможность указания дополнительной шкалы
значений на диаграмме. Указание дополнительной шкалы выполняется следующим
образом:</p>

<p class="List1">1.  Для
нужной серии (или нескольких серий) указывается необходимость использования
дополнительной шкалы.</p>

<p class="MsoListNumberCxSpLast">2. 
При необходимости настраиваются параметры
дополнительной шкалы.</p>

<p class="MsoNormal">Дополнительную шкалу можно указать для
графика (со всеми вариантами) и для гистограммы (со всеми вариантами).</p>

<p class="MsoNormal">Параметры дополнительной шкалы задаются
аналогично свойствам основной шкалы значений. Эти параметры сгруппированы
в панели свойств диаграммы в группу <span class="Interface">Дополнительная ось значений</span>.</p>

<p class="MsoNormal">В свойствах нужной серии следует установить
свойство <span class="Interface">Используемая шкала значений</span> в значение <span class="Interface">Дополнительная</span>. На диаграмме появится дополнительная
шкала значений. Рассмотрим пример.</p>

<p class="Regularbeforepicture">Имеются продажи какого-то товара
по месяцам (январь, февраль, март). Цена товара 150 рублей, объем продаж
2 500, 6 000 и 6 300 штук соответственно. Нужно отобразить
на одной диаграмме оба графика. С использованием одной шкалы этот график будет
выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:474/306" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00251.gif" width="474" alt="" height="306"></p>

<p class="MsoCaption">Рис. 253. Одна шкала</p>

<p class="MsoNormal">Очевидно, что пользоваться этой диаграммой
практически невозможно, т. к. график продаж в количественном
выражении совершенно не читается.</p>

<p class="Regularbeforepicture">Для дополнительной шкалы оставим
автоматическое формирование настроек и укажем ее использование для серии <span class="Interface">Сумма</span>. График стал значительно более информативным:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:474/306" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00252.gif" width="474" alt="" height="306"></p>

<p class="MsoCaption">Рис. 254. Две шкалы</p>

<p class="MsoNormal">На диаграмме хорошо читаются графики
и для количества и для суммы, видны масштабы и значения осей.</p>

<p class="MsoNormal">Если на диаграмме с дополнительной
шкалой отображаются только две серии, то можно настроить отображение осей
диаграммы тем же цветом, что и сами серии. Для этого можно воспользоваться
свойствами области построения диаграммы <span class="Interface">Шкала значений</span> и <span class="Interface">Дополнительная шкала значений</span>.</p>

<p class="MsoNormal">Также следует отметить, что дополнительная
шкала может выводиться в качестве дублирующей шкалы для основной шкалы значений.
Для этого необходимо выбрать свойство <span class="Interface">Дополнительная шкала значений</span> (для области построения
диаграммы) и в открывшемся диалоге установить свойство <span class="Interface">Отображение</span> в значение <span class="Interface">Отображать</span>. Тогда, если на дополнительную шкалу не
будет выведено ни одной серии, дополнительная шкала будет дублировать основную
шкалу диаграммы.</p>

<a name="_ref14365267"></a><a id="TI000002201" class="bookmark" name="issogl5_комбинирование_диаграмм"><h6>Комбинирование диаграмм</h6></a>

<p class="MsoNormal">Выводя
разные показатели на одну диаграмму, кроме отображения дополнительной
шкалы значений (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref14356762">здесь</a>), может потребоваться вывести какие-то показатели другим типом
диаграммы. Рассмотрим пример.</p>

<p class="Regularbeforetable">Имеется таблица данных
с количественными показателями продаж.</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b> </b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Яблоки</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Груши</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Арбузы</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">Июнь</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">50</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">35</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">0</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Июль</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">60</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">40</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">0</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Август</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">70</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">37</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">56</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Сентябрь</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">65</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">38</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">70</p>
  </td>
  
 </tr>
</tbody></table>

<p class="Regularbeforepicture">Если отобразить эти данные в виде
гистограммы, то получится график следующего вида:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:634/308" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00253.gif" width="634" alt="" height="308"></p>

<p class="MsoCaption">Рис. 255. Оригинальная
диаграмма</p>

<p class="Regularbeforepicture">Но, допустим, мы хотим отобразить продажи
арбузов отдельным графиком. Тогда график будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:634/308" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00254.gif" width="634" alt="" height="308"></p>

<p class="MsoCaption">Рис. 256. Модифицированная
диаграмма</p>

<p class="MsoNormal">Для
получения такой диаграммы необходимо выполнить следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Выбрать серию <span class="Interface">Арбузы</span>: в свойстве диаграммы <span class="Interface">Текущая серия</span> выбрать значение <span class="Interface">Арбузы</span>.</p>

<p class="MsoListBullet">&#9679; 
Свойство серии <span class="Interface">Тип графического отображения</span> установить в значение <span class="Interface">График</span>.</p>

<p class="MsoNormal">Указывать другой тип графика серии можно
в том случае, если вся диаграмма является графиком (со всеми вариантами)
или гистограммой (со всеми вариантами). В качестве другого типа диаграммы могут
быть выбраны следующие типы диаграмм: график, график по шагам, график
с областями, гистограмма и объемная гистограмма.</p>

<p class="MsoNormal">Система «1С:Предприятие» не накладывает
ограничений на количество серий с типом графика, отличающегося
от типа всей диаграммы. Можно изменить тип графика как для одной серии,
так и для любого их количества.</p>

<a name="_ref14365279"></a><a id="TI000002202" class="bookmark" name="issogl5_накопление_серий"><h6>Накопление серий</h6></a>

<p class="MsoNormal">Режим
накоплений в диаграмме может настраиваться двумя способами:</p>

<p class="List1">1.  Указанием
«накопительного» типа диаграммы (свойство <span class="Interface">Тип диаграммы</span> в настройках всей диаграммы). Для
такого типа диаграммы в названии будет выражение «с накоплением», например
<span class="Interface">Гистограмма
с накоплением</span> или <span class="Interface">График с накоплением</span>. В этом случае накопление
задается сразу для всех серий, отображаемых диаграммой. Специфическая
информация по «накопительным» диаграмма приводится в разделе,
посвященному различным типам диаграмм (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref437342774">здесь</a>).</p>

<p class="MsoListNumberCxSpLast">2. 
Индивидуальным указанием режима накопления для
серии, отображаемой диаграммой. Индивидуальный режим накопления управляется
двумя свойствами: свойством серии <span class="Interface">Режим накопления</span> и свойством серии <span class="Interface">Группа накопления</span>. Данный раздел посвящен рассмотрению
этих свойств.</p>

<p class="Regularbeforetable">Для примера будем рассматривать следующую
таблицу с данными:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b> </b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Яблоки</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Груши</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Арбузы</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Дыни</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">Июнь</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">50</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">35</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">0</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">0</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Июль</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">60</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">40</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">0</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">0</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Август</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">70</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">37</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">56</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">70</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Сентябрь</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">65</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">38</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">70</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">90</p>
  </td>
  
 </tr>
</tbody></table>

<p class="Regularbeforepicture">Отобразим эти данные в виде обычной
гистограммы:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:574/318" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00255.gif" width="574" alt="" height="318"></p>

<p class="MsoCaption">Рис. 257. Обычная гистограмма</p>

<p class="MsoNormal">Допустим, нам необходимо отобразить продажи
яблок и груш одним столбцом (с накоплением). Чтобы это сделать, необходимо
для каждой из этих серий указать свойство <span class="Interface">Режим накопления</span> в значение <span class="Interface">С накоплением</span> или <span class="Interface">С накоплением нормированная</span>.</p>

<p class="Regularbeforepicture">После этого график станет выглядеть
следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:574/318" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00256.gif" width="574" alt="" height="318"></p>

<p class="MsoCaption">Рис. 258. Включили накопления</p>

<p class="MsoNormal">Аналогичным образом нужно поступить
в том случае, когда вся диаграмма отображается с накоплениями,
а какую-то одну серию следует исключить из режима накопления. В этом
случае для этой серии следует установить свойство <span class="Interface">Режим накопления</span> в значение <span class="Interface">Без накопления</span>. Так надо будет поступить, например,
в том случае, если какую-то серию в диаграмме с накоплением
нужно отобразить другим типом диаграммы и не испортить отображения графика
с накоплением. В том случае, если свойство <span class="Interface">Режим накопления</span> установлен в значение <span class="Interface">Авто</span>, то это значит, что режим накопления серий
определяется типом диаграммы.</p>

<p class="MsoNormal">Теперь представим, что необходимо отобразить
диаграмму таким образом, чтобы яблоки и груши отображались в одном
столбце гистограммы, а в другом столбце &#8209; дыни
и арбузы. Для этого отобразим нашу таблицу данных в виде диаграммы
с накоплениями.</p>

<p class="Regularbeforepicture">Получится диаграмма следующего вида:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:574/318" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00257.gif" width="574" alt="" height="318"></p>

<p class="MsoCaption">Рис. 259. Гистограмма
с накоплениями</p>

<p class="MsoNormal">Теперь для каждой из серий (<span class="Interface">Яблоки</span>, <span class="Interface">Груши</span>, <span class="Interface">Арбузы</span>, <span class="Interface">Дыни</span>) укажем свойство <span class="Interface">Группа накопления</span> следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Для серий <span class="Interface">Яблоки</span> и <span class="Interface">Груши</span> укажем значение, например, <span class="Interface">С дерева</span>.</p>

<p class="MsoListBullet">&#9679; 
Для серий <span class="Interface">Арбузы</span> и <span class="Interface">Дыни</span> укажем значение, например, <span class="Interface">С земли</span>.</p>

<p class="Regularbeforepicture">В результате будет построена следующая
диаграмма:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:574/318" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00258.gif" width="574" alt="" height="318"></p>

<p class="MsoCaption">Рис. 260. Включили группы
накоплений</p>

<p class="MsoNormal">Таким образом, свойство серии <span class="Interface">Группа накопления</span> определяет, каким образом будут
суммировать серии, участвующие в накоплении. Серии, для которых
в свойство <span class="Interface">Группа накопления</span> указано одинаковое значение &#8209; будут
суммировать совместно. Имя группы накопления может быть произвольным, это
значение выступает только идентификатором группы для платформы и никак не
отображается пользователю.</p>

<a id="TI000001880" class="bookmark" name="issogl4_7.3.4.2.3_редактирование_свойств_области_построения"><h5>7.3.4.2.3. Редактирование свойств области построения</h5></a>

<p class="MsoNormal">При редактировании свойств области построения
имеется возможность описать, каким образом будет отображаться шкала точек,
серий и значений. Такая настройка производится с помощью одноименных
свойств области построения: <span class="Interface">Шкала точек</span>, <span class="Interface">Шкала серий</span> и <span class="Interface">Шкала значений</span>.</p>

<p class="Regularbeforepicture">Каждая из шкал настраивается
с помощью редактора шкалы диаграммы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:388/683" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00259.gif" width="388" alt="" height="683"></p>

<p class="MsoCaption">Рис. 261. Редактор шкалы
диаграммы</p>

<p class="MsoNormal">Более подробно рассмотрим возможности
редактора.</p>

<div>

<p class="Lang-parameter">Группа Шкала</p>

</div>

<p class="MsoNormal">Свойство <span class="Interface">Положение шкалы</span> &#8209; устанавливает
расположение шкалы диаграммы:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; для шкалы
значений используется значение <span class="Interface">Край</span>, для шкалы точек в точечной и пузырьковой
диаграммах &#8209; значение <span class="Interface">Край</span>, в остальных случаях &#8209; <span class="Interface">Базовое значение</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Базовое значение</span> &#8209; шкала
отображается на базовом значении перпендикулярной оси:</p>

<p class="MsoListBullet2">&#9679; 
для шкалы точек &#8209; на базовом
значении оси значений;</p>

<p class="MsoListBullet2">&#9679; 
для шкалы значений &#8209; на базовом
значении оси точек.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Край</span> &#8209; вертикальная
шкала отображается слева от диаграммы, горизонтальная &#8209; под диаграммой.</p>

<p class="MsoNormal">Свойства <span class="Interface">Линия шкалы</span> и <span class="Interface">Цвет линии шкалы</span> &#8209; задают вид
и цвет линии шкалы. Вид линии можно выбрать во всплывающем списке или
настроить в диалоге.
Цвет настраивается с помощью диалога выбора цвета.</p>

<p class="MsoNormal">Свойство <span class="Interface">Шаг шкалы</span> &#8209; позволяет
задать значение шага шкалы. Если на шкале откладываются дискретные
значения, то значение шага округляется до целого:</p>

<p class="MsoListBullet">&#9679; 
Если шаг шкалы = 1, выводится каждый шаг.</p>

<p class="MsoListBullet">&#9679; 
Если шаг шкалы = 2, выводится каждый второй шаг,
и т. д.</p>

<p class="MsoListBullet">&#9679; 
Если установлено значение 0, шаг шкалы
рассчитывается автоматически.</p>

<p class="MsoNormal">Свойство <span class="Interface">Отметки шкалы</span> позволяет задать положение отметок шкалы
диаграммы относительно шкалы:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Снаружи</span> &#8209; отметки
отображаются с внешней стороны шкалы;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Внутри</span> &#8209; отметки
отображаются с внутренней стороны шкалы;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">По центру</span> &#8209; отметки
занимают одинаковое расстояние с обеих сторон шкалы;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span> &#8209; отметки шкалы
не отображаются;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span>:</p>

<p class="MsoListBullet2">&#9679; 
отметки шкалы отображаются снаружи, если подписи
диаграммы отображаются снаружи;</p>

<p class="MsoListBullet2">&#9679; 
отметки шкалы отображаются внутри, если подписи
отображаются внутри.</p>

<div>

<p class="Lang-parameter">Группа Сетка</p>

</div>

<p class="MsoNormal">Свойство <span class="Interface">Отображение линий сетки</span> позволяет управлять отображением
линий сетки:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображать</span> &#8209; линии сетки
отображаются;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Не отображать</span> &#8209; линии сетки не
отображаются;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span>:</p>

<p class="MsoListBullet2">&#9679; 
линии сетки отображаются для шкал значений
и точек в точечной и пузырьковой диаграммах;</p>

<p class="MsoListBullet2">&#9679; 
для всех остальных диаграмм линии сетки не
отображаются.</p>

<p class="MsoNormal">Свойства <span class="Interface">Линия сетки</span> и <span class="Interface">Цвет линии сетки</span> &#8209; задают вид
и цвет линий сетки. Вид линии можно выбрать во всплывающем списке или
настроить в диалоге. Цвет настраивается с помощью диалога выбора
цвета.</p>

<div>

<p class="Lang-parameter">Группа Подписи шкалы</p>

</div>

<p class="MsoNormal">Свойство <span class="Interface">Положение подписей</span> &#8209; устанавливает
положение подписей к шкале:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Не отображать</span> &#8209; подписи шкалы
не отображаются.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Внутри</span> &#8209; подписи шкалы
отображаются с внутренней стороны шкалы;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Снаружи</span> &#8209; подписи шкалы
отображаются с внешней стороны шкалы;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; интерпретируется
как <span class="Interface">Снаружи</span>.</p>

<p class="MsoNormal">Свойство <span class="Interface">Формат подписей</span> позволяет задать форматную строку для
преобразования значения шкалы в текст.</p>

<p class="MsoNormal">Свойства <span class="Interface">Шрифт подписей</span> и <span class="Interface">Цвет подписей</span> позволяют указать, каким шрифтом
и цветом будут отображаться подписи шкалы.</p>

<p class="MsoNormal">Свойство <span class="Interface">Ориентация подписей</span> задает ориентацию подписей шкалы:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Горизонтально</span> &#8209; текст
отображается горизонтально;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Вертикально</span> &#8209; текст
отображается вертикально;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Произвольный угол</span> &#8209; угол наклона
текста задается свойством <span class="Interface">Угол наклона подписей</span>:</p>

<p class="MsoListBullet2">&#9679; 
Положительное значение свойства означает
вращение вокруг левого края подписи. 0 градусов &#8209; справа, 180
градусов &#8209; слева.</p>

<p class="MsoListBullet2">&#9679; 
Отрицательное значение свойства означает
вращение вокруг правого края подписи. 0 градусов &#8209; слева, 180
градусов &#8209; справа.</p>

<p class="MsoListBullet2">&#9679; 
0 градусов эквивалентно значению <span class="Interface">Горизонтально</span>.</p>

<p class="MsoListBullet2">&#9679; 
90 градусов и &#8209;90 градусов
эквивалентны значению <span class="Interface">Вертикально</span> с разным расположением базовой линии
текста.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; подписи будут
отображаться горизонтально, если позволяет расположение диаграммы,
в противном случае &#8209; подписи
выводятся вертикально.</p>

<p class="MsoNormal">Свойство <span class="Interface">Максимальное количество рядов подписей</span> позволяет указать
максимальное количество рядов, которые будут использоваться для вывода
подписей. Если указано значение 0 &#8209; количество
рядов будет вычислено автоматически.</p>

<div>

<p class="Lang-parameter">Группа Заголовок</p>

</div>

<p class="MsoNormal">Свойство <span class="Interface">Отображение заголовка</span> устанавливает способ отображения
заголовка:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; заголовок
отображается, если есть текст, который может быть отображен.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Не отображать</span> &#8209; заголовок не
отображается.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображать</span> &#8209; заголовок
отображается.</p>

<p class="MsoNormal">Свойство <span class="Interface">Формирование заголовка</span> &#8209; устанавливает способ
формирования заголовка шкалы:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; если
в свойстве <span class="Interface">Текст заголовка</span> введен текст, используется установленное
значение. В противном случае, текст формируется на основе данных
диаграммы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Использовать текст</span> &#8209; используется
текст, указанный в свойстве <span class="Interface">Текст заголовка</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Автотекст</span> &#8209; текст
формируется на основе данных диаграммы.</p>

<p class="MsoNormal">Свойство <span class="Interface">Текст заголовка</span> позволяет явно задать заголовок шкалы.</p>

<p class="MsoNormal">Свойство <span class="Interface">Расположение заголовка</span> задает область, в которой
будет расположен заголовок:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Рядом с осью</span> &#8209; заголовок
располагается рядом с осью диаграммы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В области построения</span> &#8209; заголовок
располагается в области построения.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В выделенной области</span> &#8209; заголовок
располагается в выделенной области:</p>

<p class="MsoListBullet2">&#9679; 
для горизонтальной оси &#8209; снизу;</p>

<p class="MsoListBullet2">&#9679; 
для вертикальной оси &#8209; слева.</p>

<p class="Regularbeforepicture">Свойство <span class="Interface">Область заголовка</span> позволяет настроить область подписи
для шкалы диаграммы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:397/521" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00260.gif" width="397" alt="" height="521"></p>

<p class="MsoCaption">Рис. 262. Настройка области
подписи</p>

<p class="MsoNormal">При настройке области подписи следует
учитывать определенные правила расположения области заголовка. Эти правила
определяются значениями свойств <span class="Interface">Расположение заголовка</span> (диалог настройки шкалы
диаграммы) и группы свойств <span class="Interface">Расположение</span> (диалог настройки области заголовка):</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Расположение заголовка</span> установлено в значение <span class="Interface">В выделенной области</span>. Значение <span class="Interface">Тип расположения</span> области настройки заголовка:</p>

<p class="MsoListBullet2">&#9679; 
Если ось расположена горизонтально:</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Авто</span>, <span class="Interface">Центр</span>, <span class="Interface">Свободное место</span>, <span class="Interface">Край</span>, <span class="Interface">Край авто</span> или <span class="Interface">Край внутри</span> &#8209; подпись
располагается в выделенной области, по центру.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Лево верх</span> или <span class="Interface">Лево низ</span> &#8209; подпись располагается
в выделенной области, слева.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Право верх</span> или <span class="Interface">Право низ</span> &#8209; то подпись
располагается в выделенной области, справа.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Координаты</span> &#8209; подпись
располагается в выделенной области, а свойства <span class="Interface">Верх</span> и <span class="Interface">Лево</span> указывает смещение внутри выделенной области. При этом
<span class="Interface">0</span> &#8209; это минимальное
значение по соответствующей координате, а <span class="Interface">1</span> &#8209; максимальное значение.
Таким образом, значение <span class="Interface">0,5</span> является серединой области, выделено для отображения
заголовка.</p>

<p class="MsoListBullet2">&#9679; 
Если ось расположена вертикально:</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Авто</span>, <span class="Interface">Центр</span>, <span class="Interface">Свободное место</span>, <span class="Interface">Край</span>, <span class="Interface">Край авто</span> или <span class="Interface">Край внутри</span> &#8209; подпись
располагается в выделенной области, по центру.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Лево верх</span> или <span class="Interface">Право верх</span> &#8209; подпись
располагается в выделенной области, сверху.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Лево низ</span> или <span class="Interface">Право низ</span> &#8209; подпись
располагается в выделенной области, снизу.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Координаты</span> &#8209; подпись
располагается в выделенной области, а свойства <span class="Interface">Верх</span> и <span class="Interface">Лево</span> указывает смещение внутри выделенной области. При
этом <span class="Interface">0</span> &#8209; это минимальное
значение по соответствующей координате, а <span class="Interface">1</span> &#8209; максимальное значение.
Таким образом, значение <span class="Interface">0,5</span> является серединой области, выделено для отображения
заголовка.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Расположение заголовка</span> установлено в значение <span class="Interface">В области построения</span>. Значение <span class="Interface">Тип расположения</span> области настройки заголовка:</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Край</span> и <span class="Interface">Край авто</span> &#8209; подпись для
вертикальной оси располагается слева области построения, подпись горизонтальной
оси располагается сверху области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Край внутри</span> &#8209; подпись для
вертикальной оси располагается слева области построения, подпись горизонтальной
оси располагается снизу области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Центр</span> &#8209; подпись
располагается по центру области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Авто</span> &#8209; аналогично <span class="Interface">Свободное место</span>.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Верх лево</span> &#8209; подпись
располагается в верхнем левом углу области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Низ лево</span> &#8209; подпись
располагается в нижнем левом углу области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Верх право</span> &#8209; подпись
располагается в верхнем правом углу области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Низ право</span> &#8209; подпись
располагается в нижнем правом углу области построения.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Координаты</span> &#8209; подпись
располагается в выделенной области, а свойства <span class="Interface">Верх</span> и <span class="Interface">Лево</span> указывает смещение внутри выделенной области. При
этом <span class="Interface">0</span> &#8209; это минимальное
значение по соответствующей координате, а <span class="Interface">1</span> &#8209; максимальное значение.
Таким образом, значение <span class="Interface">0,5</span> является серединой области, выделено для отображения
заголовка.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Interface">Свободное место</span> &#8209; автоматически
ищется подходящее место внутри области построения.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Interface">Расположение заголовка</span> установлено в значение <span class="Interface">Рядом с осью</span>. В этом случае поведение аналогично
поведению, если расположение заголовка указано в значение <span class="Interface">В области построения</span>, но вместо области построения
выбирается область непосредственно рядом с соответствующей осью. В
зависимости от расположения оси, область имеет следующие размер
и положение:</p>

<p class="MsoListBullet3">&#9679; 
Ось расположена горизонтально: область является
прямоугольником, ширина которого равна длине оси, а высота &#8209; две высоты
подписи.</p>

<p class="MsoListBullet3">&#9679; 
Ось расположена вертикально: область является
прямоугольником, ширина которого равна двум высотам подписи, а высота &#8209; длине оси.</p>

<a name="_ref437342774"></a><a id="TI000001667" class="bookmark" name="issogl3_7.3.4.3_диаграмма"><h4>7.3.4.3. Диаграмма</h4></a>

<a id="TI000001668" class="bookmark" name="issogl4_7.3.4.3.1_общие_сведения"><h5>7.3.4.3.1. Общие сведения</h5></a>

<p class="Regularbeforepicture">Реквизит
формы типа <span class="Interface">Диаграмма</span>
отображается на управляемой форме с помощью поля формы вида <span class="Interface">Поле диаграммы</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:580/452" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00261.gif" width="580" alt="" height="452"></p>

<p class="MsoCaption">Рис.
263. Диаграмма на форме</p>

<p class="Regularbeforepicture">Для
настройки свойств диаграммы предназначена специальная форма, вызов которой
осуществляется либо из панели свойств (нажатием на гиперссылку <span class="Interface">Открыть</span>
с свойства <span class="Interface">Настройка</span>) или
с помощью команды <span class="Interface">Перейти</span>
контекстного меню элемента формы вида <span class="Interface">Поле диаграммы</span>.
Если форма настройки открывается с помощью команды перехода, то
в диалоге <span class="Interface">Объект перехода</span>
следует выбрать не саму диаграмму, а форму настройки.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:451/142" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00262.gif" width="451" alt="" height="142"></p>

<p class="MsoCaption">Рис.
264. Переход к настройкам диаграммы</p>

<p class="Regularbeforepicture">Окно
настройки позволяет детально настроить как диаграмму в целом, так
и отдельные ее области.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:797/329" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00263.gif" width="797" alt="" height="329"></p>

<p class="MsoCaption">Рис.
265. Форма настройки</p>

<p class="MsoNormal">Свойство
<span class="Interface">Тип диаграммы</span> определяет способ
отображения данных. От выбора типа диаграммы зависит доступность отдельных ее
свойств. Поле диаграммы состоит из трех областей:</p>

<p class="List1">1. 
область построения,</p>

<p class="MsoListNumberCxSpMiddle">2.  область
легенды</p>

<p class="MsoListNumberCxSpLast">3.  область
заголовка.</p>

<p class="Regularbeforepicture">По
умолчанию эти области расположены следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:647/440" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00264.gif" width="647" alt="" height="440"></p>

<p class="MsoCaption"><a name="_ref145577185">Рис. </a>266. Области
диаграммы</p>

<p class="MsoNormal">Область
построения может содержать следующие элементы:</p>

<p class="List1">1. 
шкала точек,</p>

<p class="MsoListNumberCxSpMiddle">2.  шкала
серий,</p>

<p class="MsoListNumberCxSpMiddle">3.  шкала
значений,</p>

<p class="MsoListNumberCxSpLast">4.  таблица
данных.</p>

<p class="Regularbeforepicture">На
диаграмме эти элементы могут располагаться следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:870/518" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00265.gif" width="870" alt="" height="518"></p>

<p class="MsoCaption">Рис.
267. Элементы диаграммы</p>

<p class="MsoNormal">Для
отображения таблицы данных следует включить признак <span class="Term">ОтображатьТаблицуДанных</span> области построения
диаграммы. Использование этого свойства доступно не для всех типов диаграмм.</p>

<a id="TI000001669" class="bookmark" name="issogl4_7.3.4.3.2_работа_с_диаграммами_средствами_встроенного_языка"><h5>7.3.4.3.2. Работа с диаграммами средствами встроенного языка</h5></a>

<a name="_ref527991369"></a><a id="TI000001670" class="bookmark" name="issogl5_работа_с_данными_диаграммы"><h6>Работа с данными диаграммы</h6></a>

<p class="MsoNormal">Связь
объекта <span class="Term">Диаграмма</span> с данными может быть
организована двумя способами.</p>

<p class="MsoNormal">Первый
способ основан на возможности создавать серии и точки диаграммы,
а также устанавливать их значения из встроенного языка. В следующем
примере для диаграммы создается серия из десяти точек со случайными
данными.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Генератор <span class="operator">=</span> <span class="keyword">Новый</span> ГенераторСлучайныхЧисел<span class="operator">;</span>
Диаграмма<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Диаграмма<span class="operator">.</span>Обновление <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
Серия <span class="operator">=</span> Диаграмма<span class="operator">.</span>Серии<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Серия"</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">Для</span> Сч <span class="operator">=</span> <span class="number">1</span> <span class="keyword">По</span> <span class="number">10</span> <span class="keyword">Цикл</span>
    Точка <span class="operator">=</span> Диаграмма<span class="operator">.</span>Точки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Точка № "</span> <span class="operator">+</span> Строка<span class="operator">(</span>Сч<span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Значение <span class="operator">=</span> Генератор<span class="operator">.</span>СлучайноеЧисло<span class="operator">(</span><span class="number">1</span><span class="operator">,</span> <span class="number">10</span><span class="operator">)</span><span class="operator">;</span>
    Диаграмма<span class="operator">.</span>УстановитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> Серия<span class="operator">,</span> Значение<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецЦикла</span><span class="operator">;</span>
Диаграмма<span class="operator">.</span>Обновление <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span></pre><p class="MsoNormal">При
таком способе заполнения данных доступен метод <span class="Term">Транспонировать()</span>, который позволяет поменять
местами серии и точки диаграммы. Возможность транспонирования может быть
полезна при изменении типа диаграммы. Например, круговая диаграмма отображает
значения, представленные в виде одной точки и набора серий. Чтобы
показать те же данные на графике потребуется поменять местами серии
и точки. Свойство <span class="Term">Автотранспонирование</span> позволяет включить режим,
в котором необходимость транспонирования определяется автоматически
в зависимости от типа диаграммы и структуры данных.</p>

<p class="MsoNormal">Второй
способ заполнения данных диаграммы связан с использованием свойства <span class="Term">ИсточникДанных</span>. В качестве источника может
быть использована таблица значений или область ячеек табличного документа.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Запрос <span class="operator">=</span> <span class="keyword">Новый</span> Запрос<span class="operator">;</span>
Запрос<span class="operator">.</span>Текст <span class="operator">=</span>
    <span class="string">"ВЫБРАТЬ</span>
<span class="string">    |    ПродажиОбороты.Период КАК Период,</span>
<span class="string">    |    ПродажиОбороты.СуммаОборот КАК Выручка</span>
<span class="string">    |ИЗ</span>
<span class="string">    |    РегистрНакопления.Продажи.Обороты(, , Месяц, ) КАК ПродажиОбороты</span>
<span class="string">    |</span>
<span class="string">    |УПОРЯДОЧИТЬ ПО</span>
<span class="string">    |    Период"</span><span class="operator">;</span>
РезультатЗапроса <span class="operator">=</span> Запрос<span class="operator">.</span><span class="keyword">Выполнить</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ТаблицаИсходныхДанных <span class="operator">=</span> РезультатЗапроса<span class="operator">.</span>Выгрузить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Диаграмма<span class="operator">.</span>СерииВСтроках <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
Диаграмма<span class="operator">.</span>ИсточникДанных <span class="operator">=</span> ТаблицаИсходныхДанных<span class="operator">;</span></pre><p class="MsoNormal">Если
при создании серии или точки задано ее ключевое значение, то впоследствии можно
выполнить поиск этой серии и точки. Ключевое значение содержится
в свойстве <span class="Term">Значение</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Точка<span class="operator">.</span>Значение <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
Серия<span class="operator">.</span>Значение <span class="operator">=</span> <span class="string">"Серия1"</span><span class="operator">;</span></pre><p class="MsoNormal">Методы
<span class="Term">УстановитьТочку()</span>/<span class="Term">УстановитьСерию()</span> позволяют найти точку или
серию диаграммы по ключевому значению. Определив серию и точку, можно
прочитать текущее значение в точке методом <span class="Term">ПолучитьЗначение()</span> или установить новое
значение методом <span class="Term">УстановитьЗначение()</span>.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Поиск точки</span>
Точка <span class="operator">=</span> Диаграмма<span class="operator">.</span>УстановитьТочку<span class="operator">(</span><span class="number">4</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Поиск серии</span>
Серия <span class="operator">=</span> Диаграмма<span class="operator">.</span>УстановитьСерию<span class="operator">(</span><span class="string">"Серия1"</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Определение значения точки диаграммы</span>
Значение <span class="operator">=</span> Диаграмма<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> Серия<span class="operator">)</span><span class="operator">.</span>Значение<span class="operator">;</span>
<span class="comment">// Изменение значения точки диаграммы</span>
Диаграмма<span class="operator">.</span>УстановитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> Серия<span class="operator">,</span> Значение <span class="operator">+</span> <span class="number">10</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Методы
<span class="Term">УстановитьТочку()</span>/<span class="Term">УстановитьСерию()</span> создает новую точку (серию)
диаграммы, если точка (серия) с указанным ключевым значением не найдена.
Для новой серии заполняется свойство <span class="Term">Значение</span>. Эту особенность удобно использовать
при заполнении диаграммы данными.</p>

<p class="MsoNormal">Пусть
требуется показать на графике данные о продажах различных товаров
помесячно. Товары образуют серии диаграммы, а периоды представляют точки.
При обходе полученных запросом данных ссылка на один товар может
встречаться многократно, если продажи этого товара имели место в различные
месяцы. В такой ситуации удобно использовать методы <span class="Term">УстановитьСерию()</span>/<span class="Term">УстановитьТочку()</span> с указанием ключевых
значений, чтобы избежать повторного создания элементов диаграммы:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Пока</span> Выборка<span class="operator">.</span>Следующий<span class="operator">(</span><span class="operator">)</span> <span class="keyword">Цикл</span>
    Серия <span class="operator">=</span> Диаграмма<span class="operator">.</span>УстановитьСерию<span class="operator">(</span>Выборка<span class="operator">.</span>Товар<span class="operator">)</span><span class="operator">;</span>
    Точка <span class="operator">=</span> Диаграмма<span class="operator">.</span>УстановитьТочку<span class="operator">(</span>Выборка<span class="operator">.</span>Период<span class="operator">)</span><span class="operator">;</span>
    Диаграмма<span class="operator">.</span>УстановитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> Серия<span class="operator">,</span> Выборка<span class="operator">.</span>Выручка<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецЦикла</span><span class="operator">;</span></pre><p class="MsoNormal">При
отображении диаграмм возможны ситуации, когда отображаемых данных больше, чем
место для удобного отображения диаграммы. В качестве примера можно рассмотреть
график продаж по месяцам за несколько лет. На экране нормально
отображается только 1 год (12 месяцев). Необходимо реализовать возможность
удобной «прокрутки» отображаемых данных. В этом случае можно разместить
на форме элементы управления для организации «прокрутки» графика, а в
обработчиках, связанных с нажатием этих элементов, реализовать сдвиг
графика в нужную сторону следующим образом:</p>

<p class="List1">1. 
Удалить серию/точку выходящую из области
видимости. Для этого используется метод <span class="Term">Удалить()</span> коллекций <span class="Term">СерииДиаграммы</span>/<span class="Term">ТочкиДиаграммы</span>.</p>

<p class="MsoListNumberCxSpLast">2.  Вставить
серию/точку входящую в область видимости. Для этого используется методы <span class="Term">Вставить()</span>/<span class="Term">Добавить()</span> коллекций <span class="Term">СерииДиаграммы</span>/<span class="Term">ТочкиДиаграммы</span>.</p>

<p class="MsoNormal">Также
предоставляется возможность менять положение серий/точек в соответствующей
коллекции. Такая возможность пожет оказаться полезной, если требуется
в интерактивном режиме изменить порядок следования относительно порядка,
заданного при заполнении данных диаграммы. Изменение положения серии/точки
выполняется с помощью метода <span class="Term">Сдвинуть()</span> коллекций <span class="Term">СерииДиаграммы</span>/<span class="Term">ТочкиДиаграммы</span>.</p>

<a name="_ref465952951"></a><a id="TI000001671" class="bookmark" name="issogl5_ограничение_количества_отображаемых_серий"><h6>Ограничение количества отображаемых серий</h6></a>

<p class="MsoNormal">Количество
серий, используемых в диаграмме, может быть ограничено свойством <span class="Term">МаксимумСерий</span>. Данные тех серий, которые не
отображаются диаграммой из-за ограничения количества, суммируются
и показываются в отдельной сводной серии. Ограничение
на количество серий задается свойствами <span class="Term">МаксимумСерийКоличество</span> или <span class="Term">МаксимумСерийПроцент</span>, в зависимости
от значения свойства <span class="Term">МаксимумСерий</span>.</p>

<p class="MsoNormal">Например,
на графике требуется показать изменение объемы продаж нескольким
покупателям. При этом выручка по двум покупателям значительно превышает выручку
по остальным. В этом случае количество серий диаграммы может быть
ограничено тремя:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Диаграмма<span class="operator">.</span>МаксимумСерий <span class="operator">=</span> МаксимумСерий<span class="operator">.</span>Ограничено<span class="operator">;</span>
Диаграмма<span class="operator">.</span>МаксимумСерийКоличество <span class="operator">=</span> <span class="number">3</span><span class="operator">;</span></pre><p class="Regularbeforepicture">Для
каждой из десяти серий будет определено максимальное значение по всем
точкам, а на графике будут отображаться только две серии
с наибольшими из определенных значений. Все оставшиеся данные будут
показаны в виде одной сводной серии:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:630/303" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00266.gif" width="630" alt="" height="303"></p>

<p class="MsoCaption">Рис.
268. Сводная серия</p>

<a id="TI000001672" class="bookmark" name="issogl5_настройка_областей_диаграммы"><h6>Настройка областей диаграммы</h6></a>

<p class="MsoNormal">Для
работы с диаграммой в целом предназначен объект <span class="Term">Диаграмма</span>. Для настройки свойств отдельных
областей диаграммы используются его свойства <span class="Term">ОбластьЗаголовка</span>, <span class="Term">ОбластьЛегенды</span> и <span class="Term">ОбластьПостроения</span>, а также свойства <span class="Term">ОтображатьЗаголовок</span> и <span class="Term">ОтображатьЛегенду</span>.</p>

<p class="MsoNormal">Свойства
объекта <span class="Term">ОбластьПостроенияДиаграммы</span> позволяют
настраивать отображение шкалы диаграммы, таблицы данных и выводимых
значений. Оформление области заголовка и области легенды осуществляется
с помощью свойств объектов <span class="Term">ОбластьЗаголовкаДиаграммы</span> и <span class="Term">ОбластьЛегендыДиаграммы</span>.</p>

<p class="MsoNormal">Например,
формат шкалы значений может быть установлен следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Диаграмма<span class="operator">.</span>ОбластьПостроения<span class="operator">.</span>ФорматШкалыЗначений <span class="operator">=</span> <span class="string">"ЧДЦ=2; ЧРД=.; ЧРГ=' '; ЧГ=3,0"</span><span class="operator">;</span></pre>

<p class="Regularbeforepicture">Формат
шкалы значений, как и другие свойства, можно настроить, используя палитру
свойств области построения диаграммы:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:788/363" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00267.gif" width="788" alt="" height="363"></p>

<p class="MsoCaption">Рис.
269. Свойства области построения</p>

<a id="TI000001673" class="bookmark" name="issogl5_режим_сглаживания"><h6>Режим сглаживания</h6></a>

<p class="MsoNormal">Способ
построения соединительной линии графика зависит от значения свойств <span class="Term">РежимСглаживания</span> и <span class="Term">НатяжениеСглаживания</span>.</p>

<p class="Regularbeforepicture">По
умолчанию значения в области построения диаграммы соединяются прямыми
линиями. В режиме сглаживания <span class="Term">ГладкаяКривая</span> для соединения значений используются
«гладкие кривые».</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:561/323" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00268.gif" width="561" alt="" height="323"></p>

<p class="MsoCaption"><a name="_ref145577371">Рис. </a>270. Сглаживание</p>

<p class="MsoNormal">В
верхней части <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577371">рис.270</a> изображена диаграмма с отключенным режимом сглаживания,
а в нижней &#8209; с включенным режимом сглаживания
и стандартным натяжением сглаживания.</p>

<a name="_ref466561244"></a><a name="_ref466373953"></a><a id="TI000001881" class="bookmark" name="issogl5_линии_тренда1"><h6>Линии тренда</h6></a>

<p class="MsoNormal">Добавить
линию тренда к серии можно следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Серия <span class="operator">=</span> Диаграмма<span class="operator">.</span>Серии<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ЛинияТренда <span class="operator">=</span> Серия<span class="operator">.</span>ЛинииТренда<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ЛинияТренда<span class="operator">.</span>ТипАппроксимации <span class="operator">=</span> ТипАппроксимацииЛинииТрендаДиаграммы<span class="operator">.</span>Экспоненциальный<span class="operator">;</span>
ЛинияТренда<span class="operator">.</span>Маркер <span class="operator">=</span> ТипМаркераДиаграммы<span class="operator">.</span>Нет<span class="operator">;</span></pre><p class="MsoNormal">Для
добавления используется специальный объект <span class="Term">ЛинияТрендаДиаграммы</span>. Для одной серии можно
одновременно создать несколько линий тренда.</p>

<p class="MsoNormal">Для
линии тренда имеется возможность указать следующие параметры:</p>

<p class="MsoListBullet">&#9679; 
Цвет линии тренда (свойство <span class="Term">Цвет</span>).</p>

<p class="MsoListBullet">&#9679; 
Необходимость отображения линии тренда
в легенде диаграммы (свойство <span class="Term">ОтображатьВЛегенде</span>).</p>

<p class="MsoListBullet">&#9679; 
Необходимость отображения фактического уравнения,
которое используется для построения линии тренда (свойство <span class="Term">ОтображатьУравнение</span>).</p>

<p class="MsoListBullet">&#9679; 
Настроить режим отображения уравнения, если оно
отображется (свойство <span class="Term">ОбластьУравнения</span>) и т. д.</p>

<p class="MsoNormal">Подробнее
о редактировании линий тренда см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref503367358">здесь</a>.</p>

<a id="TI000001674" class="bookmark" name="issogl5_настройка_полупрозрачности"><h6>Настройка полупрозрачности</h6></a>

<p class="MsoNormal">Для
отдельных видов диаграмм реализованы свойства <span class="Term">РежимПолупрозрачности</span> и <span class="Term">ПроцентПолупрозрачности</span>, которые позволяют
управлять режимом и степенью прозрачности диаграммы.</p>

<p class="MsoNormal">Если
в свойстве диаграммы <span class="Term">РежимПолупрозрачности</span> задан режим <span class="Term">Использовать</span>, то прозрачность диаграммы
определяется значением свойства <span class="Term">ПроцентПолупрозрачности</span>. Если процент
полупрозрачности установлен равным нулю, то используется процент
полупрозрачности по умолчанию для данного вида диаграммы.</p>

<p class="MsoNormal">В
режиме <span class="Term">Авто</span>
прозрачность устанавливается автоматически с учетом значения свойства <span class="Term">ПроцентПолупрозрачности</span>, вида диаграммы
и других факторов.</p>

<a name="_ref14778020"></a><a id="TI000002204" class="bookmark" name="issogl5_сохранение_цвета_серии"><h6>Сохранение цвета серии</h6></a>

<p class="MsoNormal">При построении разных диаграмм, использующих
один и тот же состав серий (например, различные диаграммы по продажам
товаров), полезно обеспечить такое поведение, когда один и тот же объект
в разных диаграммах имеет одинаковый цвет. Это удобно для восприятия
диаграммы пользователем.</p>

<p class="MsoNormal">Отчеты, построенные с помощью системы
компоновки данных, выполняют такую работу автоматически. Если диаграмма размещена
на форме, необходимо выполнить некоторые дополнительные действия.
Рассмотрим эти действия более подробно.</p>

<p class="MsoNormal">Платформа предоставляет специальный объект <span class="Term">ОформлениеЗначений</span>,
который хранит соответствие между значением серии и цветом, которым эта
серия выводится. Этот объект хранит соответствия для всех типов объектов,
которые участвуют в построении диаграмм для текущего пользователя. Другими
словами, если в конфигурации строятся диаграммы с использованием
складов, контрагентов и товаров &#8209; то
объект <span class="Term">ОформлениеЗначений</span>
будет одновременно хранить соответствия для всех упомянутых типов объектов. Для
каждого типа значений данный объект хранит не более 100 самых часто
используемых объектов (и цветов для них). Т. е. если в прикладном
решении используются диаграммы, где серии связаны с товарами, то
в настройках будут храниться данные по цветам для 100 (максимум)
самых часто используемых в диаграммах товаров. Объект <span class="Term">ОформлениеЗначений</span>
можно хранить в хранилище значений. Система компоновки данных использует
для этого настройку <span class="Interface">Общее/ЦветаДиаграммы</span>.</p>

<p class="MsoNormal">Схемы работы выглядит следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Выполняется заполнение диаграммы данными.</p>

<p class="MsoListBullet">&#9679; 
Из хранилища получается соответствие объектов
и цветов, например, можно использовать системное хранилище значений: <span class="Term">ЦветаСерий = ХранилищеСистемныхНастроек.Загрузить("Общее/ЦветаДиаграммы";</span>.</p>

<p class="MsoListBullet">&#9679; 
Полученное соответствие загружается
в диаграмму: <span class="Term">Диаграмма.ЗаполнитьЦветаСерий(ЦветаСерий);</span>.
Заполнение будет действовать на те цвета серий, для которых указано
значение <span class="Interface">Авто</span>.</p>

<p class="Indentlist">Если
в процессе заполнения цветов серий из сохраненных цветов получается
цвет из текущей палитры, который уже используется в этой диаграмме,
то он заменяется более светлым или более темный (в зависимости от самого
цвета и других уже использованных цветов). Полученный цвет проставляется
в серию. При возникновении коллизий цветов для следующих серий, цвет снова
заменяется более светлым или более темным, с учетом предыдущих.</p>

<p class="MsoListBullet">&#9679; 
Затем рекомендуется выполнить сохранение
соответствия цветов обратно в хранилище: <span class="Term">ХранилищеСистемныхНастроек.Сохранить("Общее/ЦветаДиаграммы",
, ЦветаСерий);</span>. Сохранение после построения диаграммы
рекомендуется делать по той причине, что в диаграмме могут
участвовать объекты, которые до этого момента не участвовали в построении
диаграммы. Следовательно, для нового объекта диаграмма автоматически назначит
новый цвет. И это назначение рекомендуется сохранить в хранилище для
будущего использования.</p>

<p class="MsoNormal">Если
на форме предусмотрена возможность изменять цвет серии диаграммы, то
рекомендуется выполнять это следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Получить соответствие цветов и объектов
типа <span class="Term">ОформлениеЗначений</span>.</p>

<p class="MsoListBullet">&#9679; 
Установить цвет серии с помощью свойства <span class="Term">СерияДиаграммы.Цвет</span>.</p>

<p class="MsoListBullet">&#9679; 
Изменить цвет в соответствии цветов
и объектов с помощью метода <span class="Term">ОформлениеЗначений.Установить(Объект, Цвет)</span>.</p>

<p class="MsoListBullet">&#9679; 
Сохранить соответствие цветов и объектов
в хранилище.</p>

<a name="_ref528068709"></a><a id="TI000001675" class="bookmark" name="issogl5_обработка_событий"><h6>Обработка событий</h6></a>

<p class="MsoNormal">Для
поля диаграммы реализована возможность обработки событий. Событие <span class="Term">Выбор</span> возникает при выборе элемента диаграммы.
Событие <span class="Term">ОбработкаРасшифровки</span> возникает при выборе
элемента диаграммы, при условии, что для этого элемента задано значение
свойства <span class="Term">Расшифровка</span>.</p>

<p class="MsoNormal">При
стандартной обработке в отдельном окне отображается значение расшифровки.
Например, в свойстве <span class="Term">Расшифровка</span> серии диаграммы может быть
записана ссылка на элемент справочника <span class="Term">Покупатели</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Серия <span class="operator">=</span> Диаграмма<span class="operator">.</span>Серии<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Серия<span class="operator">.</span>Расшифровка <span class="operator">=</span> ТаблицаДанныхСтрока<span class="operator">.</span>Покупатель<span class="operator">;</span></pre><p class="MsoNormal">В
этом случае при двойном щелчке мыши на названии серии будет открыта форма
соответствующего элемента справочника.</p>

<p class="MsoNormal">Существует
возможность реализовать произвольную «расшифровку» выбранного элемента.
Например, показать список всех документов продажи по выбранному
покупателю. Для этого событие <span class="Term">ОбработкаРасшифровки</span> может быть обработано,
например, так:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ДиаграммаОбработкаРасшифровки<span class="operator">(</span>Элемент<span class="operator">,</span> Расшифровка<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    ПараметрыФормы <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">;</span>
    <span class="comment">// Передача ссылки на элемент справочника Покупатели</span>
    <span class="comment">// в общую форму ДокументыПоПокупателю.</span>
    ПараметрыФормы<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"Покупатель"</span><span class="operator">,</span> Расшифровка<span class="operator">)</span><span class="operator">;</span>
    ОткрытьФорму<span class="operator">(</span><span class="string">"ОбщаяФорма.ДокументыПоПокупателю"</span><span class="operator">,</span> ПараметрыФормы<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Аналогично
расшифровка может быть задана и обработана для точки или значения
диаграммы.</p>

<p class="MsoNormal">Выделение
на диаграмме обрабатывается с помощью события <span class="Term">ПриАктивизации</span>. Чтобы получить выделенные
области диаграммы, следует использовать метод <span class="Term">ПолучитьВыделенныеЭлементы()</span>. Этот метод
доступен для расширения поля формы для поля диаграммы (описывает диаграмму,
размещенную на форме) и для объекта <span class="Term">РисунокТабличногоДокумента</span> (описывает
диаграмму, размещенную в табличном документе). Данный метод вернет массив,
который содержит в себе выделенные данные. Дальнейшее поведение зависит
от прикладного решения.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ДиаграммаПриАктивизации<span class="operator">(</span>Элемент<span class="operator">)</span>
    Данные <span class="operator">=</span> Элемент<span class="operator">.</span>ПолучитьВыделенныеЭлементы<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal"> </p>

<a name="_ref503523347"></a><a id="TI000002029" class="bookmark" name="issogl4_7.3.4.3.3_особенности_построения_диаграмм"><h5>7.3.4.3.3. Особенности построения диаграмм</h5></a>

<a id="TI000002031" class="bookmark" name="issogl5_отображение_точек_в_диаграммах_с_накоплением"><h6>Отображение точек в диаграммах с накоплением</h6></a>

<p class="MsoNormal">В
диаграммах с накоплением используется следующий алгоритм для определения
того, каким образом будет отображаться каждая точка данных:</p>

<p class="MsoListBullet">&#9679; 
Диаграммы, поддерживающие базовое значение:</p>

<p class="MsoListBullet2">&#9679; 
Для каждой точки рассчитываются две суммы:
больше и меньше базового значения.</p>

<p class="MsoListBullet2">&#9679; 
Перед накоплением из текущего значения
вычитается базовое значение.</p>

<p class="MsoListBullet2">&#9679; 
Получившееся значение накапливается
по абсолютному значению в соответствующей сумме (в зависимости
от знака).</p>

<p class="MsoListBullet">&#9679; 
Диаграммы, не поддерживающие базовое значение:</p>

<p class="MsoListBullet2">&#9679; 
Для каждой точки рассчитываются две суммы:
больше и меньше 0.</p>

<p class="MsoListBullet2">&#9679; 
Текущее значение накапливается
по абсолютному значению в соответствующей сумме (в зависимости
от знака).</p>

<p class="MsoNormal">Для каждой точки отображается два значения
диаграммы: накопленная сумма положительных и отрицательных значений
(базового значения или значения 0).</p>

<p class="MsoNormal">Данный
расчет применяется для следующих диаграмм:</p>

<p class="MsoListBullet">&#9679; 
Различные типы гистограмм с накоплением;</p>

<p class="MsoListBullet">&#9679; 
График с областями;</p>

<p class="MsoListBullet">&#9679; 
График с областями и накоплениями;</p>

<p class="MsoListBullet">&#9679; 
Радарный график с накоплениями;</p>

<p class="MsoListBullet">&#9679; 
Радарный график с областями
и накоплениями.</p>

<a name="_ref508118466"></a><a id="TI000002032" class="bookmark" name="issogl5_пропуск_значений_в_диаграммах"><h6>Пропуск значений в диаграммах</h6></a>

<p class="MsoNormal">Данные,
отображаемые диаграммой, не обязательно могут содержать значения в каждой
точки отображаемой серии. В этих случаях возникает необходимость управлять тем,
как диаграмма будет отображать такие неуказанные (нечисловые) значения. Для
управления отображением не числовых значений предназначено свойства диаграммы <span class="Interface">Использование
нечисловых значений</span> и <span class="Interface">Тип соединения точек
при пропущенных значениях</span>.</p>

<p class="MsoNormal">Первое
свойство указывает, как диаграмма будет трактовать нечисловые значения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Как ноль</span> &#8209; в этом случае нечисловые значения будут
эквивалентны значению 0.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Пропускать</span> &#8209; в этом случае нечисловые значения будут
пропущены при построении диаграммы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; нечисловое значение считается эквивалентно значению
0.</p>

<p class="MsoNormal">В
том случае, если нечисловые значения будут трактоваться пропускаться
диаграммой, с помощью свойства <span class="Interface">Тип соединения точек
при пропущенных значениях</span> можно настроить режим отображения таких
значений диаграммой (данное свойство управляет отображением только тех
диаграмм, в которых соседние точки в серии графически соединяются
друг с другом):</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Не соединять</span> &#8209; точки, между которыми есть нечисловые значения, не
соединяются.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Соединять</span> &#8209; точки, между которыми есть нечисловые значения,
соединяются напрямую.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Соединять с базовым</span> &#8209; аналогично значению <span class="Interface">Не соединять</span>.
Отличием является то, что точка, после (или перед) которой существует
нечисловое значение, соединяется с базовым значением диаграммы, а не
другой точкой серии. Причем соединение выполняется в той же точке.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; трактуется как <span class="Interface">Не соединять</span>.</p>

<p class="MsoNormal">Отображение
нечисловых значений имеет ряд особенностей, в зависимости от типа
диаграммы:</p>

<p class="MsoListBullet">&#9679; 
Для радарных графиков соединение с базовым
значением интерпретируется как соединение с центром графика.</p>

<p class="MsoListBullet">&#9679; 
Для диаграмм-поверхностей алгоритм отрисовки
аналогичен описанному выше, но при соединении не пропущенных учитываются 4
соседних точки.</p>

<p class="MsoListBullet">&#9679; 
Для следующих типов диаграмм точка, для которой
указано нечисловое значение, не отображается:</p>

<p class="MsoListBullet2">&#9679; 
Гистограмма любого вида (без накопления);</p>

<p class="MsoListBullet2">&#9679; 
Биржевая диаграмма (любая) &#8209; элемент не рисуется, если отсутствует хотя бы одно из 4
используемых значений;</p>

<p class="MsoListBullet2">&#9679; 
Изометрическая;</p>

<p class="MsoListBullet2">&#9679; 
Измерительная;</p>

<p class="MsoListBullet2">&#9679; 
Пузырьковая.</p>

<p class="MsoListBullet">&#9679; 
Для всех нормированных диаграмм и диаграмм
с накоплением нечисловое значение интерпретируется как ноль.</p>

<a name="_ref466040500"></a><a id="TI000001676" class="bookmark" name="issogl4_7.3.4.3.4_данные_для_диаграмм"><h5>7.3.4.3.4. Данные для диаграмм</h5></a>

<p class="Regularbeforetable">Для
демонстрации различных видов диаграмм используются следующий набор данных:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b> </b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Оптовые покупатели</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Розничные покупатели</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Дилеры</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">14.03</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">6</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">8</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">6</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">15.03</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">5</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">9</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">4</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">16.03</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">9</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">8</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">6</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">17.03</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">5</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">4</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">7</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">В
зависимости от типа диаграммы, серии могут располагаться как
в строках, так и в столбцах.</p>

<p class="MsoNormal">Если
диаграмма строится на другом наборе данных, этот набор данных приводится
непосредственно в том разделе, где демонстрируется диаграмма. Как правило,
в диаграммах (в примерах далее) отключается флажок <span class="Interface">Серии в строках</span>.</p>

<a id="TI000001677" class="bookmark" name="issogl4_7.3.4.3.5_график"><h5>7.3.4.3.5. График</h5></a>

<p class="Regularbeforepicture">График
использует способ отображения, при котором соседние значения внутри серии
соединяются линией.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:593/313" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00269.gif" width="593" alt="" height="313"></p>

<p class="MsoCaption">Рис.
271. График</p>

<a id="TI000001678" class="bookmark" name="issogl4_7.3.4.3.6_график_по_шагам"><h5>7.3.4.3.6. График по шагам</h5></a>

<p class="MsoNormal">График
по шагам отличается от обычного графика тем, что соседние значения
соединяются не прямыми линиями, а ступенями.</p>

<p class="Regularbeforepicture">Такой
тип графика удобно использовать, чтобы подчеркнуть прерывистый характер
изменения величины. Например, изменение остатков товаров на конец дня:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:625/248" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00270.gif" width="625" alt="" height="248"></p>

<p class="MsoCaption">Рис.
272. График по шагам</p>

<a id="TI000001679" class="bookmark" name="issogl4_7.3.4.3.7_график_с_накоплением"><h5>7.3.4.3.7. График с накоплением</h5></a>

<p class="Regularbeforepicture">Особенностью
графика с накоплением является то, что каждое выводимое значение учитывает
в себе значения предыдущих серий в той же точке. Удобен, когда
требуется оценить вклад каждой серии в общую сумму. Например, можно
проследить изменение вклада каждой группы покупателей в общую сумму
выручки.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/315" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00271.gif" width="595" alt="" height="315"></p>

<p class="MsoCaption">Рис.
273. График с накоплением</p>

<a id="TI000001680" class="bookmark" name="issogl4_7.3.4.3.8_график_с_областями"><h5>7.3.4.3.8. График с областями</h5></a>

<p class="Regularbeforepicture">График
с областями показывает закрашенной область между линией графика
и осью базового значения.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/315" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00272.gif" width="595" alt="" height="315"></p>

<p class="MsoCaption">Рис.
274. График с областями</p>

<a id="TI000001681" class="bookmark" name="issogl4_7.3.4.3.9_график_с_областями_и_накоплением"><h5>7.3.4.3.9. График с областями и накоплением</h5></a>

<p class="Regularbeforepicture">График
с областями аналогичен графику с накоплением, области между линиями
графика и осью закрашиваются.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/316" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00273.gif" width="595" alt="" height="316"></p>

<p class="MsoCaption">Рис.
275. График с областями и накоплением</p>

<a id="TI000001682" class="bookmark" name="issogl4_7.3.4.3.10_график_с_областями_нормированный"><h5>7.3.4.3.10. График с областями нормированный</h5></a>

<p class="Regularbeforepicture">Нормированный
график показывает вклад каждой серии в общую сумму значений в точке.
Например, в первой точке значения серий 6, 8 и 6. Общая сумма равна
20, вклад первой серии составит 30%, второй &#8209; 40%, третьей &#8209; 30%.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/315" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00274.gif" width="595" alt="" height="315"></p>

<p class="MsoCaption">Рис.
276. График с областями, нормированный</p>

<a name="_ref131088439"></a><a id="TI000001683" class="bookmark" name="issogl4_7.3.4.3.11_гистограмма_гистограмма_объемная_гистограмма_горизонтальная_гистограмма_горизонтальная_объемная"><h5>7.3.4.3.11. Гистограмма, гистограмма объемная, гистограмма горизонтальная, гистограмма горизонтальная объемная</h5></a>

<p class="Regularbeforepicture">Гистограмма
используется для визуализации тех же данных, что и график, однако
использует иной способ их отображения. Данные на гистограмме показаны
в виде прямоугольников, размеры которых позволяют сопоставить значения разных
серий в одной точке.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/316" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00275.gif" width="595" alt="" height="316"></p>

<p class="MsoCaption">Рис.
277. Гистограмма</p>

<p class="Regularbeforepicture">Для
вертикальных гистрограмм (обычная, с накоплением, нормированная) с помощью
свойства <span class="Interface">Глубина объемной
диаграммы</span> можно изменять глубину столбца диаграммы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:500/374" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00276.gif" width="500" alt="" height="374"></p>

<p class="MsoCaption"><a name="_ref145577389">Рис. </a>278. Разная глубина
объемной диаграммы</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577389">рис.278</a>
изображены две полностью одинаковые гистрограммы, которые отличаются только
значением свойства <span class="Interface">Глубина объемной
диаграммы</span>. У
верхней диаграмме это свойство установлено в значение <span class="Term">50</span>,
а у нижней &#8209; в значение <span class="Term">10</span>.</p>

<a id="TI000001684" class="bookmark" name="issogl4_7.3.4.3.12_гистограмма_с_накоплением_объемная_горизонтальная_горизонтальная_объемная"><h5>7.3.4.3.12. Гистограмма с накоплением, объемная, горизонтальная, горизонтальная объемная</h5></a>

<p class="Regularbeforepicture">Гистограмма
с накоплением, как и график с накоплением (см. выше), позволяет
включить в значение каждой серии значения всех предыдущих серий.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/316" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00277.gif" width="595" alt="" height="316"></p>

<p class="MsoCaption">Рис.
279. Гистограмма с накоплением</p>

<p class="MsoNormal">Следует
учитывать возможность гистограмм с накоплением соединять соседние значения
внутри серии для удобства чтения отображаемых данных:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Диаграмма<span class="operator">.</span>СоединениеЗначенийПоСериям <span class="operator">=</span> ТипСоединенияЗначенийПоСериямДиаграммы<span class="operator">.</span>СоединениеКраев<span class="operator">;</span>
Диаграмма<span class="operator">.</span>ЛинииСоединенияЗначенийПоСериям <span class="operator">=</span> <span class="keyword">Новый</span> Линия<span class="operator">(</span>ТипЛинииДиаграммы<span class="operator">.</span>Пунктир<span class="operator">,</span> <span class="number">2</span><span class="operator">)</span><span class="operator">;</span>
Диаграма<span class="operator">.</span>ЦветСоединенияЗначенийПоСериям <span class="operator">=</span> WebЦвета<span class="operator">.</span>Красный<span class="operator">;</span></pre><p class="Regularbeforepicture">В
результате получается диаграмма следующего вида:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/315" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00278.gif" width="595" alt="" height="315"></p>

<p class="MsoCaption">Рис.
280. Гистограмма с накоплением и соединением краев</p>

<p class="MsoNormal">Серия
гистограммы с накоплением также может быть отмечена с помощью
свойства <span class="Term">Индикатор</span>. Такая серия показывается как график
и не учитывается при создании сводных серий.</p>

<a id="TI000001685" class="bookmark" name="issogl4_7.3.4.3.13_гистограмма_нормированная_объемная_горизонтальная_горизонтальная_объемная"><h5>7.3.4.3.13. Гистограмма нормированная, объемная, горизонтальная, горизонтальная объемная</h5></a>

<p class="Regularbeforepicture">Нормированная
гистограмма, как и нормированный график, показывает вклад каждой серии
в общую сумму значений в точке.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:595/315" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00279.gif" width="595" alt="" height="315"></p>

<p class="MsoCaption">Рис.
281. Гистограмма нормированная</p>

<p class="MsoNormal">Для
нормированных диаграмм доступно соединение значений внутри серии.</p>

<a name="_ref131077026"></a><a id="TI000001686" class="bookmark" name="issogl4_7.3.4.3.14_круговая_круговая_объемная"><h5>7.3.4.3.14. Круговая, круговая объемная</h5></a>

<p class="Regularbeforepicture">Данный
тип диаграммы позволяет показать долю отдельного значения в общей сумме
значений. Круговая диаграмма строится по данным одной точки и набора
серий.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:653/288" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00280.gif" width="653" alt="" height="288"></p>

<p class="MsoCaption">Рис.
282. Круговая</p>

<p class="MsoNormal">Если
в данных круговой диаграммы присутствует несколько точек, то будут показаны
значения той точки, которая указана в свойстве <span class="Term">АктивнаяТочка</span> диаграммы.</p>

<p class="Regularbeforepicture">С
помощью свойств <span class="Interface">Начальный угол</span>
и <span class="Interface">Конечный угол</span> имеется возможность
управлять тем, в каком секторе круга будет формироваться диаграмма.
Например, если задать свойству <span class="Interface">Начальный угол</span>
значение <span class="Term">90</span>, а свойству <span class="Interface">Конечный угол</span> &#8209;
значение <span class="Term">270</span>, то диаграмма будет отображаться в нижней
полуплоскости. Данные свойства действуют для круговой и круговой объемной
диаграмм.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:655/286" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00281.gif" width="655" alt="" height="286"></p>

<p class="MsoCaption"><a name="_ref145577475">Рис. </a>283. Ограничены
углы отображения</p>

<p class="MsoNormal">Свойство <span class="Interface">Начальный угол</span>
определяет, с какого угла (считая за 0 вертикальную линию) система
начинает строить диаграмму. Свойство <span class="Interface">Конечный угол</span>
определяет угол, при достижении которого система закончит построение диаграммы.
Таким образом, эти два свойства определяют сектор полного круга, в рамках
которого система пытается построить круговую диаграмму.</p>

<p class="MsoNormal">Положение заголовков серий можно задавать
с помощью свойства <span class="Interface">Положение подписей</span>
для объекта <span class="Term">Диаграмма</span>.
На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577475">рис.283</a>
положение подписей указано как <span class="Interface">Центр</span>.</p>

<p class="MsoNormal">Для объемной диаграммы имеется возможность
с помощью свойства <span class="Interface">Глубина объемной
диаграммы</span>
управлять объемной «толщиной» диаграммы.</p>

<a name="_ref2871426"></a><a name="_ref2871165"></a><a id="TI000002163" class="bookmark" name="issogl4_7.3.4.3.15_кольцевая_объемная_кольцевая"><h5>7.3.4.3.15. Кольцевая, объемная кольцевая</h5></a>

<p class="Regularbeforepicture">Как
и круговая диаграмма, кольцевая диаграмма показывает долю
отдельногозначения в общей сумме значений, но она может включать более чем
одну точку в каждой серии. Каждая точка в серии, отображаемой
на кольцевой диаграмме, добавляет к ней кольцо. Первая точка данных
отображается в центре диаграммы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:717/288" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00282.gif" width="717" alt="" height="288"></p>

<p class="MsoCaption">Рис.
284. Кольцевая</p>

<p class="MsoNormal">Имеется возможность управлять внутренним
радиусом кольцевой диаграммы с помощью свойства диаграммы <span class="Term">ВнутреннийРадиусКольцевойДиаграммы</span>.</p>

<p class="Regularbeforepicture">Аналогично
круговой диаграмме, свойства <span class="Interface">Начальный угол</span>
и <span class="Interface">Конечный угол</span> позволяют задать
сектор полного круга, который будет использоваться для построения диаграммы.
Так, на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577506">рис.285</a>, диаграмма строится в сегменте, ограниченном
углом в <span class="Term">-135</span> градусов (свойство <span class="Interface">Начальный угол</span>)
и <span class="Term">45</span>
граудсов (свойство <span class="Interface">Конечный угол</span>).</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:721/286" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00283.gif" width="721" alt="" height="286"></p>

<p class="MsoCaption"><a name="_ref145577506">Рис. </a>285. Ограничены углы
отображения</p>

<p class="MsoNormal">Свойства
<span class="Interface">Начальный угол</span> и <span class="Interface">Конечный угол</span>
действуют для кольцевой и кольцевой объемной диаграмм.</p>

<p class="MsoNormal">Из примера на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577506">рис.285</a> можно
сделать один вывод: если свойство <span class="Interface">Начальный угол</span>
больше 0, то начало отображение диаграммы смещается по часовой стрелке
от вертикальной оси, а если это свойство меньше нуля &#8209; то
начало отображения смещается от вертикальной оси против часовой стрелки.
Этот вывод действителен и для круговой диаграммы.</p>

<p class="MsoNormal">Для объемной диаграммы имеется возможность
с помощью свойства <span class="Interface">Глубина объемной
диаграммы</span>
управлять объемной «толщиной» диаграммы.</p>

<a id="TI000001687" class="bookmark" name="issogl4_7.3.4.3.16_биржевая_биржевая_свеча"><h5>7.3.4.3.16. Биржевая, биржевая «свеча»</h5></a>

<p class="MsoNormal">Биржевая
диаграмма позволяет показать в одной точке четыре значения,
характеризующие изменение показателя в течение периода времени. Набор
показателей включает самое высокое значение показателя за период, самое
низкое значение, а также максимальное и минимальное значения
показателя в течение периода.</p>

<p class="MsoNormal">Биржевая
диаграмма показывает данные одной серии. При этом значение первой точки
используется как начальное значение показателя, значение второй точки &#8209; минимальное значение, третьей точки &#8209; максимальное, четвертой &#8209; значение на конец периода.</p>

<p class="Regularbeforepicture">Таким
образом, данные первых четырех точек отображаются в виде одной точки
диаграммы. В качестве названия объединенной точки используется название первой
точки группы. Аналогично объединяются данные следующих четырех точек.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:790/327" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00284.gif" width="790" alt="" height="327"></p>

<p class="MsoCaption">Рис.
286. Биржевая</p>

<p class="MsoNormal">Биржевая
диаграмма может содержать данные нескольких серий. В таком случае отображаются
значения той серии, которая указана в свойстве <span class="Term">АктивнаяСерия</span> диаграммы.</p>

<a id="TI000001688" class="bookmark" name="issogl4_7.3.4.3.17_изометрическая_обычная_непрерывная_лента_пирамида_водопад"><h5>7.3.4.3.17. Изометрическая обычная, непрерывная, лента, пирамида, водопад</h5></a>

<p class="Regularbeforepicture">Обычная
изометрическая диаграмма аналогична графику, однако значения внутри серии
показываются в виде прямоугольных параллелепипедов различной высоты.
Позволяет отобразить динамику показателя в различных разрезах.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:740/322" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00285.gif" width="740" alt="" height="322"></p>

<p class="MsoCaption">Рис.
287. Изометрическая</p>

<p class="MsoNormal">Изометрическая
пирамида показывает значения в виде пирамид различной высоты.
Изометрическая лента отображает изменение значений серии в виде ленты.
Непрерывная изометрическая диаграмма представляет собой изометрическую ленту
с заполненной областью под лентой. Водопад &#8209; разновидность изометрической диаграммы,
у которой серии не имеют толщины.</p>

<p class="MsoNormal">Для
диаграмм вида <span class="Interface">Изометрическая
непрерывная</span>, <span class="Interface">Изометрическая лента</span>
и <span class="Interface">Водопад</span> допустимо использование
свойств <span class="Term">РежимСглаживания</span> и <span class="Term">НатяжениеСглаживания</span>.</p>

<p class="MsoNormal">При
отключенном режиме сглаживания для диаграммы вида <span class="Interface">Изометрическая лента</span>
возможно использование свойства <span class="Term">Индикатор</span> серии диаграммы. Серия
с установленным признаком <span class="Term">Индикатор</span> отображается полупрозрачно, образуя
пересечения с другими сериями.</p>

<a id="TI000001689" class="bookmark" name="issogl4_7.3.4.3.18_поверхность_каркасная_поверхность_выпуклая_поверхность_вогнутая_поверхность_затененная_поверхность_сотовая"><h5>7.3.4.3.18. Поверхность, каркасная поверхность, выпуклая поверхность, вогнутая поверхность, затененная поверхность, сотовая</h5></a>

<p class="Regularbeforepicture">Поверхностные
диаграммы позволяют не только наблюдать изменение значения внутри серии, но
и проследить зависимость значения от серии в одной точке.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:802/280" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00286.gif" width="802" alt="" height="280"></p>

<p class="MsoCaption">Рис.
288. Поверхность</p>

<a id="TI000001690" class="bookmark" name="issogl4_7.3.4.3.19_радарный_график_с_областями_с_накоплением_с_областями_и_накоплением_с_областями_нормированный"><h5>7.3.4.3.19. Радарный график, с областями, с накоплением, с областями и накоплением, с областями нормированный</h5></a>

<p class="Regularbeforepicture">Радарный
график использует радарную шкалу для отображения данных. Точки расположены
на окружности, значения обозначаются точками, находящимися на разном
расстоянии от центра круга.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:666/248" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00287.gif" width="666" alt="" height="248"></p>

<p class="MsoCaption">Рис.
289. Радарный</p>

<p class="MsoNormal">Назначение
прочих разновидностей радарного графика аналогично соответствующим случаям
с диаграммой типа <span class="Term">График</span>.</p>

<a id="TI000001691" class="bookmark" name="issogl4_7.3.4.3.20_измерительная"><h5>7.3.4.3.20. Измерительная</h5></a>

<p class="MsoNormal">Измерительная
диаграмма строится аналогично круговым диаграммам. Отличительная особенность
измерительной диаграммы &#8209; в изображении шкалы в виде измерительной
панели.</p>

<p class="Regularbeforepicture">Использование
измерительной панели позволяет наглядно отнести значение показателя
к определенной группе.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:672/291" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00288.gif" width="672" alt="" height="291"></p>

<p class="MsoCaption">Рис.
290. Измерительная</p>

<p class="MsoNormal">Выделение
диапазонов значений производится добавлением полос измерительной панели.
Коллекция полос доступна через свойство <span class="Term">ПолосыИзмерительнойДиаграммы</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Полоса <span class="operator">=</span> Диаграмма<span class="operator">.</span>ПолосыИзмерительнойДиаграммы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Полоса<span class="operator">.</span>Начало <span class="operator">=</span> <span class="number">5</span><span class="operator">;</span>
Полоса<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> <span class="number">10</span><span class="operator">;</span>
Полоса<span class="operator">.</span>ЦветФона <span class="operator">=</span> WebЦвета<span class="operator">.</span>Зеленый<span class="operator">;</span>
Полоса<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Хорошо"</span><span class="operator">;</span></pre><p class="Regularbeforepicture">Измерительная
диаграмма может показывать значения двумя способами: с помощью стрелки или
в виде секторов. Требуемый способ задается в свойстве <span class="Term">ОтображениеЗначенияИзмерительнойДиаграммы</span>.
Ниже приведен пример отображения диаграммы в виде секторов.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:672/293" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00289.gif" width="672" alt="" height="293"></p>

<p class="MsoCaption">Рис.
291. Измерительная, секторами</p>

<a id="TI000001692" class="bookmark" name="issogl4_7.3.4.3.21_воронка_объемная_нормированная_нормированная_объемная"><h5>7.3.4.3.21. Воронка, объемная, нормированная, нормированная объемная</h5></a>

<p class="MsoNormal">Вид
диаграммы <span class="Interface">Воронка</span> похож
на горизонтальную гистограмму. Значения отображаются в виде
сегментов, образующих форму воронки при соответствующем наборе значений данных.</p>

<p class="Regularbeforepicture">Для
диаграмм <span class="Interface">Воронка</span> и <span class="Interface">Воронка объемная</span>
значения отображаются шириной сегмента воронки. В диаграммах <span class="Interface">Воронка нормированная</span>
и <span class="Interface">Воронка нормированная объемная</span>
значения отображаются высотой сегмента воронки.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:704/312" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00290.gif" width="704" alt="" height="312"></p>

<p class="MsoCaption">Рис.
292. Воронка продаж</p>

<p class="MsoNormal">На
оформление воронки влияют значения следующих свойств диаграммы: <span class="Term">ПробелыВоронки</span>, <span class="Term">ВысотаГорлаВоронки</span> и <span class="Term">ШиринаГорлаВоронки</span>.</p>

<p class="MsoNormal">Для
диаграмм вида <span class="Interface">Воронка</span>,
и <span class="Interface">Воронка объемная</span> допустимо
использование свойств <span class="Term">РежимСглаживания</span> и <span class="Term">НатяжениеСглаживания</span>.</p>

<a name="_ref466561245"></a><a name="_ref466374080"></a><a id="TI000001882" class="bookmark" name="issogl4_7.3.4.3.22_точечная_диаграмма"><h5>7.3.4.3.22. Точечная диаграмма</h5></a>

<p class="Regularbeforepicture">Точечная
диаграмма представляет значения из различных мер по одному измерению
в виде совокупности точек. В большинстве диаграмм измерение располагается
по одной из осей, но в точечной диаграмме измерение
представляется точками на диаграмме, а меры находятся на каждой
из двух осей.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:586/292" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00291.gif" width="586" alt="" height="292"></p>

<p class="MsoCaption"><a name="_ref145577543">Рис. </a>293. Точечная
диаграмма</p>

<p class="Regularbeforetable">Данная
диаграмма построена на основании следующего набора данных:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b> </b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Август</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Сентябрь</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Октябрь</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Ноябрь</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Декабрь</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">Лыжы</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">90</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">330</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">610</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">1 050</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">1 380</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Лыжные ботинки</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">40</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">280</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">290</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">830</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">970</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Перчатки лыжные</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">20</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">210</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">610</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">730</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">810</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Велосипеды</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">700</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">540</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">100</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">50</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">20</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Какие
данные будут откладываться по осям диаграммы, определяется свойством <span class="Interface">Источник значения оси
точек</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Серия</span> &#8209; в этом случае в свойстве <span class="Interface">Серия на оси
точек</span> указывается та серия, которая будет откладываться на оси
точек.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Точки</span> &#8209; в этом случае по оси точек откладываются
значения точек.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; в этом случае:</p>

<p class="MsoListBullet2">&#9679; 
серия одна &#8209; на оси точек откладываются точки.</p>

<p class="MsoListBullet2">&#9679; 
серий более одной &#8209; поведение аналогично явному указанию значения <span class="Interface">Серия</span>.</p>

<p class="MsoNormal">Пример
на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577543">рис.293</a> отображается со следующими настройками:</p>

<p class="MsoListBullet">&#9679; 
Флаг <span class="Interface">Серии в строках</span>
установлен;</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Источник значения оси
точек</span> установлено в значение <span class="Interface">Точки</span>.</p>

<p class="MsoNormal">Если
несколько изменить настройки диаграммы, а именно:</p>

<p class="MsoListBullet">&#9679; 
Свойство<span class="Interface"> Источник значения оси
точек</span> установлено в значение <span class="Interface">Серия</span>.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Серия на оси
точек</span> установлено в значение <span class="Interface">Лыжы</span>.</p>

<p class="MsoListBullet">&#9679; 
Для серии <span class="Interface">Велосипеды</span>
добавлена линия тренда, заданная линейным уравнением.</p>

<p class="Regularbeforepicture">В
результате будет получен следующий график:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:586/292" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00292.gif" width="586" alt="" height="292"></p>

<p class="MsoCaption">Рис.
294. Точечная диаграмма и линия тренда</p>

<p class="MsoNormal">В
данном случае можно видеть, что продажи лыж и велосипедов находятся
в обратной зависимости: чем больше продается лыж, тем меньше велосипедов.
Для повышения наглядности данного заключения на продажи велосипедов
наложена линия тренда.</p>

<a name="_ref466561246"></a><a name="_ref466374094"></a><a id="TI000001883" class="bookmark" name="issogl4_7.3.4.3.23_пузырьковая_диаграмма"><h5>7.3.4.3.23. Пузырьковая диаграмма</h5></a>

<p class="Regularbeforepicture">Пузырьковая
диаграмма &#8209; это разновидность точечной диаграммы, где точка
имеет не фиксированный, а переменный размер. Причем размер точки
(пузырька) служит третьим измерением для такой диаграммы. Таким образом,
пузырьковая диаграмма позволяет отобразить на плоскости данные
по трем измерениям.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:514/303" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00293.gif" width="514" alt="" height="303"></p>

<p class="MsoCaption"><a name="_ref145577590">Рис. </a>295. Пузырьковая
диаграмма</p>

<p class="Regularbeforetable">Диаграмма
построена на основании следующего набора данных:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Товар</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Продажи</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Доля
   рынка</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">Ботинки</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">5 500</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">3</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Брюки</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">12 200</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">12</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Костюм</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">60 000</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">33</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Пиджак</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">24 400</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">10</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">Рубашка</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">32 000</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">42</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Аналогично
точечной диаграмме, назначение данных на оси диаграммы выполняется
с помощью свойства <span class="Interface">Источник значения оси
точек</span>. Логика системы при этом полностью совпадает с таковой для
точечной диаграммы.</p>

<p class="MsoNormal">Для
пузырьковой диаграммы следует обратить внимание на следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Источник значения размера
пузырька</span> &#8209; определяет, откуда брать значение, определяющее
размер пузырька на диаграмме:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Нет</span> &#8209; в этом случае поведение диаграммы полностью
эквивалентно точечной диаграмме.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Общая серия</span> &#8209; указывается серия, значения которой будут
использоваться в качестве размера пузырька. Указание серии выполняется
с помощью свойства <span class="Interface">Общая серия размера
пузырька</span>.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Следующая серия</span><span class="Interface"> &#8209; в </span>этом случае
размер пузырька будет определяться серией, следующей за серией
с данными. Для примера на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577590">рис.295</a> размер пузырька задает колонка <span class="Interface">Доля рынка</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображение отрицательных
значений пузырьковой диаграммы</span> &#8209; определяет, каким образом диаграмма будет «реагировать»
на отрицательные значения в данных:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Нет</span> (значение
по умолчанию) &#8209; если значение меньше нуля, то пузырек не
отображается.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">По модулю</span> &#8209; все значения учитываются по модулю.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Прозрачный фон</span> &#8209; для расчета размера пузырька все значения
используются по модулю, но пузырьки, значения для которых меньше нуля, не
будут закрашиваться цветом.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Инвертированный цвет фона</span> &#8209; в этом случае пузырек будет закрашиваться
цветом, который является инверсией текущего цвета серии.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Влияние размера
на пузырек</span> &#8209; описывает, каким образом значение, описывающее
размер пузырька, будет влиять на размер:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Увеличение/уменьшение
диаметра</span> &#8209; в этом случае диаметр пузырька будет
изменяться прямо/обратно пропорционально значению размера.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Увеличение/уменьшение
площади</span> &#8209; в этом случае площадь пузырька будет изменяться
прямо/обратно пропорционально значению размера.</p>

<p class="MsoListBullet2">&#9679; 
В любом случае размер пузырька будет ограничен
свойствами <span class="Interface">Максимальный размер
пузырька</span> и <span class="Interface">Минимальный размер
пузырька</span>.</p>

<a name="_ref423094562"></a><a name="_ref437342801"></a><a name="_ref423094556"></a><a id="TI000001693" class="bookmark" name="issogl3_7.3.4.4_диаграмма_ганта"><h4>7.3.4.4. Диаграмма Ганта</h4></a>

<a name="_ref83726939"></a><a id="TI000001694" class="bookmark" name="issogl4_7.3.4.4.1_общие_сведения"><h5>7.3.4.4.1. Общие сведения</h5></a>

<p class="MsoNormal">Диаграмма
Ганта используется для отражения длительности и последовательности
процессов, представленных в виде горизонтальных линий (интервалов)
и расположенных вдоль оси времени (шкалы времени).</p>

<p class="MsoNormal">В
поле диаграммы по умолчанию отображается область построения, область заголовка
и область легенды. Для настройки свойств и управления видимостью этих
областей предназначены свойства <span class="Term">ОбластьПостроения</span>, <span class="Term">ОбластьЗаголовка</span>, <span class="Term">ОтображатьЗаголовок</span>, <span class="Term">ОбластьЛегенды</span> и <span class="Term">ОтображатьЛегенду</span>.</p>

<p class="Regularbeforepicture">В
области построения диаграммы по горизонтали расположена шкала времени,
по вертикали &#8209; шкала точек (процессов). В данном разделе пример
будет строиться вокруг строительства некоторого офиса, который будет состоять
из трех связанных процессов: планирование строительства, закупка
материалов и расчистка территории.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:867/445" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00294.gif" width="867" alt="" height="445"></p>

<p class="MsoCaption">Рис.
296. Общий вид</p>

<p class="Regularbeforepicture">Диаграмма
Ганта отображает данные, которые можно представить следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:709/285" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00295.gif" width="709" alt="" height="285"></p>

<p class="MsoCaption"><a name="_ref145577619">Рис. </a>297. Структура
данных диаграммы Ганта</p>

<p class="MsoNormal">Диаграмма Ганта позволяет создавать
несколько серий (коллекция <span class="Term">СерииДиаграммыГанта</span>),
каждая серия состоит из нескольких точек (коллекция <span class="Term">ТочкиДиаграммыГанта</span>).
Если представить точки и серии осями координат на плоскости (ось <span class="Interface">Точки</span>
и <span class="Interface">Серии</span>
на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577619">рис.297</a>),
то на пересечение серии (тип <span class="Term">СерияДиаграммыГанта</span>)
и точки (тип <span class="Term">ТочкаДиаграммыГанта</span>) будет
находиться значение диаграммы Ганта (тип <span class="Term">ЗначениеДиаграммыГанта</span>).
На рисунке данное пересечение изображено прямоугольником <span class="Interface">Значение</span>.
Значение диаграммы является коллекцией интервалов (тип <span class="Term">ИнтервалДиаграммыГанта</span>).
Кроме того, значение диаграммы может содержать набор дополнительных данных (<span class="Term">ЗначениеДиаграммыГанта.Данные</span>),
структуру которых определяет разработчик прикладного решения в зависимости
от решаемых им задач.</p>

<p class="MsoNormal">Далее в этой главе будут рассмотрены
способы работы с диаграммой Ганта.</p>

<a name="_ref83711261"></a><a id="TI000001695" class="bookmark" name="issogl4_7.3.4.4.2_добавление_данных"><h5>7.3.4.4.2. Добавление данных</h5></a>

<p class="MsoNormal">Для
управления составом серий и точек используются свойства диаграммы <span class="Term">Серии</span> и <span class="Term">Точки</span>.</p>

<p class="MsoNormal">Для
работы со значениями диаграммы используется объект <span class="Term">ЗначениеДиаграммыГанта</span>, который может быть
получен методом <span class="Term">ПолучитьЗначение()</span> объекта диаграммы. Значение
предоставляет доступ к коллекции интервалов, которые отображаются
на диаграмме в виде цветных прямоугольников. Один интервал
отображается одним прямоугольником. Рассмотрим пример:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Добавление серии.</span>
СерияПлан <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>Серии<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
СерияПлан<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"План"</span><span class="operator">;</span>
<span class="comment">// Добавление точки.</span>
ТочкаСтроительствоОфиса <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>Точки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ТочкаСтроительствоОфиса<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Строительство офиса"</span><span class="operator">;</span>
<span class="comment">// Получение значения.</span>
Значение <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаСтроительствоОфиса<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Добавление интервала.</span>
Интервал <span class="operator">=</span> Значение<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Интервал<span class="operator">.</span>Начало <span class="operator">=</span> <span class="date">'20220925'</span><span class="operator">;</span>
Интервал<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> КонецДня<span class="operator">(</span><span class="date">'20221006'</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">Построенная
таким образом диаграмма Ганта отображает единственный интервал, показывающий
продолжительность процесса <span class="Interface">Строительство офиса</span>:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:858/79" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00296.gif" width="858" alt="" height="79"></p>

<p class="MsoCaption">Рис.
298. Один интервал</p>

<p class="MsoNormal">Точки
и серии диаграммы Ганта могут образовывать иерархическую структуру.
Например:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Создание точек</span>
ТочкаПланирование <span class="operator">=</span> ТочкаСтроительствоОфиса<span class="operator">.</span>Точки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ТочкаПланирование<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Планирование строительства"</span><span class="operator">;</span>
ТочкаПланирование<span class="operator">.</span>Значение <span class="operator">=</span> <span class="string">"planingConstruction"</span><span class="operator">;</span>
ТочкаЗакупка <span class="operator">=</span> ТочкаСтроительствоОфиса<span class="operator">.</span>Точки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ТочкаЗакупка<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Закупка материалов"</span><span class="operator">;</span>
ТочкаЗакупка<span class="operator">.</span>Значение <span class="operator">=</span> <span class="string">"purchaseMaterials"</span><span class="operator">;</span>
ТочкаРасчистка <span class="operator">=</span> ТочкаСтроительствоОфиса<span class="operator">.</span>Точки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ТочкаРасчистка<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Очистка территории"</span><span class="operator">;</span>
ТочкаРасчистка<span class="operator">.</span>Значение <span class="operator">=</span> <span class="string">"clearTerritory"</span><span class="operator">;</span>
<span class="comment">// Создание интервалов</span>
Значение <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаПланирование<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">;</span>
ИнтервалПланированиеПлан <span class="operator">=</span> Значение<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ИнтервалПланированиеПлан<span class="operator">.</span>Начало <span class="operator">=</span> <span class="date">'20220925'</span><span class="operator">;</span>
ИнтервалПланированиеПлан<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> КонецДня<span class="operator">(</span><span class="date">'20221001'</span><span class="operator">)</span><span class="operator">;</span>
Значение <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаЗакупка<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">;</span>
ИнтервалЗакупкаПлан <span class="operator">=</span> Значение<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ИнтервалЗакупкаПлан<span class="operator">.</span>Начало <span class="operator">=</span> <span class="date">'20221002'</span><span class="operator">;</span>
ИнтервалЗакупкаПлан<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> КонецДня<span class="operator">(</span><span class="date">'20221004'</span><span class="operator">)</span><span class="operator">;</span>
Значение <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаРасчистка<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">;</span>
ИнтервалРасчисткаПлан <span class="operator">=</span> Значение<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ИнтервалРасчисткаПлан<span class="operator">.</span>Начало <span class="operator">=</span> <span class="date">'20220928'</span><span class="operator">;</span>
ИнтервалРасчисткаПлан<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> КонецДня<span class="operator">(</span><span class="date">'20221006'</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Настройка отображения</span>
Диаграммаганта<span class="operator">.</span>РазвернутьТочку<span class="operator">(</span>ТочкаСтроительствоОфиса<span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">В
результате на диаграмме будет показана продолжительность трех этапов
процесса строительства, а также общая продолжительность строительства.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:976/173" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00297.gif" width="976" alt="" height="173"></p>

<p class="MsoCaption">Рис.
299. Несколько интервалов</p>

<p class="MsoNormal">Для
заполнения диаграммы Ганта данными удобно использовать методы <span class="Term">УстановитьТочку()</span> и <span class="Term">УстановитьСерию()</span>. Метод <span class="Term">УстановитьТочку()</span> (<span class="Term">УстановитьСерию()</span>) возвращает точку (серию)
диаграммы, у которой в свойстве <span class="Term">Значение</span> содержится значение, которое указано
в качестве параметра метода, например, ссылка на элемент справочника.
Если точка (серия) с таким ключевым значением не найдена, то создается
новая точка (серия) и заполняется свойство <span class="Term">Значение</span>. Значением свойства <span class="Term">Значение</span> удобно пользоваться для быстрого
поиска точки/серии. Этой возможностью мы воспользуемся в другом примере.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Вторым параметром в методы <span class="Term">УстановитьТочку()</span> и <span class="Term">УстановитьСерию()</span> может быть передано ключевое
значение родительской точки (серии). Если этот параметр не задан, то точка
(серия) будет создана на верхнем уровне иерархии точек (серий).</p>

</div>

<a name="_ref115799960"></a><a id="TI000002648" class="bookmark" name="issogl4_7.3.4.4.3_управление_отображением_диаграммы"><h5>7.3.4.4.3. Управление отображением диаграммы</h5></a>

<p class="MsoNormal">Поле
диаграммы Ганта отображает по умолчанию саму диаграмму и таблицу данных
этой диаграммы. Описание работа с таблицей данных диаграммы Ганта
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref83726915">здесь</a>.</p>

<p class="MsoNormal">Диаграмма содержит горизонтальные
и вертикальные линии разметки (включая различные метки времени). Для
управления отображением этими линиями служат свойства расширения поля формы для
диаграммы Ганта:</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Вертикальные линии</span>
(<span class="Term">ВертикальныеЛинии</span>). Может принимать следующие
значения:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Да</span> (<span class="Term">Истина</span>). В этом случае в области
построения диаграммы отображаются все вертикальные линии.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Нет</span> (<span class="Term">Ложь</span>). В этом случае в области построения
диаграммы все вертикальные линии не отображаются.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Авто</span> (<span class="Term">Неопределено</span>). В этом случае вертикальные
линии:</p>

<p class="MsoListBullet3">&#9679; 
Отображаются в области текстов точек
и таблицы данных.</p>

<p class="MsoListBullet3">&#9679; 
Не отображаются в области значений и интервалов.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Горизонтальные линии</span>
(<span class="Term">ГоризонтальныеЛинии</span>). Может принимать
следующие значения:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Да</span> (<span class="Term">Истина</span>). В этом случае в области
построения диаграммы отображаются все горизонтальные линии.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Нет</span> (<span class="Term">Ложь</span>). В этом случае в области построения
диаграммы все горизонтальные линии не отображаются.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Авто</span> (<span class="Term">Неопределено</span>). В этом случае значение
трактуется как <span class="Interface">Да</span> (<span class="Term">Истина</span>).</p>

<p class="MsoNormal">Текст (значения, точки, интервала), который
отображается на диаграмме, может не умещаться в отведенное ему место
(по ширине). Имеется возможность задать режим отображения текста с помощью
свойства <span class="Interface">Размещение текста</span>
области построения диаграммы Ганта (<span class="Term">ОбластьПостроениеДиаграммыГанта.РазмещениеТекста</span>).
Это свойство может принимать следующие значения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Обрезать</span> &#8209; текст всегда
отображается в одной строке. Если текст не может быть размещен полностью &#8209;
он усекается по размеру области отображения.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Переносить</span> &#8209; текст отображается
в нескольких строках, если одной строки не хватает для отображения.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Авто</span> &#8209; система сама определяет тип
размещения текста. В режиме совместимости с версией 8.3.22
и предшествующими <span class="Term">Авто</span> трактуется как <span class="Term">Обрезать</span>. В остальных случаях <span class="Term">Авто</span> трактуется как <span class="Term">Переносить</span>.</p>

<a id="TI000001697" class="bookmark" name="issogl4_7.3.4.4.4_настройка_шкалы_времени"><h5>7.3.4.4.4. Настройка шкалы времени</h5></a>

<p class="MsoNormal">Полный
интервал времени диаграммы определяется автоматически по продолжительности
всех отображаемых интервалов, если свойство диаграммы <span class="Term">АвтоОпределениеПолногоИнтервала</span> содержит
значение <span class="Term">Истина</span>. При выключении автоматического
определения следует использовать метод <span class="Term">УстановитьПолныйИнтервал()</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ДиаграммаГанта<span class="operator">.</span>АвтоОпределениеПолногоИнтервала <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
ДиаграммаГанта<span class="operator">.</span>УстановитьПолныйИнтервал<span class="operator">(</span><span class="date">'20220924'</span><span class="operator">,</span> <span class="date">'20221009'</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Шкала
времени может быть дополнена новыми уровнями, для каждой из которого можно
задать периодичность, формат отображения периода и другие свойства.
Добавление нового уровня шкалы времени для отображения недельных отметок
выглядит следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">НедельнаяШкала <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ОбластьПостроения<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Вставить<span class="operator">(</span><span class="number">0</span><span class="operator">)</span><span class="operator">;</span>
НедельнаяШкала<span class="operator">.</span>Единица <span class="operator">=</span> ТипЕдиницыШкалыВремени<span class="operator">.</span>Неделя<span class="operator">;</span>
НедельнаяШкала<span class="operator">.</span>Кратность <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span></pre><p class="Regularbeforepicture">Диаграмма
примет следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:746/240" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00298.gif" width="746" alt="" height="240"></p>

<p class="MsoCaption">Рис.
300. Недельная шкала времени</p>

<p class="MsoNormal">Следует
учитывать, что в диаграмме Ганта заголовок элемента уровня шкалы
отображается только в начале соответствующего деления. Если начало деления
не отображается (оказалось «левее» отображаемого диапазона), то заголовок не
будет отображен на диаграмме.</p>

<p class="MsoNormal">На
шкале времени могут быть размещены метки, доступные через коллекцию <span class="Term">Метки</span> элемента шкалы времени. Однако надо
помнить, что добавленная метка будет отображаться внутри той временной шкалы,
для которой добавлялась метка. Рассмотрим пример добавления метки
в недельную шкалу, добавленную ранее:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Метка <span class="operator">=</span> НедельнаяШкала<span class="operator">.</span>Метки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="date">'20221004'</span><span class="operator">)</span><span class="operator">;</span>
Метка<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Контроль"</span><span class="operator">;</span>
Метка<span class="operator">.</span>ЦветЛинии <span class="operator">=</span> WebЦвета<span class="operator">.</span>Красный<span class="operator">;</span></pre><p class="Regularbeforepicture">При
этом диаграмма станет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:1006/248" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00299.gif" width="1006" alt="" height="248"></p>

<p class="MsoCaption">Рис.
301. Метка внутри шкалы</p>

<p class="MsoNormal">Такое размещение метки заметно
усложняет восприятие данных выбранного уровня шкалы. Избежать данной ситуации
можно с помощью добавления «фиктивного» уровня, который будет иметь только
непериодические метки, а уже для этого интервала добавлять метку (вместо
предыдущего примера):</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ФиктивнаяШкала <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ОбластьПостроения<span class="operator">.</span>ШкалаВремени<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
ФиктивнаяШкала<span class="operator">.</span>ОтображатьПериодическиеМетки <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
Метка <span class="operator">=</span> ФиктивнаяШкала<span class="operator">.</span>Метки<span class="operator">.</span>Добавить<span class="operator">(</span><span class="date">'20221004'</span><span class="operator">)</span><span class="operator">;</span>
Метка<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Контроль"</span><span class="operator">;</span>
Метка<span class="operator">.</span>ЦветЛинии <span class="operator">=</span> WebЦвета<span class="operator">.</span>Красный<span class="operator">;</span></pre><p class="Regularbeforepicture">Тогда
диаграмма примет следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:1004/268" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00300.gif" width="1004" alt="" height="268"></p>

<p class="MsoCaption">Рис.
302. Метка внутри шкалы</p>

<p class="MsoNormal">Также
доступна возможность изменить цвет фона фрагмента диаграммы с помощью
добавления так называемых интервалов фона. Например, можно выделить выходные
дни:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ИнтервалФона <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ИнтервалыФона<span class="operator">.</span>Добавить<span class="operator">(</span><span class="date">'20220924'</span><span class="operator">,</span> КонецДня<span class="operator">(</span><span class="date">'20220925'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
ИнтервалФона<span class="operator">.</span>Цвет <span class="operator">=</span> WebЦвета<span class="operator">.</span>БледноМиндальный<span class="operator">;</span>
ИнтервалФона <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ИнтервалыФона<span class="operator">.</span>Добавить<span class="operator">(</span><span class="date">'20220930'</span><span class="operator">,</span> КонецДня<span class="operator">(</span><span class="date">'20221001'</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
ИнтервалФона<span class="operator">.</span>Цвет <span class="operator">=</span> WebЦвета<span class="operator">.</span>БледноМиндальный<span class="operator">;</span></pre><p class="Regularbeforepicture">В
результате диаграмма станет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:1006/272" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00301.gif" width="1006" alt="" height="272"></p>

<p class="MsoCaption">Рис.
303. Выделенные интервалы</p>

<a id="TI000001696" class="bookmark" name="issogl4_7.3.4.4.5_интервалы"><h5>7.3.4.4.5. Интервалы</h5></a>

<p class="MsoNormal">Часто
на диаграмме Ганта отображаются процессы (интервалы), которые не только
имеют какую-либо длительность, но и связаны друг с другом. Например,
один процесс (закупка материалов) начинается только после того, как завершится
другой процесс (определение потребности в материалах). Для наглядной
демонстрации взаимосвязи процессов, в диаграмме Ганта могут быть настроены
так называемые связи между интервалами. Для этого следует воспользоваться
возможностью добавлять элементы в коллекцию связей для объекта <span class="Term">ИнтервалДиаграммыГанта</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Связь <span class="operator">=</span> ИнтервалПланированиеПлан<span class="operator">.</span>Добавить<span class="operator">(</span>ИнтервалЗакупкаПлан<span class="operator">)</span><span class="operator">;</span></pre>

<p class="Regularbeforepicture">В
результате диаграмма примет следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:776/221" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00302.gif" width="776" alt="" height="221"></p>

<p class="MsoCaption">Рис.
304. Связи интервалов</p>

<p class="MsoNormal">По
умолчанию связь отображается линей, направленной от правой границы
(окончания) первого интервала к левой границе (началу) второго интервала.
Таким образом, связь имеет тип <span class="Term">ТипСвязиДиаграммыГанта.КонецНачало</span>. При
необходимости тип связи может быть изменен в свойстве <span class="Term">ТипСвязи</span> объекта типа <span class="Term">СвязьДиаграммыГанта</span>.</p>

<p class="MsoNormal">Интервал
диаграммы Ганта может содержать какой-либо пояснительный текст. Этот текст
получается из свойства <span class="Term">ИнтервалДиаграммыГанта.Текст</span>, а если это
свойство не задано, то из свойства <span class="Term">ИнтервалДиаграммыГанта.Значение.Текст</span>. Для
того, чтобы управлять отображением текста интервала, у диаграммы Ганта
предназначено свойство <span class="Interface">Отображение текста
интервала</span> (<span class="Term">ОтображениеТекстаИнтервала</span>). Свойство может
принимать следующие значения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Отображать</span> &#8209; текст
на интервале отображается.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НеОтображать</span> &#8209; текст
на интервале не отображается.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Авто</span> &#8209; трактуется как <span class="Term">НеОтображать</span> в режиме совместимости
с версией 8.3.22 и предыдущих. В остальных случаях трактуется как <span class="Term">Отображать</span>.</p>

<p class="MsoNormal">Для
однозначной идентификации значения или интервала диаграммы Ганта, каждый
из этих объектов содержит свойство <span class="Term">Идентификатор</span>, которое содержит уникальный
идентификатор данного объекта. Идентификаторы не являются взаимозаменяемыми.
Для того, чтобы получить объект <span class="Term">ЗначениеДиаграммыГанта</span> или <span class="Term">ИнтервалДиаграммыГанта</span> по имеющемуся идентификатору,
объект <span class="Term">ДиаграммаГанта</span> имеет методы <span class="Term">НайтиЗначениеПоИдентификатору()</span> и <span class="Term">НайтиИнтервалПоИдентификатору()</span>.</p>

<a name="_ref115708236"></a><a id="TI000001698" class="bookmark" name="issogl4_7.3.4.4.6_интерактивное_редактирование_диаграммы_ганта"><h5>7.3.4.4.6. Интерактивное редактирование диаграммы Ганта</h5></a>

<p class="MsoNormal">Некоторые
элементы и свойства диаграммы Ганта могут быть изменены как не только
из встроенного языка, но и интерактивно. Для того, чтобы активировать
для пользователя возможность изменять расположение и размеры интервалов,
необходимо установить свойство <span class="Term">ЗначениеДиаграммыГанта.Редактирование</span>
в значение <span class="Term">Истина</span>.</p>

<p class="MsoNormal">В
качестве примера добавим к данным диаграммы серию <span class="Interface">Факт</span>
и разрешим редактирование ее значения в точке <span class="Interface">Расчистка территории</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">СерияФакт <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>Серии<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
СерияФакт<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Факт"</span><span class="operator">;</span>
Значение <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаСтроительствоОфиса<span class="operator">,</span> СерияФакт<span class="operator">)</span><span class="operator">;</span>
Интервал <span class="operator">=</span> Значение<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Интервал<span class="operator">.</span>Начало <span class="operator">=</span> <span class="date">'20220925'</span><span class="operator">;</span>
Интервал<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> КонецДня<span class="operator">(</span><span class="date">'20221006'</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Разрешено интерактивное редактирование интервалов.</span>
Значение <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаРасчистка<span class="operator">,</span> СерияФакт<span class="operator">)</span><span class="operator">;</span>
Значение<span class="operator">.</span>Редактирование <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
Интервал <span class="operator">=</span> Значение<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Интервал<span class="operator">.</span>Начало <span class="operator">=</span> <span class="date">'20220927'</span><span class="operator">;</span>
Интервал<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">=</span> КонецДня<span class="operator">(</span><span class="date">'20221006'</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">На
диаграмме станет доступно редактирование фактического значения:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:868/235" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00303.gif" width="868" alt="" height="235"></p>

<p class="MsoCaption"><a name="_ref145577627">Рис. </a>305. Редактируемый
интервал</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577627">рис.305</a> показано, как будет выглядеть интервал, который
редактируется с помощью мыши.</p>

<p class="MsoNormal">Кроме
возможности разрешить редактирование конкретного значения (или значений)
диаграммы Ганта, существует возможность управлять возможностью выделения
нескольких значений и получать эти значения во встроенном языке. Для этого
предназначены следующие свойства расширения поля ввода для диаграммы Ганта:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">РежимВыделенияЗначений</span> &#8209; позволяет
указать, каким образом можно будет выделять значения диаграммы Ганта. Возможны
следующие значения:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Нет</span> &#8209; выделение запрещено.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Множественный</span> &#8209; разрешено выделение
нескольких значений в диаграмме.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Одиночный</span> &#8209; разрешено выделение
только одного значения диаграммы.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Авто</span> &#8209; трактуется как <span class="Term">Нет</span> в режиме совместимости с версией
8.322 и предшествующих. В остальных случаях трактуется как <span class="Term">Множественный</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ТекущееЗначение</span> &#8209; содержит
идентификатор текущего, выделенного, значения диаграммы Ганта. Для поиска
значения, соответствующего идентификатору, элемент формы предоставляет метод <span class="Term">НайтиЗначениеПоИдентификатору()</span>. Диаграмма
Ганта позволяет установить текущее значение диаграммы путем присваивания нового
значения свойству <span class="Term">ТекущееЗначение</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ВыделенныеЗначения</span> &#8209; массив
идентификаторов выделенных значений диаграммы Ганта. Схема работы аналогична
текущему значению.</p>

<p class="MsoNormal">Если
у расширения поля формы для диаграммы Ганта включено свойство Положение
таблицы (которое позволяет показать таблицу данных непосредственно около самой
диаграммы), то между свойствами <span class="Term">ТекущаяСтрока</span> и <span class="Term">РежимВыделения</span> таблицы формы с данными
и свойствами <span class="Term">ТекущееЗначение</span> и <span class="Term">РежимВыделенияЗначений</span> диаграммы Ганта
существует определенная связь:</p>

<p class="MsoListBullet">&#9679; 
Изменение значения свойства <span class="Term">ТекущаяСтрока</span> таблицы формы влияет
на значение свойства <span class="Term">ТекущееЗначение</span> диаграммы Ганта
и наоборот.</p>

<p class="MsoListBullet">&#9679; 
Изменение значения свойства <span class="Term">РежимВыделения</span> таблицы формы влияет
на значение свойства <span class="Term">РежимВыделенияЗначений</span> диаграммы Ганта,
и наоборот. При этом:</p>

<p class="MsoListBullet2">&#9679; 
Установка конкретного режима выделения для
таблицы формы приводит к установке аналогичного режима выделения для
диаграммы Ганта и наоборот.</p>

<p class="MsoListBullet2">&#9679; 
При отключении режима выделения значений
в диаграмме Ганта (<span class="Term">РежимВыделенияЗначенийДиаграммыГанта.Нет</span>), для
таблицы устанавливается режим выделения <span class="Term">РежимВыделенияЗначенийДиаграммыГанта.Одиночный</span>.</p>

<p class="MsoListBullet2">&#9679; 
При задании свойству <span class="Term">РежимВыделенияЗначений</span> диаграммы Ганта
значения <span class="Term">РежимВыделенияЗначенийДиаграммыГанта.Авто</span>,
свойству таблицы формы <span class="Term">РежимВыделения</span> в режиме совместимости
с версией 8.3.22 и предыдущих автоматически устанавливается значение <span class="Term">РежимВыделенияТаблицы.Одиночный</span>. В остальных
случаях таблице формы задается режим выделения <span class="Term">РежимВыделенияТаблицы.Множественный</span>.</p>

<p class="MsoNormal">Кроме
выделения значений, доступно и выделение интервалов диаграммы Ганта. Для
этого предназначены следующие свойства расширения поля ввода для диаграммы Ганта:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">РежимВыделенияИнтервалов</span> &#8209; позволяет
указать, каким образом можно будет выделять интервалы в диаграмме Ганта.
Возможны следующие значения:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Нет</span> &#8209; выделение запрещено.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Множественный</span> &#8209; разрешено выделение
нескольких интервалов в диаграмме.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Одиночный</span> &#8209; разрешено выделение
только одного интервала диаграммы Ганта.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Авто</span> &#8209; трактуется как <span class="Term">Нет</span> в режиме совместимости с версией
8.322 и предшествующих. В остальных случаях трактуется как <span class="Term">Множественный</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ТекущийИнтервал</span> &#8209; содержит
идентификатор текущего, выделенного, значения диаграммы Ганта. Для поиска
значения, соответствующего идентификатору, элемент формы предоставляет метод <span class="Term">НайтиИнтервалПоИдентификатору()</span>. Диаграмма
Ганта позволяет установить текущее значение диаграммы путем присваивания нового
значения свойству <span class="Term">ТекущийИнтервал</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ВыделенныеИнтервалы</span> &#8209; массив
идентификаторов выделенных значений диаграммы Ганта. Схема работы аналогична текущему
интервалу.</p>

<a name="_ref83726915"></a><a id="TI000002573" class="bookmark" name="issogl4_7.3.4.4.7_дополнительные_данные_диаграммы_ганта"><h5>7.3.4.4.7. Дополнительные данные диаграммы Ганта</h5></a>

<p class="MsoNormal">Допустим, что в нашем проекте
по строительству офиса нам нужно видеть на диаграмме не только
временные рамки процессов и их взаимосвязи, а еще и стоимость
каждого этапа работ. Для этого в таблицу диаграммы можно добавить колонку
соответствующего типа для отображения стоимости и заполнить ее данными.
Рассмотрим, как это сделать.</p>

<p class="Regularbeforepicture">Для
этого в редакторе формы необходимо создать колонку для реквизита типа <span class="Term">ДиаграммаГанта</span>, затем создать новое поле для
элемента формы <span class="Term">ДиаграммаГанта.ДиаграммаГантаТаблица</span>
и связать поле формы с созданным реквизитом.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:784/510" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00304.gif" width="784" alt="" height="510"></p>

<p class="MsoCaption">Рис.
306. Добавление колонки данных</p>

<p class="MsoNormal">На встроенном языке данная
последовательность действий будет выглядеть несколько более «многословно»:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Добавляем колонку данных в реквизиты формы</span>
ТипСтоимости <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">"Число"</span><span class="operator">,</span> <span class="keyword">Новый</span> КвалификаторыЧисла<span class="operator">(</span><span class="number">15</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> ДопустимыйЗнак<span class="operator">.</span>Неотрицательный<span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
НовыеРеквизиты <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
НовыеРеквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> РеквизитФормы<span class="operator">(</span><span class="string">"Стоимость"</span><span class="operator">,</span> ТипСтоимости<span class="operator">,</span> <span class="string">"ДиаграммаГанта"</span><span class="operator">,</span> <span class="string">"Стоимость, руб"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
ИзменитьРеквизиты<span class="operator">(</span>НовыеРеквизиты<span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Добавляем колонку в таблицу формы</span>
КолонкаСтоимости <span class="operator">=</span> Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"ДиаграммаГантаТаблицаСтоимость"</span><span class="operator">,</span> Тип<span class="operator">(</span><span class="string">"ПолеФормы"</span><span class="operator">)</span><span class="operator">,</span> Элементы<span class="operator">.</span>ДиаграммаГантаТаблица<span class="operator">)</span><span class="operator">;</span>
КолонкаСтоимости<span class="operator">.</span>Вид <span class="operator">=</span> ВидПоляФормы<span class="operator">.</span>ПолеВвода<span class="operator">;</span>
КолонкаСтоимости<span class="operator">.</span>ПутьКДанным <span class="operator">=</span> <span class="string">"ДиаграммаГанта.Стоимость"</span><span class="operator">;</span></pre><p class="MsoNormal">В данном примере стоит обратить внимание
на следующий момент: если диаграмма Ганта является реквизитом формы (как
в текущем примере), то колонку реквизита необходимо добавлять не через
коллекцию <span class="Term">ДиаграммаГанта.КолонкиДанных</span>,
а с помощью модификации реквизитов формы. Если диаграмма Ганта создается
во встроенном языке &#8209; тогда
колонки добавляются через коллекцию <span class="Term">КолонкиДанных</span>.</p>

<p class="MsoNormal">Итак, мы добавили реквизит для хранения
стоимости, и соответствующую колонку для отображения данных в таблице
на форме. Теперь надо заполнить добавленные реквизиты значениями для всех
процессов, из которых состоит строительство офиса. Перед тем, как показать
пример такого заполнения, стоит заметить, что система «1С:Предприятие»
автоматически никак не обрабатывает дополнительные данные диаграммы Ганта.
Другими словами, если вам необходимо заниматься каким-то действиями
с добавленными данными (например, вычислять итоги по иерархии точек
или серий), то этим надо заниматься самостоятельно, из встроенного языка.</p>

<p class="MsoNormal">Приступим к заполнению стоимостных
показателей для работ. Установим следующую стоимость наших работ для плановых
показателей: планирование строительства &#8209; 200
руб., закупка материалов &#8209; 100
руб., расчистка территории &#8209; 150
руб.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Зададим значения стоимости для дополнительных данных</span>
ИтогоСтоимость <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span>
Точка <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>УстановитьТочку<span class="operator">(</span><span class="string">"planingConstruction"</span><span class="operator">)</span><span class="operator">;</span>
Данные <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">.</span>Данные<span class="operator">;</span>
Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span> <span class="operator">=</span> <span class="number">200</span><span class="operator">;</span>
ИтогоСтоимость <span class="operator">=</span> ИтогоСтоимость <span class="operator">+</span> Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span><span class="operator">;</span>
Точка <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>УстановитьТочку<span class="operator">(</span><span class="string">"purchaseMaterials"</span><span class="operator">)</span><span class="operator">;</span>
Данные <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">.</span>Данные<span class="operator">;</span>
Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span> <span class="operator">=</span> <span class="number">100</span><span class="operator">;</span>
ИтогоСтоимость <span class="operator">=</span> ИтогоСтоимость <span class="operator">+</span> Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span><span class="operator">;</span>
Точка <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>УстановитьТочку<span class="operator">(</span><span class="string">"clearTerritory"</span><span class="operator">)</span><span class="operator">;</span>
Данные <span class="operator">=</span> ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>Точка<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">.</span>Данные<span class="operator">;</span>
Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span> <span class="operator">=</span> <span class="number">150</span><span class="operator">;</span>
ИтогоСтоимость <span class="operator">=</span> ИтогоСтоимость <span class="operator">+</span> Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span><span class="operator">;</span>
<span class="comment">// Заполним стоимость для "группирующего" элемента</span>
ДиаграммаГанта<span class="operator">.</span>ПолучитьЗначение<span class="operator">(</span>ТочкаСтроительствоОфиса<span class="operator">,</span> СерияПлан<span class="operator">)</span><span class="operator">.</span>Данные<span class="operator">[</span><span class="string">"Стоимость"</span><span class="operator">]</span> <span class="operator">=</span> ИтогоСтоимость<span class="operator">;</span></pre><p class="MsoNormal">В представленном выше примере стоит обратить
внимание на следующие моменты:</p>

<p class="MsoListBullet">&#9679; 
Для поиска точек используются значения, которые
указаны при создании точек (свойство <span class="Term">Значение</span>, подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref83711261">здесь</a>). Если при создании точек/серий были указаны уникальные (в
рамках диаграммы) значения свойства <span class="Term">Значение</span>, то методы <span class="Term">УстановитьТочку()</span>/<span class="Term">УстановитьСерию()</span> будут возвращать вам
требуемые объекты без дополнительных усилий.</p>

<p class="MsoListBullet">&#9679; 
Коллекция <span class="Term">Данные</span> (у значения диаграммы Ганта) содержит
в себе все добавленные колонки. К этим колонкам можно обращаться как
по имени (применяется в примере), так и по индексу. Если
выполняется попытка получить значение колонки, которой нет в коллекции, то
для такой колонки значением будет <span class="Term">Неопределено</span>.</p>

<p class="MsoListBullet">&#9679; 
Переменная <span class="Term">ИтогоСтоимость</span> и последняя строка примера
предназначены для того, чтобы актуализировать стоимость всех работ
по строительству офиса. Это значение состоит из суммы стоимостей
подчиненных работ. Если в диаграмме будет выполняться интерактивное
редактирование колонки <span class="Term">Стоимость</span>, то при необходимости разработчику
будет необходимо самому пересчитывать значения стоимости по иерархии.</p>

<p class="MsoNormal">Для
однозначной идентификации объектов типа <span class="Term">ЗначениеДиаграммыГанта</span> можно использовать
специальное свойство <span class="Term">Идентификатор</span>. После создания значения
диаграммы Ганта это свойство будет содержать значение типа <span class="Term">ИдентификаторЗначенияДиаграммыГанта</span>
и платформа заполнит его автоматически. Значение свойства <span class="Term">Идентификатор</span> можно использовать для прямого
поиска нужного значения с помощью метода <span class="Term">ДиаграммаГанта.НайтиЗначениеПоИдентификатору()</span>.</p>

<p class="MsoNormal">Также
стоит обратить внимание на то, что реквизит формы <span class="Term">ДиаграммаГанта</span> имеет две предопределенных
колонки реквизита: <span class="Term">Точка</span> и <span class="Term">Текст</span>. Эти колонки есть всегда, и их нельзя
удалить. Данные колонки, фактически, ссылаются на следующие данные:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Точка</span> &#8209; <span class="Term">ТочкаДиаграммыГанта.Текст</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Текст</span> &#8209; <span class="Term">ЗначениеДиаграммыГанта.Текст</span>.</p>

<p class="MsoNormal">Отображением
таблицы с данными можно управлять как интерактивно, так
и с помощью встроенного языка:</p>

<p class="MsoListBullet">&#9679; 
Интерактивно &#8209; с помощью свойства <span class="Interface">Положение таблицы</span>
элемента формы типа <span class="Interface">Поле формы</span> вида
<span class="Interface">Поле диаграммы Ганта</span>.
Значение <span class="Term">Авто</span> для данного свойства интерпретируется как
необходимость отображения таблицы данных слева от собственно диаграммы.</p>

<p class="MsoListBullet">&#9679; 
Из встроенного языка &#8209; с помощью свойства <span class="Term">ПолеФормы.ПоложениеТаблицы</span>.</p>

<p class="Regularbeforepicture">Таблица
данных хорошо подходит для ситуаций, когда требуется обеспечить какое-либо
интерактивное взаимодействие с диаграммой и, если у значений
диаграммы имеются какие-либо дополнительные данные. При этом у диаграммы
будет наблюдаться одна особенность: при наличии нескольких серий, таблица будет
содержать «одноименные» строки:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:684/408" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00305.gif" width="684" alt="" height="408"></p>

<p class="MsoCaption"><a name="_ref145577738">Рис. </a>307. Дубли строк
таблицы</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577738">рис.307</a> в диаграмме имеется две серии: <span class="Interface">План</span> &#8209; верхняя серия и <span class="Interface">Факт</span> &#8209; нижняя серия. В таблице видно, что в колонке <span class="Interface">Точка</span>
количество повторений названия точки совпадает с количеством серий
в диаграмме. Пример одной точки в разных сериях отмечен квадратными
скобками. Также видно, что значение стоимости задано только для значений,
серией которых является серия <span class="Interface">План</span>. Такое
отображение данных является особенностью отображения таблицы данных.</p>

<p class="Regularbeforepicture">Если
же требуется напечатать диаграмму Ганта аналогичным образом, то можно
воспользоваться свойством <span class="Interface">Положение таблицы</span>
(<span class="Term">ПоложениеТаблицы</span>) расширения поля формы для
диаграммы Ганта. Если установить в этой свойство значение <span class="Term">Нет</span>, то диаграмма примет следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:674/328" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00306.gif" width="674" alt="" height="328"></p>

<p class="MsoCaption"><a name="_ref145577798">Рис. </a>308. Печатное
представление таблицы</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577798">рис.308</a> наглядно показано, что представление точки объединяет
все серии (можно сравнить с <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577738">рис.307</a>). Данные отображаются, по-прежнему, в привязке
к «своим» сериям. Однако, такое представление диаграммы полностью
исключает какое-либо интерактивное взаимодействие с таблицей данных
диаграммы, т. к. этой таблицы не будет на форме. Возможно, стоит
автоматически преобразовывать диаграмму перед печатью в более удобное
представление.</p>

<p class="MsoNormal">Таблица
с дополнительными данными диаграммы Ганта представляет из себя,
фактически, обычную таблицу формы, которая имеет несколько особенностей
в поведении:</p>

<p class="MsoListBullet">&#9679; 
Таблица всегда отображается внутри области
построения диаграммы Ганта. Управление отображением таблицы выполняется
с помощью свойства <span class="Interface">Положение таблицы</span>
(<span class="Term">ПоложениеТаблицы</span>) элемента формы <span class="Interface">Поле диаграммы Ганта</span>
(<span class="Term">ПолеФормы.ПоложениеТаблицы</span>).</p>

<p class="MsoListBullet">&#9679; 
Результирующая высота строки вычисляется как
максимум из высоты строки диаграммы Ганта и высоты строки таблицы.</p>

<p class="MsoListBullet">&#9679; 
Высота области шапки таблицы и высота шкалы
времени диаграммы Ганта вычисляется как максимум из оригинальных высот.</p>

<p class="MsoListBullet">&#9679; 
Высота области подвала таблицы и высота шкалы
времени диаграммы Ганта вычисляется как максимум из оригинальных высот.</p>

<p class="MsoListBullet">&#9679; 
Раскрытие/сворачивание строки таблицы
раскрывает/сворачивает точку диаграммы Ганта.</p>

<p class="MsoListBullet">&#9679; 
Раскрытие/сворачивание серии диаграммы Ганта
добавляет/удаляет строки, соответствующие подчинённым сериям.</p>

<p class="MsoListBullet">&#9679; 
Вертикальная прокрутка таблицы и диаграммы
работает синхронно: прокручивается и таблица, и собственно диаграмма.</p>

<p class="MsoListBullet">&#9679; 
Горизонтальная прокрутка для таблицы
и диаграммы выполняется раздельно.</p>

<p class="MsoListBullet">&#9679; 
Между таблицей и диаграммой автоматически
формируется разделитель, позволяющий изменять соотношение видимой части таблицы
и диаграммы в рамках общей области отображения. Разделитель
формируется только в том случае, если таблица с данными отображается
на форме.</p>

<p class="MsoListBullet">&#9679; 
Управление текущей строкой и режимом
выделения таблицы данных связано с текущим значением/интервалом диаграммы
Ганта. Более подробное описание связи см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref115708236">здесь</a>.</p>

<a id="TI000001699" class="bookmark" name="issogl4_7.3.4.4.8_обработка_событий"><h5>7.3.4.4.8. Обработка событий</h5></a>

<p class="MsoNormal">Обработчик
события <span class="Term">ПриАктивизацииЗначения</span> вызывается системой
в тот момент, когда пользователь выбирает в диаграмме Ганта некоторое
значение. Событие срабатывает не только при выборе конкретного интервала, но
и при выборе любого места диаграммы Ганта. Также событие вызывается
в том случае, когда активная таблица данных и пользователь выбирает
строку этой таблицы. В обработчике этого события есть возможность узнать, для
какого значения вызвано событие. Для этого следует использовать свойство <span class="Term">ТекущееЗначение</span> элемента формы. Следует
помнить, что с данном свойстве лежит идентификатор текущего значения. Для
поиска собственно значения нужно применить метод <span class="Term">НайтиЗначениеПоИдентификатору()</span>. Выбранное значение
также будет доступно через массив <span class="Term">ВыбранныеЗначения</span> расширения поля ввода для
диаграммы Ганта. В этом же массиве будут находиться все выделенные значения
диаграммы, если разрешено множественное выделение значений диаграммы Ганта.</p>

<p class="MsoNormal">Обработчик
события <span class="Term">ПриАктивизацииИнтервала</span> вызывается системой
в тот момент, когда пользователь выбирает в диаграмме Ганта некоторый
интервал. Обработчик события вызывается после обработчика события <span class="Term">ПриАктивизацииЗначения</span>. Выбранный интервал
доступен с помощью свойства <span class="Term">ТекущийИнтервал</span> расширения поля формы для
диаграммы Ганта. Т. к. данное свойство содержит идентификатор интервала,
то для получения собственно интервала необходимо использовать метод <span class="Term">НайтиИнтервалПоИдентификатору()</span> диаграммы
Ганта. Выбранный интервал также будет доступен через массив <span class="Term">ВыбранныеИнтервалы</span> расширения поля ввода для
диаграммы Ганта. В этом же массиве будут находиться все выделенные интервалы
диаграммы, если разрешено множественное выделение интервалов диаграммы Ганта.</p>

<p class="MsoNormal">Интерактивное
изменение интервалов диаграммы Ганта приводит к появлению события <span class="Term">ПриОкончанииРедактированияИнтервала</span>. В
обработчике события доступны свойства измененного интервала.</p>

<p class="MsoNormal">Например,
в обработчике события можно реализовать проверку на выход интервала <span class="Interface">Расчистка территории</span>
за полный интервал диаграммы и отказ от редактирования, если
продолжительность фактических данных вышла за полный интервал:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ДиаграммаГантаПриОкончанииРедактированияИнтервала<span class="operator">(</span>Элемент<span class="operator">,</span> Интервал<span class="operator">,</span> ОтменаРедактирования<span class="operator">)</span>
    <span class="keyword">Если</span> Интервал<span class="operator">.</span><span class="keyword">Конец</span> <span class="operator">&gt;</span> ДиаграммаГанта<span class="operator">.</span>КонецПолногоИнтервала <span class="keyword">Тогда</span>
        ОтменаРедактирования <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Когда диаграмма содержит иерархические данные
(когда одни значения подчинены другим), то операции по интерактивному сворачиванию
или разворачиванию узла иерархии могут потребовать выполнения каких-либо
вспомогательных действий, например, прочитать связанные данные. Для того, чтобы
обрабатываться события разворачивания и сворачивания предназначены
обработчики событий <span class="Term">ПередРазворачиванием</span>
и <span class="Term">ПередСворачиванием</span>
расширения поля форм для диаграммы Ганта. Каждое из этих событий получает
идентификатор значения точка или серия которого будет развернута или свернута.</p>

<a name="_ref437342813"></a><a id="TI000001700" class="bookmark" name="issogl3_7.3.4.5_дендрограмма"><h4>7.3.4.5. Дендрограмма</h4></a>

<p class="Regularbeforepicture">Дендрограмма
представляет собой графический способ отображения степени сходства объектов.
Поле дендрограммы содержит область построения и область заголовка. По
умолчанию в области построения на горизонтальной оси перечислены
сравниваемые объекты, по вертикали отмечена величина отличия между
объектами.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:498/229" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00307.gif" width="498" alt="" height="229"></p>

<p class="MsoCaption">Рис.
309. Дендрограмма</p>

<p class="MsoNormal">Разница
в значениях элементов показана расположением соединительной линии.</p>

<p class="Regularbeforepicture">В
качестве примера представим на дендрограмме различия в цене двух
товаров: яблоки &#8209; 10 рублей, груши &#8209; 12 рублей.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:511/233" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00308.gif" width="511" alt="" height="233"></p>

<p class="MsoCaption">Рис.
310. 2 объекта</p>

<p class="MsoNormal">Данная
дендрограмма из встроенного языка может быть сформирована следующим
образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Яблоки <span class="operator">=</span> Дендрограмма<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Яблоки<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Яблоки (10 руб.)"</span><span class="operator">;</span>
Груши <span class="operator">=</span> Дендрограмма<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Груши<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Груши (12 руб.)"</span><span class="operator">;</span>
Связь <span class="operator">=</span> Дендрограмма<span class="operator">.</span>Связи<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Связь<span class="operator">.</span>ПервыйЭлемент <span class="operator">=</span> Яблоки<span class="operator">;</span>
Связь<span class="operator">.</span>ВторойЭлемент <span class="operator">=</span> Груши<span class="operator">;</span>
Связь<span class="operator">.</span>Расстояние <span class="operator">=</span> <span class="number">2</span><span class="operator">;</span></pre><p class="MsoNormal">Коллекция
<span class="Term">Элементы</span>
дендрограммы содержит перечень объектов, в нашем случае &#8209; товаров. Связи между объектами задаются
в коллекции <span class="Term">Связи</span>.</p>

<p class="MsoNormal">Теперь
добавим к сравнению третий товар: <span class="Interface">Апельсины</span>,
стоимостью 20 рублей. Для этого должен быть создан еще один элемент
дендрограммы и установлена еще одна связь:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Апельсины <span class="operator">=</span> Дендрограмма<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Апельсины<span class="operator">.</span>Текст <span class="operator">=</span> <span class="string">"Апельсины (20 руб)"</span><span class="operator">;</span>
Связь <span class="operator">=</span> Дендрограмма<span class="operator">.</span>Связи<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Связь<span class="operator">.</span>ПервыйЭлемент <span class="operator">=</span> Яблоки<span class="operator">;</span>
Связь<span class="operator">.</span>ВторойЭлемент <span class="operator">=</span> Апельсины<span class="operator">;</span>
Связь<span class="operator">.</span>Расстояние <span class="operator">=</span> <span class="number">8</span><span class="operator">;</span></pre><p class="Regularbeforepicture">Дендрограмма
будет иметь следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:511/233" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00309.gif" width="511" alt="" height="233"></p>

<p class="MsoCaption">Рис.
311. 3 объекта</p>

<p class="Regularbeforepicture">Следует
отметить, что расположение связей соответствует порядку их добавления.
Добавление первой связи привело к объединению в группу элементов <span class="Interface">Яблоки</span> и <span class="Interface">Груши</span>. При
создании второй связи автоматически учтено наличие связи, созданной ранее,
поэтому вторая линия связывает элемент <span class="Interface">Апельсины</span>
с элементом, который образован связью элементов <span class="Interface">Яблоки</span> и <span class="Interface">Груши</span>:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:511/233" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00310.gif" width="511" alt="" height="233"></p>

<p class="MsoCaption">Рис.
312. Объединение элементов</p>

<p class="MsoNormal">Настройка
областей дендрограммы может быть выполнена с помощью свойств <span class="Term">ОбластьЗаголовка</span> и <span class="Term">ОбластьПостроения</span>. Например, может быть
изменен формат шкалы значений:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Дендрограмма<span class="operator">.</span>ОбластьПостроения<span class="operator">.</span>ФорматШкалыЗначений <span class="operator">=</span> <span class="string">"ЧДЦ=2;"</span><span class="operator">;</span></pre>

<p class="Regularbeforepicture">Дендрограмма
примет следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:511/233" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00311.gif" width="511" alt="" height="233"></p>

<p class="MsoCaption">Рис.
313. Формат шкалы значений</p>

<p class="MsoNormal">Режим
автоматической настройки масштаба дендрограммы при изменении размеров формы
определяется свойством <span class="Term">ПоддержкаМасштаба</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ВсеЭлементы</span> &#8209; все элементы отображаются в поле дендрограммы
независимо от размеров формы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">КоличествоЭлементов</span> &#8209; в видимой части дендрограммы отображается то
количество элементов, которое задано в свойстве <span class="Term">КоличествоЭлементовШкалы</span>. Остальные элементы
доступны при использовании полосы прокрутки.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">МинимальнаяШирина</span> &#8209; при уменьшении размеров формы размеры элементов
могут уменьшиться до ширины, заданной в свойстве <span class="Term">МинимальнаяШиринаЭлемента</span>. Если в видимой
части недостаточно места для отображения всех элементов, используется полоса
прокрутки.</p>

<a name="_ref503517526"></a><a name="_ref425411623"></a><a name="_toc420398509"></a><a name="_toc164776102"></a><a id="TI000000399" class="bookmark" name="issogl1_7.4_параметры_формы"><h2>7.4. Параметры формы</h2></a>

<a name="_ref3463552"></a><a name="_ref3463551"></a><a name="_toc164776103"></a><a id="TI000001655" class="bookmark" name="issogl2_7.4.1_общая_информация"><h3>7.4.1. Общая информация</h3></a>

<p class="MsoNormal">Параметры формы
(закладка <span class="Interface">Параметры</span>) служат двум целям:</p>

<p class="MsoListBullet">&#9679; 
Описать набор данных, которые будут влиять
на открытие формы (параметризация формы). Для этого нужно перечислить все
необходимые параметры и указать их типы.</p>

<p class="MsoListBullet">&#9679; 
Определить параметры, которые будут влиять
на ключ уникальности формы. Для этого необходимо установить свойство <span class="Interface">Ключевой параметр</span>
у тех параметров, которые должны участвовать в формировании ключа
уникальности формы. При попытке открыть форму система производит поиск
существующей формы с помощью сформированного ключа уникальности формы.
Если в системе существует форма с полученным ключом уникальности,
возвращается именно эта форма; если нет &#8209; создается новая
форма.</p>

<p class="MsoNormal">При вызове
формы значения параметров, созданных разработчиком, можно указывать в структуре
параметров наряду с системными параметрами форм (если таковые имеются).</p>

<p class="MsoNormal">Параметры
формы можно передать в форму в момент ее создания. Анализ переданных
параметров можно выполнить в событии <span class="Term">ПриСозданииНаСервере()</span>
(коллекция <span class="Term">Параметры</span> является
свойством объекта <span class="Term">ФормаКлиентскогоПриложения</span>):</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// В месте вызова.</span>
<span class="comment">// Формируем параметр формы.</span>
Параметры <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Параметры<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"Важность"</span><span class="operator">,</span> ПредопределенноеЗначение<span class="operator">(</span><span class="string">"Перечисление.Важность.Важно"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Открываем форму с указанием параметров.</span>
ОткрытьФорму<span class="operator">(</span><span class="string">"ОбщаяФорма.ФормаПросмотра"</span><span class="operator">,</span> Параметры<span class="operator">)</span><span class="operator">;</span>
…
<span class="comment">// В модуле формы.</span>
<span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриСозданииНаСервере<span class="operator">(</span>Отказ<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
 <span class="keyword">Если</span> Параметры<span class="operator">.</span>Важность <span class="operator">=</span> Перечисления<span class="operator">.</span>Важность<span class="operator">.</span>Важно <span class="keyword">Тогда</span>
 …
 <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> После вызова обработчика события <span class="Term">ПриСозданииНаСервере</span> все неключевые параметры
формы удаляются из коллекции <span class="Term">Параметры</span>.<br><br><span class="Note">Совет.</span> Неключевые параметры формы, необходимые для
дальнейшей работы, нужно сохранять в данных формы.</p>

</div>

<p class="MsoNormal">При работе
с параметрами формы следует понимать, что поведение параметров можно
считать эквивалентным поведению системы в случае, если явным образом не
указано (пропущено) значение параметра при вызове метода встроенного языка. В
этом случае значение параметра будет установлено в значение <span class="Term">Неопределено</span> (или значение по умолчанию).
Параметры формы ведут себя подобным образом: если параметр указан при открытии
формы на стороне клиентского приложения, значит, в структуре параметров
формы этот параметр будет присутствовать с установленным значением. Если
параметр не указан при открытии формы, то платформа автоматически добавит
параметр в структуру параметров, но значением данного параметра будет <span class="Term">Неопределено</span>. Что равноценно пропуску
параметра при вызове метода. Вышеописанное поведение одинаково и для параметров
формы, созданных разработчиком, и для стандартных параметров формы.</p>

<a name="_toc420398510"></a><a name="_toc298859897"></a><a name="_toc237692844"></a><a name="_toc164776104"></a><a id="TI000000400" class="bookmark" name="issogl2_7.4.2_стандартные_параметры_формы"><h3>7.4.2. Стандартные параметры формы</h3></a>

<p class="MsoNormal">Для того
чтобы поддерживать автоматическое взаимодействие между формами, система
предоставляет ряд стандартных параметров, которые используются для управления
формами при их открытии. С помощью этих параметров системой реализуется
в полях форм выбор из форм выбора, открытие форм объектов, работа
стандартных команд и т. д. То есть они обеспечивают различные заложенные
в систему сценарии работы интерфейса. Но разработчик также может
использовать эти параметры во встроенном языке, передавая их при вызове метода <span class="Term">ОткрытьФорму()</span>.</p>

<p class="MsoNormal">Перечень
стандартных параметров форм в зависимости от вида расширения формы
можно посмотреть в разделах <span class="Interface">Встроенный язык</span><span class="Interface"> &#8209; Интерфейс
(управляемый)</span><span class="Interface"> &#8209; Управляемая
форма</span><span class="Interface"> &#8209; Расширение…</span>
встроенной справки.</p>

<a name="_toc420398511"></a><a name="_toc298859898"></a><a name="_toc237692845"></a><a name="_toc164776105"></a><a id="TI000000401" class="bookmark" name="issogl2_7.4.3_пример_работы_с_параметрами_формы"><h3>7.4.3. Пример работы с параметрами формы</h3></a>

<p class="MsoNormal">Для
демонстрации работы параметров формы рассмотрим реализацию выбора элемента
в поле ввода. Сутью примера будет реализация механизма выбора элемента
из списка на встроенном языке.</p>

<p class="MsoNormal">К моменту
начала работы с примером нужно иметь конфигурацию, обладающую следующими
свойствами:</p>

<p class="MsoListBullet">&#9679; 
имеется справочник <span class="Term">Товары</span> с иерархией групп
и элементов;</p>

<p class="MsoListBullet">&#9679; 
имеется справочник <span class="Term">Аналоги</span> с реквизитом <span class="Term">ВыбранныйТовар</span> типа <span class="Term">СправочникСсылка.Товары</span>;</p>

<p class="MsoListBullet">&#9679; 
оба справочника имеют формы элементов.</p>

<p class="MsoNormal">Теперь реализуем
в этой конфигурации все механизмы, которые использует платформа для выбора
элемента из списка, на встроенном языке. При этом мы увидим:</p>

<p class="MsoListBullet">&#9679; 
как происходит использование стандартных
параметров формы;</p>

<p class="MsoListBullet">&#9679; 
каким образом их использует сама система;</p>

<p class="MsoListBullet">&#9679; 
как их может использовать разработчик.</p>

<p class="MsoNormal">Добавим
дополнительный параметр, который будет управлять закрытием формы выбора после
выбора элемента. Назовем этот параметр <span class="Term">ЗакрыватьПослеВыбора</span>
(тип <span class="Term">Булево</span>). Добавим
его в качестве параметра формы <span class="Term">ФормаВыбора</span>
справочника <span class="Term">Товары</span>.</p>

<p class="MsoNormal">Для того
чтобы открыть форму выбора элемента, необходимо в форме элемента
справочника <span class="Term">Аналоги</span> создать
обработчик события <span class="Term">НачалоВыбора</span>
у элемента формы <span class="Term">ВыбранныйТовар</span>.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ВыбранныйТоварНачалоВыбора<span class="operator">(</span>Элемент<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    СтруктураПараметров <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">;</span>
    СтруктураПараметров<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"РежимВыбора"</span><span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">)</span><span class="operator">;</span>
    СтруктураПараметров<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ВыборГруппИЭлементов"</span><span class="operator">,</span> ИспользованиеГруппИЭлементов<span class="operator">.</span>Элементы<span class="operator">)</span><span class="operator">;</span>
    СтруктураПараметров<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"РазрешитьВыборКорня"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">;</span>
    СтруктураПараметров<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ТекущаяСтрока"</span><span class="operator">,</span> Объект<span class="operator">.</span>ВыбранныйТовар<span class="operator">)</span><span class="operator">;</span>
    СтруктураПараметров<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ЗакрыватьПослеВыбора"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">;</span>
    ОткрытьФорму<span class="operator">(</span><span class="string">"Справочник.Товары.ФормаВыбора"</span><span class="operator">,</span> СтруктураПараметров<span class="operator">,</span> Элементы<span class="operator">.</span>ВыбранныйТовар<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Следует отдельно
остановиться на третьем параметре метода <span class="Term">ОткрытьФорму()</span>.
Этот параметр определяет, кто будет владельцем формы выбора и кому будет
приходить оповещение о сделанном выборе. В данном случае мы указали
владельцем формы выбора сам элемент формы, но также мы можем указать этим
параметром и саму форму. В этом случае будет необходимо реализовывать
обработчик <span class="Term">ОбработкаВыбора</span>
модуля формы и в нем решать, в какой реквизит формы помещать
выбранные данные.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Если мы не будем реализовывать обработчик события <span class="Term">НачалоВыбора</span>, то его действия выполнит сама
система. Это справедливо и для всех дальнейших обработчиков, которые
использованы в примере.</p>

</div>

<p class="MsoNormal">Теперь необходимо
обработать переданные параметры в форме выбора. Сделаем это
в обработчике <span class="Term">ПриСозданииНаСервере()</span>
модуля формы выбора.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриСозданииНаСервере<span class="operator">(</span>Отказ<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    Элементы<span class="operator">.</span>Список<span class="operator">.</span>ВыборГруппИЭлементов <span class="operator">=</span> Параметры<span class="operator">.</span>ВыборГруппИЭлементов<span class="operator">;</span>
    Элементы<span class="operator">.</span>Список<span class="operator">.</span>РазрешитьВыборКорня <span class="operator">=</span> Параметры<span class="operator">.</span>РазрешитьВыборКорня<span class="operator">;</span>
    Элементы<span class="operator">.</span>Список<span class="operator">.</span>ТекущаяСтрока <span class="operator">=</span> Параметры<span class="operator">.</span>ТекущаяСтрока<span class="operator">;</span>
    ЗакрыватьПриВыборе <span class="operator">=</span> Параметры<span class="operator">.</span>ЗакрыватьПослеВыбора<span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Для того чтобы
проверить работоспособность установленных нами параметров формы, установим,
с помощью конфигуратора, у таблицы формы выбора <span class="Term">Список</span> свойство <span class="Term">ВыборГруппИЭлементов</span>
в значение <span class="Term">Группы</span>
(без применения параметра не будет доступен выбор элементов справочника).</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Если у таблицы <span class="Term">Список</span>,
отображающей список товаров, свойство <span class="Term">РежимВыбора</span>
не будет установлено в значение <span class="Term">Истина</span>,
то выбор товаров будет недоступен.</p>

</div>

<p class="MsoNormal">Теперь нам
необходимо обработать выбор желаемого элемента в форме выбора. Для этого
нужно определить обработчик события <span class="Term">ВыборЗначения</span>
таблицы формы.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> СписокВыборЗначения<span class="operator">(</span>Элемент<span class="operator">,</span> СтандартнаяОбработка<span class="operator">,</span> Значение<span class="operator">)</span>
    СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    ОповеститьОВыборе<span class="operator">(</span>Значение<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Нам осталось
реализовать обработку выбора элемента в самом поле ввода. Для этого
необходимо обработать событие <span class="Term">ОбработкаВыбора</span>
нашего поля ввода <span class="Term">ВыбранныйТовар</span>.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ВыбранныйТоварОбработкаВыбора<span class="operator">(</span>Элемент<span class="operator">,</span> ВыбранноеЗначение<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    Объект<span class="operator">.</span>ВыбранныйТовар <span class="operator">=</span> ВыбранноеЗначение<span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Мы самостоятельно
реализовали системный механизм выбора значения в поле ввода на форме.</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
Данный пример не является законченным. Его единственным назначением является
демонстрация механизмов работы с параметрами формы.</p>

</div>

<p class="MsoNormal">Если при создании
параметров (обработчик <span class="Term">ВыбранныйТоварНачалоВыбора()</span>)
заменить строку:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">    ПараметрыВыбора<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ЗакрыватьПослеВыбора"</span><span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">)</span><span class="operator">;</span></pre>

<p class="MsoNormal">на строку:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">    ПараметрыВыбора<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ЗакрыватьПослеВыбора"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">;</span></pre>

<p class="MsoNormal">то форма выбора
перестанет закрываться после того, как будет осуществлен выбор. Это можно
использовать, например, для реализации формы подбора (выбор нескольких товаров
без закрытия формы выбора).</p>

<a name="_toc420398512"></a><a name="_ref391303985"></a><a name="_ref391303984"></a><a name="_toc298859899"></a><a name="_toc237692846"></a><a name="_ref217219499"></a><a name="_toc164776106"></a><a id="TI000000402" class="bookmark" name="issogl1_7.5_команды_формы"><h2>7.5. Команды формы</h2></a>

<a name="_ref423704668"></a><a name="_ref423704667"></a><a name="_toc420398513"></a><a name="_toc164776107"></a><a id="TI000001469" class="bookmark" name="issogl2_7.5.1_общая_информация"><h3>7.5.1. Общая информация</h3></a>

<p class="MsoNormal">Действия
в форме выполняются с помощью команд формы. Сами команды служат лишь
описанием выполняемых действий. Для того чтобы команда стала выполнять свою
функцию, она должна быть привязана к элементу формы (типа <span class="Term">Кнопка</span>). Можно выделить несколько групп команд,
которые присутствуют в форме:</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Команды, создаваемые
разработчиком</span> в процессе проектирования формы. Для них необходимо
создавать обработчик непосредственно в модуле формы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Стандартные команды</span>,
которые предоставляются расширением основного реквизита формы
и расширениями реквизитов, которые являются списками (например, табличная
часть объекта, динамический список, набор записей регистра сведений
и т. д.), если с этим реквизитом есть связанный элемент формы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Глобальные команды</span> &#8209; команды, предоставленные глобальным командным
интерфейсом (подробнее про командный интерфейс см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%202.%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B5%D0%B9.htm_?anchor=_ref215985627" target="_top">здесь</a>). Такие команды могут быть непараметризованными
и параметризованными. Параметризованные глобальные команды будут
предоставлены форме только в том случае, если на форме есть источники
параметров с соответствующими типами.</p>

<p class="MsoNormal">Доступность
стандартных команд формы и элементов формы определяется свойством <span class="Interface">Состав команд</span>
соответствующего элемента формы.</p>

<p class="MsoNormal">Команды,
которые предоставляет глобальный командный интерфейс (закладка <span class="Interface">Глобальные команды</span>),
могут быть размещены в любом месте формы, точно так же, как и команды
формы.</p>

<p class="MsoNormal">В
свойстве <span class="Interface">Действие</span>
указывается обработчик, который реализует действие, выполняемое командой. Если
обработчик не задан, то команда будет недоступна для использования. К выбору
в этом поле доступны только процедуры и функции без параметров,
которые являются клиентскими (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref216510534">здесь</a>).</p>

<p class="MsoNormal">Если
команда изменяет данные формы, то следует указать на это установкой
свойства <span class="Interface">Изменяет
сохраняемые данные</span>. Тогда при попытке выполнения команды будут
выполняться следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Попытка выполнить блокировку основного реквизита
формы. Если попытка закончится неудачей &#8209; команда не
будет выполнена.</p>

<p class="MsoListBullet">&#9679; 
Установлен признака изменения у формы (флаг
<span class="Term">Модифицированность</span>).</p>

<p class="MsoNormal">Если для
команды установлено свойство <span class="Interface">Изменяет сохраняемые данные</span> и форма находится
в режиме <span class="Interface">Только просмотр</span>, то все элементы формы, связанные
с этой командой, также будут находиться в состоянии <span class="Interface">Только просмотр</span>.</p>

<p class="MsoNormal">Кроме того,
исполнение параметризованной глобальной команды, для которой параметр
предоставляется реквизитом с установленным свойством <span class="Interface">Сохраняемые данные</span>,
для нового и несохраненного объекта приведет к попытке записать
объект. При этом пользователю будет задан вопрос о необходимости записи.
Если ответ будет отрицательный &#8209; команда не
будет выполнена.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
При автоматическом заполнении командных панелей и контекстных меню, для
которых указан источник команд, стандартные команды не добавляются, если
в данном элементе есть кнопки, добавленные вручную с такими же
командами. Данная логика не распространяется на команды, добавляемые
из фрагмента глобального командного интерфейса.</p>

</div>

<p class="MsoNormal">Для упрощения
разработки различных диалогов в стандартные команды формы добавлены
команды <span class="Interface">Да</span>,
<span class="Interface">Нет</span>,
<span class="Interface">ОК</span>,
<span class="Interface">Отмена</span>,
<span class="Interface">Повторить</span>,
<span class="Interface">Прервать</span>,
<span class="Interface">Игнорировать</span>.
Если такая команда добавлена в форму, то при нажатии пользователем этой
кнопки будут выполнены следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Для формы, открытой в модальном режиме,
выполняется закрытие формы и возвращается соответствующее значение типа <span class="Term">КодВозвратаДиалога</span>.</p>

<p class="MsoListBullet">&#9679; 
Для формы, открытой в немодальном режиме,
выполняется только закрытие формы.</p>

<p class="MsoNormal">При
формировании имени обработчика выполнения команды будет использоваться свойство
команды <span class="Interface">Имя</span>.</p>

<p class="MsoNormal">Стандартная
команда формы <span class="Interface">Справка</span> служит для открытия справочной информации
по форме/объекту конфигурации. Расположение этой кнопки на командной
панели формы определяется свойством <span class="Term">ТолькоВоВсехДействиях</span>
этой кнопки. Если данное свойство установлено в значение <span class="Term">Авто</span> (и для командной панели
с автоматическим заполнением), то фактическое расположение будет
следующим:</p>

<p class="MsoListBullet">&#9679; 
Интерфейс <span class="Interface">Такси</span> &#8209; если
у формы или родительского объекта конфигурации имеется справочная
информация, то кнопка будет располагаться на командной панели. В противном
случае кнопка будет располагаться только в меню <span class="Interface">Еще</span>.</p>

<p class="MsoListBullet">&#9679; 
Другие интерфейсы &#8209; кнопка
всегда располагается на командной панели формы.</p>

<p class="MsoNormal"><span class="Interface">Использование</span> &#8209; подробнее
см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2035.%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8.htm_?anchor=_ref200447246" target="_top">здесь</a>.</p>

<p class="MsoNormal"><span class="Interface">Функциональные опции</span> &#8209; определяет,
с какими функциональными опциями связан данный реквизит формы. Подробнее
про функциональные опции см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref213664543" target="_top">здесь</a>.</p>

<a name="_toc420398514"></a><a name="_ref391304041"></a><span class="Hidden"></span><span class="Hidden"></span><a name="_toc164776108"></a><a id="TI000001470" class="bookmark" name="issogl2_7.5.2_особенности_применения_различных_команд"><h3>7.5.2. Особенности применения различных команд</h3></a>

<p class="MsoNormal">Для
расширений управляемой формы для объекта, справочника, документа, плана видов
характеристик, бизнес-процесса, задачи и записи регистра сведений
существует стандартная команда <span class="Interface">Показать в списке</span>, которая предназначена для
отображения формы списка соответствующего объекта с позиционированием
открываемого списка на объекте, из которого выполняется команда. В
интерфейсе команда будет недоступна, если ключевой реквизит формы равен пустой
ссылке (или пустому ключу записи), т. е. редактируется новый объект.</p>

<p class="MsoNormal">Если
команда используется в форме документа, то для такой команды доступно
свойство <span class="Term">Параметр</span>,
в котором можно выбрать форму, которая будет использоваться для
отображения списка. Для выбора доступен собственно документ и все журналы,
в состав которых входит используемый документ. Кнопка, связанная
с командой <span class="Term">ПоказатьВСписке</span>,
отображается на форме вне зависимости от заполненности свойства <span class="Term">Параметр</span>. Если значение свойства <span class="Term">Параметр</span> задано, то в качестве заголовка
по умолчанию у кнопки, связанной с командой <span class="Term">ПоказатьВСписке</span>, используется представление
списка соответствующего объекта конфигурации (документа или журнала).</p>

<p class="MsoNormal">При
автоматическом заполнении командной панели формы документа анализируются
журналы, в которые входит документ, при этом на эти журналы текущий
пользователь должен иметь право <span class="Term">Просмотр</span>
(см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%206.%20%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%B0%D0%B2%20%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0.htm_?anchor=_ref391302583" target="_top">здесь</a>) и они (журналы) должны быть включены функциональным
опциям (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref418598738" target="_top">здесь</a>). Если есть хотя бы один такой журнал, то в командной
панели вместо кнопки <span class="Interface">Показать в списке</span> размещается группа кнопок
с заголовком <span class="Interface">Показать в списке</span>. Подменю содержит:</p>

<p class="MsoListBullet">&#9679; 
Команду <span class="Term">ПоказатьВСписке</span>,
для которой свойство <span class="Term">Параметр</span>
заполняется ссылкой на документ, в форме которого формируется
командная панель;</p>

<p class="MsoListBullet">&#9679; 
Команды <span class="Term">ПоказатьВСписке</span>
(по одной на каждый подходящий журнал), для которых свойство <span class="Term">Параметр</span> заполняется ссылкой
на соответствующий журнал документов.</p>

<p class="MsoNormal">Если нет
доступных журналов, то в командной панели размещается команда <span class="Term">ПоказатьВСписке</span>, у кнопки которой
свойство <span class="Term">Параметр</span> не
задано.</p>

<p class="MsoNormal">Для
отображения используется основная форма списка (с учетом возможности
переопределения, подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref391302200">здесь</a>) соответствующего объекта конфигурации.</p>

<p class="MsoNormal">Если
необходимо обеспечить функциональность команды <span class="Term">ПоказатьВСписке</span>
в рамках реализации какого-то другого алгоритма, то для этого следует использовать
метод <span class="Term">ВыполнитьПереход()</span>,
существующий для объекта <span class="Term">ФормаКлиентскогоПриложения</span>.</p>

<p class="MsoNormal">Пример
реализации:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Форма <span class="operator">=</span> ОткрытьФорму<span class="operator">(</span><span class="string">"Справочник.Контрагенты.ФормаСписка"</span><span class="operator">)</span><span class="operator">;</span>
Форма<span class="operator">.</span>ВыполнитьПереход<span class="operator">(</span>Объект<span class="operator">.</span>Ссылка<span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Если необходимо
каким-то образом обработать открытие формы с позиционированием
на нужном объекте, то это можно сделать с помощью обработчика события
<span class="Term">ОбработкаПерехода</span>
(событие вызывается для управляемой формы). Если после исполнения обработчик
события <span class="Term">ОбработкаПерехода</span>
требуется выполнить стандартные действия (значение параметра <span class="Term">СтандартнаяОбработка</span> равна значению <span class="Term">Истина</span>), то у первой таблицы управляемой
формы, связанной с основным реквизитом формы типа <span class="Term">ДинамическийСписок</span> (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref391306060">здесь</a>) текущая строка устанавливается в значение, переданное
в качестве параметра <span class="Term">Объект</span>
обработчика события. Если основным реквизитом открываемой формы выступает не
динамический список &#8209; никаких
действий выполнено не будет.</p>

<a name="_toc420398515"></a><a name="_toc298859900"></a><a name="_toc237692847"></a><a name="_ref216510534"></a><a name="_toc164776109"></a><a id="TI000000403" class="bookmark" name="issogl1_7.6_модуль_формы"><h2>7.6. Модуль формы</h2></a>

<p class="MsoNormal">Модуль
формы состоит из набора процедур и функций. Допускаются переменные
и тело модуля.</p>

<p class="MsoNormal">Каждая
процедура, функция или объявление переменной модуля формы должны предваряться
одной из следующих директив компиляции:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НаКлиенте</span> &#8209; означает,
что метод выполняется на стороне клиента, а переменная существует все
время жизни клиентской части формы.</p>

<p class="Indentlist">Из клиентского
метода допустимыми являются вызовы любых методов.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НаСервере</span> &#8209; означает,
что метод выполняется на стороне сервера, а переменная существует
только во время вызова выполнения серверного вызова.</p>

<p class="Indentlist">Для серверных
методов допустимыми являются вызовы серверных, серверных внеконтекстных
и клиент-серверных внеконтекстных методов.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НаСервереБезКонтекста</span> &#8209; означает, что метод исполняется на сервере вне
контекста формы. Переменные не могут предваряться такой директивой компиляции.</p>

<p class="Indentlist">В таких
методах недоступен контекст формы. При вызове этих методов не выполняется
передача данных формы на сервер и обратно. Применение внеконтекстных
методов позволяет существенно уменьшить объем передаваемых данных при вызове
серверной процедуры из среды клиентского приложения.</p>

<p class="Indentlist">Из
серверных внеконтекстных методов формы допускается вызов серверных методов
общих модулей.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НаКлиентеНаСервереБезКонтекста</span> &#8209; означает, что метод исполняется как
на клиенте, так и на сервере, вне контекста формы. Переменные не
могут предваряться такой директивой компиляции.</p>

<p class="Indentlist">Также
такой метод не имеет доступа к переменным модуля формы.</p>

<p class="Indentlist">Из
клиент-серверного внеконтекстного метода можно вызывать методы неглобальных
серверных общих модулей, а также методы неглобальных общих модулей
с флажками <span class="Interface">Сервер</span> и <span class="Interface">Клиент (управляемое приложение)</span>.</p>

<p class="MsoNormal">Отсутствие
директивы компиляции перед процедурой означает использование директивы
по умолчанию. Директивой по умолчанию является <span class="Term">НаСервере</span>.</p>

<p class="MsoNormal">При
передаче управления с клиента на сервер с помощью <span class="Bold">контекстного вызова</span> нужно учитывать следующую особенность:
перед началом вызова данные формы передаются на сторону сервера, затем
происходит выполнение серверного вызова, и потом данные формы передаются
обратно на клиента. Это может занимать достаточно существенное время. В то
же время <span class="Bold">внеконтекстный серверный вызов</span> не выполняет
таких преобразований, поэтому выполняется быстрее.</p>

<p class="MsoNormal">Не
рекомендуется сохранять ссылки на реквизиты формы в переменных модуля
(и других доступных хранилищах) на время операций, которые могут привести
к пересозданию реквизитов формы. К таким операциям относятся: вызов метода
<span class="Term">ИзменитьРеквизиты()</span>
при работе на сервере и выполнение любого контекстного серверного
вызова при работе на стороне клиента.</p>

<p class="MsoNormal">В
программном модуле формы (т. е. фрагменте кода, размещенном вне процедур
и функций) допустимо использование инструкций препроцессора для явного
выделения участков кода инициализации соответствующих переменных.</p>

<div>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span>
В серверной переменной формы невозможно сохранить данные между двумя вызовами
серверной стороны формы.</p>

</div>

<p class="MsoNormal">Не
допускается использование нескольких директив компиляции перед одним методом
или переменной. Не допускается наличие одноименных методов или переменных,
отличающихся только директивами компиляции.</p>

<p class="MsoNormal">Обработчики
команд формы, созданных разработчиком, могут располагаться только
в клиентских методах модуля формы.</p>

<p class="MsoNormal">В модуле
формы рекомендуется использовать директивы препроцессора только внутри процедур
и функций.</p>

<div>

<p class="Note"><span class="Note">Примечание</span>.
Для понимания результата<span class="Interface"> </span>при «пересечении» инструкциями препроцессора границ
процедур следует учитывать, что обработка инструкций препроцессора выполняется
до обработки директив компиляции.</p>

</div>

<p class="MsoNormal">Полный
перечень директив компиляции и инструкций препроцессора
см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%204.%20%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.htm_?anchor=_ref231122751" target="_top">здесь</a>.</p>

<p class="MsoNormal">Приведем
пример использования директив компиляции:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Перем</span> СервернаяПеременная<span class="operator">;</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Перем</span> КлиентскаяПеременная<span class="operator">;</span>
<span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> Серверная<span class="operator">(</span><span class="operator">)</span>
    Сообщить<span class="operator">(</span>СервернаяПеременная<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> Команда1Выполнить<span class="operator">(</span><span class="operator">)</span>
    Сообщить<span class="operator">(</span>КлиентскаяПеременная<span class="operator">)</span><span class="operator">;</span>
    Серверная<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">#Если Сервер Тогда</span>
    СервернаяПеременная <span class="operator">=</span> <span class="string">"Сервер"</span><span class="operator">;</span>
<span class="preprocessor">#КонецЕсли</span>
<span class="preprocessor">#Если НаКлиенте Тогда</span>
    КлиентскаяПеременная <span class="operator">=</span> <span class="string">"Клиент"</span><span class="operator">;</span>
<span class="preprocessor">#КонецЕсли</span></pre><a name="_toc420398516"></a><a name="_ref377996576"></a><a name="_ref377996572"></a><a name="_toc298859901"></a><a name="_toc237692848"></a><a name="_ref216268390"></a><a name="_toc164776110"></a><a id="TI000000404" class="bookmark" name="issogl1_7.7_элементы_формы"><h2>7.7. Элементы формы</h2></a>

<a name="_toc420398517"></a><a name="_toc164776111"></a><a id="TI000001573" class="bookmark" name="issogl2_7.7.1_общая_информация"><h3>7.7.1. Общая информация</h3></a>

<p class="MsoNormal">Визуальное
представление управляемой формы описывается набором элементов. Элементы формы
образуют иерархическую коллекцию. Иерархия элементов формы определяет внешний
вид и состав отображаемых на форме элементов управления. Существует
несколько типов элементов формы:</p>

<p class="MsoListBullet">&#9679; 
форма &#8209; корневой
элемент дерева элементов (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref419713193">здесь</a>), существует в единственном экземпляре;</p>

<p class="MsoListBullet">&#9679; 
поле формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref414549603">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
декорация формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref419713205">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
таблица формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref416780510">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
кнопка формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref374441213">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
группа формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref419713226">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
дополнение элемента формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref377996546">здесь</a>).</p>

<p class="MsoNormal">Элементы
формы типа поле формы и таблица формы всегда связаны с данными формы.
Если связанный реквизит не указан, или он недоступен на клиенте ввиду
ограничения по правам, или исключен из состава (свойства <span class="Interface">Просмотр</span>
и <span class="Interface">Редактирование</span>
реквизитов формы), поля не будет видно на форме, и оно будет
автоматически удалено при создании формы в режиме исполнения.</p>

<p class="MsoNormal">Каждый
элемент формы описывается некоторым набором свойств, которые определяют его
поведение на форме, включая особенности отображения и трансформации &#8209; изменения размеров элемента при изменении размеров
формы или окружающих элементов (включая исчезновение или появление элементов).</p>

<a name="_toc420398518"></a><a name="_toc298859902"></a><a name="_toc237692849"></a><a name="_toc164776112"></a><a id="TI000000405" class="bookmark" name="issogl2_7.7.2_общие_свойства_элементов_формы"><h3>7.7.2. Общие свойства элементов формы</h3></a>

<p class="MsoNormal">Данный раздел
описывает общие свойства элементов формы. Свойства, специфичные для конкретных
элементов, будут описаны ниже.</p>

<a name="_ref461036678"></a><a id="TI000000406" class="bookmark" name="issogl3_7.7.2.1_группа_свойств_основные"><h4>7.7.2.1. Группа свойств «Основные»</h4></a>

<p class="MsoNormal">Свойство <span class="Interface">Положение заголовка</span>
определяет, каким образом будет выводиться заголовок элемента. Заголовком
выступает синоним реквизита формы, связанного с выбранным элементом формы,
если не указано свойство <span class="Interface">Заголовок</span> у элемента формы. Заголовок всегда
оканчивается символом "<span class="Interface">:</span>" (добавляется системой автоматически). Заголовки
элементов и групп могут динамически переноситься (с автоматическим
увеличением высоты формы) при выполнении всех следующих условий:</p>

<p class="MsoListBullet">&#9679; 
Заголовок состоит из нескольких слов,
разделенных пробелами.</p>

<p class="MsoListBullet">&#9679; 
Элемент с заголовком не является:</p>

<p class="MsoListBullet2">&#9679; 
Любым элементом, подчиненным таблице управляемой
формы;</p>

<p class="MsoListBullet2">&#9679; 
Меню, кнопкой (вида <span class="Interface">Обычная кнопка</span>
или <span class="Interface">Кнопка
командной панели</span>);</p>

<p class="MsoListBullet2">&#9679; 
Заголовком страницы;</p>

<p class="MsoListBullet2">&#9679; 
Заголовком группы, если заголовок содержит
дополнительные элементы оформления (оформление групп в интерфейсе версии
8.2).</p>

<p class="MsoNormal">Если
в заголовке группы отображаются данные, и вышеуказанные условия
выполнены, то перенос текста будет выполняться, но минимальная ширина текста не
может быть меньше размера, отведенного для отображения данных заголовка.</p>

<p class="MsoNormal">При
добавлении элемента в свойстве <span class="Interface">Данные</span>
необходимо указать ссылку на реквизит формы, с которым этот элемент
связан. Если элемент формы не связан с реквизитом формы, то он не будет
отображен на форме. Если на форму добавляется кнопка, то
в свойстве <span class="Interface">Команда</span> необходимо указать ссылку на команду,
которая будет выполняться при нажатии кнопки. Если кнопка не связана
с командой, то она не будет отображена на форме.</p>

<p class="MsoNormal">Элемент
формы может находиться в режиме <span class="Interface">Только просмотр</span> (запрещающем любые изменения), если
у него установлено свойство <span class="Interface">Только просмотр</span> (в конфигураторе или с помощью
встроенного языка), или у группы, в которую он входит, установлено
свойство <span class="Interface">Только
просмотр</span>, или связанный с ним реквизит формы имеет признак <span class="Interface">Сохраняемые данные</span>
и у формы установлен режим <span class="Interface">Только просмотр</span>.</p>

<p class="MsoNormal">Для
управления видимостью элементов формы существуют два свойства: <span class="Interface">Видимость</span>
и <span class="Interface">Пользовательская
видимость</span>. Первое свойство можно изменять как в редакторе формы (в
конфигураторе), так и программно. Свойство <span class="Interface">Пользовательская видимость</span>
настраивается только в конфигураторе и задает начальную видимость
элемента формы в разрезе ролей. Результирующая видимость элемента формы
образуется сложением «по И» свойств <span class="Interface">Видимость</span> и <span class="Interface">Пользовательская видимость</span> для конкретного пользователя.
Описание редактирования свойства <span class="Interface">Пользовательская видимость</span> см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2035.%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8.htm_?anchor=_ref200447246" target="_top">здесь</a>. Кроме того, изменяя видимость элементов формы в диалоге <span class="Interface">Настройка формы</span>,
пользователь фактически выполняет изменение свойства <span class="Interface">Пользовательская видимость</span>
конкретного элемента формы.</p>

<p class="MsoNormal">Изменение
видимости (свойство элемента <span class="Interface">Видимость</span>) с помощью встроенного языка,
в большинстве случае, не требует обращения к серверу. Однако в следующих
ситуациях серверный вызов все равно будет выполнен:</p>

<p class="MsoListBullet">&#9679; 
при изменении видимости с помощью
функциональных опций;</p>

<p class="MsoListBullet">&#9679; 
при изменении видимости элемента <span class="Interface">Группа</span>;</p>

<p class="MsoListBullet">&#9679; 
при изменении видимости таблицы управляемой
формы, отображающей динамический список, а также при изменении видимости
колонок в такой таблице.</p>

<p class="MsoNormal">Описание
свойств <span class="Interface">Высота</span>
и <span class="Interface">Ширина</span>
(или <span class="Interface">Количество
строк</span>) см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref414372742">здесь</a>.</p>

<p class="MsoNormal">С помощью
свойства <span class="Interface">Пропускать
при вводе</span> можно задать пропуск элемента формы при обходе формы
с помощью клавиши <span class="Interface">Ente</span><span class="Interface">r</span>.
Если свойство установлено в значение <span class="Interface">Да</span>, то элемент будет пропущен при
обходе по <span class="Interface">Enter</span>
(но доступен при обходе с помощью клавиши <span class="Interface">Tab</span> или указания элемента мышью). Если свойство
установлено в значение <span class="Interface">Нет</span>, то элемент не будет пропущен при обходе с помощью
клавиши <span class="Interface">Enter</span>. Также
существует возможность указать автоматическое определение необходимости
пропуска элемента формы. Для этого необходимо установить значение этого
свойства равным <span class="Interface">Авто</span>. В этом случае будет использоваться следующий
алгоритм работы:</p>

<p class="MsoListBullet">&#9679; 
Элемент типа <span class="Interface">Поле</span> будет пропускаться
в случае поля вида, поля надписи или поля картинки, а также
в зависимости от значения свойства <span class="Interface">Отображение предупреждения при
редактировании</span> (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref253572301">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
Элемент типа <span class="Interface">Кнопка</span> не будет пропускаться
в том случае, если кнопка является кнопкой по умолчанию.</p>

<p class="MsoListBullet">&#9679; 
Элемент типа <span class="Interface">Декорация</span> будет пропускаться.</p>

<p class="MsoListBullet">&#9679; 
Элемент типа <span class="Interface">Таблица</span> не будет пропускаться.</p>

<a name="_ref322367385"></a><a id="TI000000407" class="bookmark" name="issogl3_7.7.2.2_связь_элементов_с_реквизитами_формы"><h4>7.7.2.2. Связь элементов с реквизитами формы</h4></a>

<a id="TI000001656" class="bookmark" name="issogl4_7.7.2.2.1_общая_информация"><h5>7.7.2.2.1. Общая информация</h5></a>

<p class="MsoNormal">Любой элемент,
отображающий какие-либо данные, должен быть связан с реквизитом формы.
Можно выделить «обычную» связь &#8209; когда элемент
формы отображает данные какого-либо реквизита формы, и «специальные»
режимы связи.</p>

<a id="TI000001657" class="bookmark" name="issogl4_7.7.2.2.2_связь_с_обычным_реквизитом_формы"><h5>7.7.2.2.2. Связь с обычным реквизитом формы</h5></a>

<p class="MsoNormal">В
простейшем случае элемент формы отображает значение, сохраненное
в каком-либо реквизите формы. В зависимости от типа реквизита,
система автоматически определяет, какой элемент формы будет использоваться для
отображения данных, и какого вида будет этот элемент (если такое
возможно).</p>

<p class="MsoNormal">В этом
случае свойство <span class="Interface">Путь к данным</span> содержит имя реквизита формы, чьи
данные будут отображены этим элементом.</p>

<a id="TI000000408" class="bookmark" name="issogl4_7.7.2.2.3_связь_с_текущими_данными_таблиц"><h5>7.7.2.2.3. Связь с текущими данными таблиц</h5></a>

<p class="MsoNormal">Элемент формы может быть связан
с реквизитом, представляющим собой колонку таблицы, размещенной
на форме. При этом в данном элементе отображаются данные поля текущей
строки таблицы. Такая связь допускается как для полей, так и для таблиц,
при этом не требуется, чтобы в таблице отображалась соответствующая колонка.
Элемент, связанный с текущими данными, может находиться как в режиме <span class="Interface">Только просмотр</span>, так и в режиме
редактирования.</p>

<p class="MsoNormal">Например, необходимо расположить
на форме поле, которое отображает цену для текущей строки товара. Для
этого в нужное место иерархии элементов формы добавляем поле (вид поля
ввода может быть как <span class="Interface">Поле надписи</span>,
так и <span class="Interface">Поле ввода</span>),
для которого в качестве данных выбираем (в диалоге <span class="Interface">Выбор реквизита</span>) <span class="Term">Объект.Товары.Цена</span>.
Здесь <span class="Term">Объект</span> &#8209; это реквизит формы типа <span class="Term">Документ</span>
конкретного вида, <span class="Term">Товары</span> &#8209; это табличная часть
документа, а <span class="Term">Цена</span> &#8209; реквизит табличной части.</p>

<a name="_ref496018324"></a><a id="TI000000409" class="bookmark" name="issogl4_7.7.2.2.4_связь_с_определенной_строкой_таблицы"><h5>7.7.2.2.4. Связь с определенной строкой таблицы</h5></a>

<p class="MsoNormal">Элемент формы может
быть связан с реквизитом, представляющим собой колонку указанной строки
таблицы, являющейся реквизитом формы. Такая связь допускается как для полей,
так и для таблиц, при этом не требуется, чтобы в таблице отображалась
соответствующая колонка. Конкретная строка задается индексом строки (например, <span class="Term">ТаблицаЗначений[1]</span>) или последовательностью
индексов для иерархических таблиц (например <span class="Term">ТаблицаЗначений[2].СписокИтогов[4]</span>).
Элемент, связанный с данными строки, может находиться как в режиме <span class="Interface">Только просмотр</span>,
так и в режиме редактирования. Обращаем внимание, что подобная связь
допускается только с реквизитами формы и не допускается
с элементами формы. Другими словами, выражение <span class="Term">&lt;ИмяРеквизита&gt;[Индекс]</span> невозможно
заменить на <span class="Term">&lt;ИмяЭлемента&gt;[Индекс]</span>
или <span class="Term">&lt;ИмяЭлемента&gt;.ТекущиеДанные.&lt;ИмяРеквизита&gt;[Индекс]</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Данная связь не поддерживается для динамических списков.</p>

</div>

<p class="MsoNormal">Например,
необходимо расположить на форме поле, которое отображает значение поля <span class="Term">Долг</span> из 4-й строки таблицы значений <span class="Term">Контрагенты</span>. Для этого в нужное место
иерархии элементов формы добавляем поле (вид поля ввода может быть как <span class="Interface">Поле надписи</span>,
так и <span class="Interface">Поле ввода</span>), для которого в качестве данных
выбираем (в диалоге <span class="Interface">Выбор реквизита</span>) <span class="Term">Контрагенты[3].Долг</span>.
Здесь <span class="Term">Контрагенты</span> &#8209; это реквизит формы типа <span class="Term">(ТаблицаЗначений)</span>, а <span class="Term">Долг</span> &#8209; колонка таблицы
значений.</p>

<p class="MsoNormal">Если
данные поля ссылаются на отсутствующую строку &#8209; редактировать такое поле будет нельзя, даже если
выбрано поле ввода, в противном случае изменение, выполненное в поле
ввода, будет выполнено в таблице, на которую ссылается поле ввода.</p>

<p class="MsoNormal">В примере
выше, если пользователь изменит поле ввода, значение из этого поля попадет
в колонку <span class="Term">Долг</span>
4-й строки таблицы значений <span class="Term">Контрагенты</span>.</p>

<a id="TI000000410" class="bookmark" name="issogl4_7.7.2.2.5_связь_с_реквизитами_через_ссылку"><h5>7.7.2.2.5. Связь с реквизитами через ссылку</h5></a>

<p class="MsoNormal">Если в данных
формы есть реквизиты ссылочных типов (например, <span class="Term">СправочникСсылка</span>),
то элемент формы можно связать с реквизитом, полученным по этой
ссылке. Данные для таких элементов будут получаться автоматически
и обновляться при изменении ссылки. Связь с реквизитами через ссылку
может быть любой глубины. Элементы, связанные с такими реквизитами, всегда
находятся в режиме <span class="Interface">Только просмотр</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Для реквизитов составного типа (включая типы <span class="Term">СправочникСсылка</span>,
<span class="Term">ДокументСсылка</span>
и т. д.) недоступно получение реквизитов через ссылку.</p>

</div>

<p class="MsoNormal">Например, нужно
расположить на форме поле, которое отображает артикул текущей строки
товара. Для этого нам необходимо добавить в нужное место иерархии
элементов формы поле с видом <span class="Interface">Поле надписи</span>, для которого в качестве данных
выбрать (в диалоге <span class="Interface">Выбор реквизита</span>) <span class="Term">Объект.Товары.Товар.Артикул</span>.
Здесь <span class="Term">Объект</span> &#8209; это реквизит формы типа <span class="Term">Документ</span> конкретного вида, <span class="Term">Товары</span> &#8209; это табличная
часть документа, <span class="Term">Товар</span> &#8209; это реквизит табличной части, а <span class="Term">Артикул</span> &#8209; реквизит
справочника <span class="Term">Товары</span>.</p>

<a id="TI000000411" class="bookmark" name="issogl4_7.7.2.2.6_связь_с_итогами_коллекций"><h5>7.7.2.2.6. Связь с итогами коллекций</h5></a>

<p class="MsoNormal">Элемент формы может
быть связан с реквизитами, представляющим собой итоговые значения
некоторых коллекций: табличные части, наборы записей, список значений (только
количество строк в коллекции). Такими реквизитами могут быть:</p>

<p class="MsoListBullet">&#9679; 
итоги по числовым полям,</p>

<p class="MsoListBullet">&#9679; 
количество строк в коллекции.</p>

<p class="MsoNormal">Элементы,
связанные с такими реквизитами, всегда находятся в режиме <span class="Interface">Только просмотр</span>.</p>

<p class="MsoNormal">В качестве
примера поместим на форму поле, отображающее суммовой итог для табличной
части <span class="Term">Товары</span>. Для этого
в качестве данных поля формы укажем <span class="Term">Объект.Товары.ИтогСумма</span>,
где <span class="Term">Объект</span> &#8209; это основной реквизит формы, <span class="Term">Товары</span> &#8209; табличная часть
документа, а <span class="Term">ИтогСумма</span> &#8209; специальный реквизит. Связь может быть установлена
не только для самого элемента. Также поддерживается установка связи для
отображения данных в подвале таблицы и в заголовке закладки
(группы вида <span class="Term">Страница</span>).</p>

<p class="MsoNormal">В
зависимости от типа данных, которые отображает элемент формы (поле ввода,
кнопка и группа), с помощью свойства <span class="Interface">Вид</span> можно задать способ отображения
данных.</p>

<a name="_ref380051354"></a><a name="_ref329019637"></a><a id="TI000000412" class="bookmark" name="issogl3_7.7.2.3_группа_свойств_использование"><h4>7.7.2.3. Группа свойств «Использование»</h4></a>

<p class="MsoNormal">Подробнее
про использование свойства <span class="Interface">Быстрый выбор</span> см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref215985342" target="_top">здесь</a>.</p>

<p class="MsoNormal">Описание
свойства <span class="Interface">Связи
параметров выбора</span> см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref271726534" target="_top">здесь</a>. Описание свойства <span class="Interface">Параметры выбора</span> см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref271716125" target="_top">здесь</a>. Если значения свойств <span class="Interface">Связи параметров выбора</span> и <span class="Interface">Параметры выбора</span>
заданы и в свойствах реквизита объекта метаданных,
и в свойствах элемента формы, то значения свойства будут объединены.
Объединение будет выполняться «по ИЛИ» (по именам параметров).</p>

<p class="MsoNormal">Имеется
возможность указывать расширенную подсказку для следующих элементов формы:</p>

<p class="MsoListBullet">&#9679; 
Поле;</p>

<p class="MsoListBullet">&#9679; 
Таблица;</p>

<p class="MsoListBullet">&#9679; 
Группа;</p>

<p class="MsoListBullet">&#9679; 
Кнопка;</p>

<p class="MsoListBullet">&#9679; 
Декорация.</p>

<p class="MsoNormal">Расширенная
подсказка задается с помощью свойства <span class="Interface">Расширенная подсказка</span>
соответствующего элемента формы. Включается возможность указания данной
подсказки с помощью команды <span class="Interface">Показать расширенную подсказку</span> контекстного меню
элемента формы. При этом сама расширенная подсказка представляет собой
декорацию формы типа <span class="Interface">Текст</span>. Текст расширенной подсказки задается
с помощью свойства декорации <span class="Interface">Заголовок</span>. Имеется возможность управлять некоторыми
параметрами отображения подсказки с помощью свойств раздела <span class="Interface">Оформление</span>
у декорации. Если требуется специальным образом оформлять сам текст подсказки,
то для этого необходимо выбрать в окне редактирования расширенной
подсказки значение переключателя <span class="Interface">Форматированная строка</span>. В этом случае будут доступны
расширенные возможности оформления (подобные форматированному документу). Также
у вышеперечисленных элементов формы можно задать отображение подсказки:
вокруг элемента формы, кнопкой рядом с элементом формы, всплывающим окном
или отображение будет выбираться автоматически. Если задан режим отображения
подсказки <span class="Interface">Кнопка</span>, то отображаться будет свойство <span class="Interface">Заголовок</span>
расширенной подсказки с форматированием. Если задан режим отображения <span class="Interface">Всплывающий</span>, то
будет отображаться свойство <span class="Interface">Заголовок</span> расширенной подсказки, но в виде обычной
строки (с убранным форматированием). Кнопка для отображения подсказки выводится
не сразу после текста элемента, а с внешней стороны от правой границы
этого элемента.</p>

<p class="MsoNormal">Если
заданы одновременно свойства <span class="Interface">Подсказка</span> и свойство <span class="Interface">Заголовок</span> расширенной подсказки &#8209; отображаться будет текст из расширенной
подсказки.</p>

<p class="MsoNormal">Свойство <span class="Interface">Сочетание клавиш</span>
предназначено для того, чтобы ускорить доступ к тому или иному элементу
формы. Если для какого-то элемента формы установлено сочетание клавиш, то
нажатие этого сочетания сразу переносит фокус ввода на требуемый элемент.
Сочетания клавиш не работают для полей надписи и декораций. Однако следует
помнить, что для некоторых сочетаний клавиш, которые используются системой
«1С:Предприятие», невозможно переопределить исполняемые действия. Другими
словами, если назначить такое «зарезервированное» сочетание для выполнения
другого действия, то при нажатии сочетания клавиш будет выполнено системное
действие.</p>

<a name="_ref359930215"></a><a id="TI000000413" class="bookmark" name="issogl3_7.7.2.4_группа_свойств_события"><h4>7.7.2.4. Группа свойств «События»</h4></a>

<p class="MsoNormal">В данной
группе собраны ссылки на обработчики, которые предоставляет тот или иной
элемент формы.</p>

<p class="MsoNormal">Следует понимать, что вызов какого-либо обработчика
события (не обязательно события элемента формы) из кода на встроенном
языке не является аналогом вызова этого же обработчика самой платформой,
в рамках выполнения последовательности событий, связанных с тем или
иным действием пользователя. Так, например, программный вызов обработчика
события <span class="Term">ПриЗаписиНаСервере()</span> модуля формы справочника
не означает, что будет открыта транзакция и произойдет запись элемента
справочника. При таком вызове будет исполнен только код обработчика, причем,
возможно, что код будет исполнен некорректно или в процессе исполнения
этого кода возникнут ошибки. Ошибки могут возникнуть потому, что разработчик,
который создавал этот обработчик, исходил из того, что этот обработчик
будет вызван только самой платформой и при этом платформа же обеспечит
некоторое окружение.</p>

<a name="_ref53500721"></a><a id="TI000000414" class="bookmark" name="issogl3_7.7.2.5_картинки_элементов"><h4>7.7.2.5. Картинки элементов</h4></a>

<p class="MsoNormal">Элементы формы
позволяют использовать для своего оформления картинки. Задание картинки
возможно двумя способами:</p>

<p class="MsoListBullet">&#9679; 
из конфигуратора,</p>

<p class="MsoListBullet">&#9679; 
программным способом.</p>

<p class="MsoNormal">В случае
если картинка задается программным способом, может быть установлена либо пустая
картинка, либо картинка из библиотеки картинок конфигурации.</p>

<p class="MsoNormal">Если
картинка задается из конфигуратора, то возможен еще один вариант &#8209; задание картинки из файла на диске
(внешняя картинка). Использование таких картинок рекомендуется только
в тех случаях, когда разрабатываются внешние отчеты или обработки, которые
могут использоваться в различных конфигурациях, и картинка является
значимым элементом оформления. В остальных случаях использование таких картинок
является нежелательным. Для команд формы и глобальных команд выбрать
внешнюю картинку невозможно.</p>

<p class="MsoNormal">Если при
выборе файла с картинкой обнаруживается, что файл является картинкой
формата SVG и содержит анимацию (SMIL-анимацию), то конфигуратор сообщает об этом
и предлагает выполнить выполнить заменить SVG-картинку
на набор картинок (подробнее о наборе картинок см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref397005389" target="_top">здесь</a>). В наборе будет размещаться оригинальная SVG-картинка, и будет анимированная GIF-картинка с указанием, что GIF-картинку
следует использовать для отображения в веб-браузерах Microsoft Internet Explorer и Microsoft Edge
(основанный на инструменте отображения веб-страниц EdgeHTML). GIF-картинка будет получена
конфигуратором автоматически. Это вызвано тем, что веб-браузеры Microsoft Internet Explorer и Microsoft Edge
(основанный на инструменте отображения веб-страниц EdgeHTML) не поддерживают отображение SVG-анимации. При конвертации SVG-анимации
в GIF-картинку следует помнить следующие
особенности:</p>

<p class="MsoListBullet">&#9679; 
Конвертируются картинки, продолжительность цикла
анимации которых не превышает 15 секунд.</p>

<p class="MsoListBullet">&#9679; 
В полученной GIF-картинке
будет не более 30 кадров и частота смены кадров будет не более 30 кадров
в секунду.</p>

<p class="MsoListBullet">&#9679; 
В результате конвертации будет сформирован набор
из двух картинок.</p>

<a name="_toc420398519"></a><a name="_ref419713193"></a><a name="_ref367284766"></a><a name="_ref367284765"></a><a name="_ref353105897"></a><a name="_ref352078526"></a><a name="_ref339642710"></a><a name="_ref339642709"></a><a name="_toc298859903"></a><a name="_toc237692850"></a><a name="_toc164776113"></a><a id="TI000000415" class="bookmark" name="issogl2_7.7.3_форма"><h3>7.7.3. Форма</h3></a>

<p class="MsoNormal">Описывает
визуальные свойства формы. Элемент такого типа всегда существует
в единственном числе и находится в корне иерархии элементов.
Также в свойствах формы описываются обработчики событий формы.</p>

<p class="MsoNormal">При
открытии формы имеется возможность прервать этот процесс в нескольких
местах:</p>

<p class="MsoListBullet">&#9679; 
обработчик события <span class="Term">ПриСозданииНаСервере</span> &#8209; отказ от открытия в этой обработчике
приведет к тому, что форма вообще не будет создана.</p>

<p class="MsoListBullet">&#9679; 
обработчик события <span class="Term">ПриОткрытии</span> &#8209; отказ
от открытия в этом обработчике может привести к различным
последствиям.</p>

<p class="Indentlist">Если
форма открывается так, что получившийся объект типа <span class="Term">ФормаКлиентскогоПриложения</span> не будет удерживаться
в какой-либо переменной, то в результате отказа от открытия сама
форма, и все связанные с формой данные, будут освобождены
из памяти и, в частности, перестанут выполняться обработчики ожидания
формы, которые могли быть установлены к этому времени.</p>

<p class="Indentlist">Если
открытая форма удерживается в какой-либо переменной, то форма будет
создана, все связанные данные не будут удаляться (останутся доступными для
использования) и продолжат работу установленные обработчики ожидания
формы. При этом сохранится возможность повторно попытаться открыть созданную
форму.</p>

<p class="MsoNormal">Режим открытия
формы управляется специальным свойством &#8209; <span class="Interface">Режим открытия окна. </span>Данное
свойство описывает, каким образом будет открыто окно:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Независимый</span> &#8209; форма открывается:</p>

<p class="MsoListBullet2">&#9679; 
Режим <span class="Interface">Формы в отдельных окнах</span>. Форма открывается
в немодальном окне, которое является вспомогательным окном приложения.</p>

<p class="MsoListBullet2">&#9679; 
Режим <span class="Interface">Формы в закладках</span>. Форма открывается
в отдельной закладке.</p>

<p class="MsoListBullet2">&#9679; 
Режим <span class="Interface">Такси</span>. Форма открывается в рабочей области
основного окна приложения.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Блокировать окно владельца</span> &#8209; форма открывается в немодальном окне,
в режиме, когда работа с формой, из которой инициировано
открытие текущей формы, блокируется. Данный режим предназначен для форм,
в которых вводится мало информации и работа с которыми не
требует длительного времени, например, для ввода элементов справочников,
содержащих небольшое количество реквизитов. Этот режим внешне аналогичен
модальному открытию формы, однако при открытии из встроенного языка работа
модуля не останавливается на время работы открываемой формы. При этом все
остальное взаимодействие с формой выполняется как с другими
немодальными формами. Такая форма также открывается во вспомогательном окне.</p>

<p class="Indentlist">Форма,
открытая в таком режиме, не участвует в поиске уже открытых форм.
Если попытаться открыть точно такую же форму (даже с параметром
уникальности, установленным в значение <span class="Term">Ложь</span>),
то форма, открытая в режиме <span class="Interface">Блокировать окно владельца</span>, не будет найдена
и будет открыта новая форма.</p>

<p class="Indentlist">Этот режим
по умолчанию установлен у следующих форм:</p>

<p class="MsoListBullet2">&#9679; 
элемент и группа справочника,</p>

<p class="MsoListBullet2">&#9679; 
узел плана обмена,</p>

<p class="MsoListBullet2">&#9679; 
элемент и группа плана видов характеристик,</p>

<p class="MsoListBullet2">&#9679; 
счет,</p>

<p class="MsoListBullet2">&#9679; 
вид расчета,</p>

<p class="MsoListBullet2">&#9679; 
задача,</p>

<p class="MsoListBullet2">&#9679; 
запись независимого регистра сведений.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Блокировать весь интерфейс</span> &#8209; аналогично форме, которая открывается в режиме
<span class="Interface">Блокировать
окно владельца</span>, но блокируется работа не только с родительской
формой, но со всем интерфейсом прикладного решения. Такой режим открытия не
используется в качестве установки «по умолчанию».</p>

<p class="MsoNormal">При открытии формы
в блокирующем режиме используется следующий алгоритм определения
блокируемого окна:</p>

<p class="MsoListBullet">&#9679; 
Если в свойстве <span class="Term">ВладелецФормы</span> задана форма и эта форма не
закрыта, блокируется окно этой формы.</p>

<p class="MsoListBullet">&#9679; 
Если в свойстве <span class="Term">ВладелецФормы</span> задан элемент формы, и эта
форма не закрыта, то блокируется окно формы, которой принадлежит этот элемент.</p>

<p class="MsoListBullet">&#9679; 
В остальных случаях, если в свойстве <span class="Term">ВладелецФормы</span> задано значение <span class="Term">Неопределено</span> или форма владельца закрыта,
блокируется окно, которое является текущим окном клиентского приложения
на момент открытия формы.</p>

<p class="MsoNormal">Свойство <span class="Interface">Режим открытия окна</span>
не оказывает влияния на открытие формы в следующих случаях:</p>

<p class="MsoListBullet">&#9679; 
Если она открывается в модальном режиме. В
этом случае форма будет открыта модально и в отдельном окне.</p>

<p class="MsoListBullet">&#9679; 
При открытии в уже существующем основном
или вспомогательном окне. В этом случае форма будет открыта в существующем
основном или вспомогательном окне.</p>

<p class="MsoListBullet">&#9679; 
В том случае, если форма открывается
из формы, блокирующей интерфейс. В этом случае также будет игнорироваться
параметр <span class="Term">РежимОткрытияОкна</span>
метода <span class="Term">ОткрытьФорму()</span>.
Форма будет открыта в отдельном окне, в неблокирующем режиме.</p>

<p class="MsoNormal">В
интерфейсе <span class="Interface">Такси</span> для формы, открытой в режиме <span class="Interface">Блокировать окно
владельца</span> или <span class="Interface">Блокировать весь интерфейс</span>, нет возможности настроить
панель навигации формы.</p>

<p class="MsoNormal">Каждая
форма имеет заголовок. Заголовок может устанавливаться вручную, формироваться
автоматически и быть комбинированным. Если свойство формы <span class="Interface">Заголовок</span> не
задано и установлено свойство <span class="Interface">Автоматический заголовок</span>, то заголовок формы будет
сформирован автоматически (описание правил формирования автоматического
заголовка см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%203.%20%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0%20%D1%84%D0%BE%D1%80%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%20%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82%D0%BD%D1%8B%D1%85%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%20%D0%B8%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85%20%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%BE%D0%B2%20%D1%84%D0%BE%D1%80%D0%BC.htm_?anchor=_ref476214152" target="_top">здесь</a>). Явное указание свойства <span class="Interface">Заголовок</span> (при установленном
свойстве <span class="Interface">Автоматический
заголовок</span>) приведет к тому, что заголовок формы будет формироваться
из значения свойства <span class="Interface">Заголовок</span>, затем через "<span class="Interface">:</span>" будет
выведен автоматический заголовок формы. Если у формы указано только свойство
<span class="Interface">Заголовок</span>,
а свойство <span class="Interface">Автоматический заголовок</span> сброшено, то в качестве
заголовка формы будет использоваться только значение свойства <span class="Interface">Заголовок</span>.</p>

<p class="Regularbeforepicture">Свойство
<span class="Interface">Отображать
заголовок</span> позволяет управлять отображением заголовка формы (включая
признак модификации данных формы). Свойство можно изменять из встроенного
языка в режиме «1С:Предприятие». Свойство используется только при работе
в интефейсе <span class="Interface">Такси</span>. Если используется обычный режим основного окна,
то данное свойство применяется только для форм, расположенных на начальной
странице основного окна.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:684/481" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00312.gif" width="684" alt="" height="481"></p>

<p class="MsoCaption">Рис. 314. Управление заголовоком</p>

<p class="MsoNormal">Если для основного
окна указан один из следующих режимов &#8209; <span class="Interface">Рабочее место</span>, <span class="Interface">Полноэкранное рабочее
место</span> или <span class="Interface">Киоск</span>, то свойство отображать заголовок применяется для
всех управляемых форм прикладного решения.</p>

<p class="Regularbeforepicture">Свойство
<span class="Interface">Отображать
кнопку закрытия</span> управляет наличием на форме кнопки закрытия (если
способ открытия формы подразумевает наличие кнопки закрытия) и поведением
клавиши <span class="Interface">ESC</span>. Свойство можно
изменять из встроенного языка в режиме «1С:Предприятие». Свойство
используется только при работе в интефейсе <span class="Interface">Такси</span>. Данное свойство не управляет
кнопкой закрытия окна, которая находится в заголовоке вспомогательного окна.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:684/441" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00313.gif" width="684" alt="" height="441"></p>

<p class="MsoCaption">Рис. 315. Управление кнопкой закрытия</p>

<p class="MsoNormal">Свойство <span class="Interface">Отображать кнопку
закрытия</span> применяется только в том случае, если для основного окна
указан один из следующих режимов &#8209; <span class="Interface">Рабочее место</span>, <span class="Interface">Полноэкранное рабочее
место</span> или <span class="Interface">Киоск</span>.</p>

<p class="MsoNormal">Свойство
формы <span class="Interface">Вертикальная
прокрутка</span> определяет расположение элементов формы при начальном
отображении, а также то, как будут вести себя элементы формы в том
случае, если форма будет сжиматься по вертикали:</p>

<p class="MsoListBullet">&#9679; 
Значение <span class="Term">Использовать</span> &#8209; полоса вертикальной прокрутки появится после того,
как вертикальный размер элементов формы достигнет размера, который был задан
при редактировании формы в конфигураторе (это относится
и к элементам с автоматически определением высоты элемента).</p>

<p class="MsoListBullet">&#9679; 
Значение <span class="Term">ИспользоватьБезРастягивания</span> &#8209; при растягивании формы элементы формы не реагируют
на изменение размера формы.</p>

<p class="MsoListBullet">&#9679; 
Значение <span class="Term">ИспользоватьПриНеобходимости</span> &#8209; перед появлением полосы прокрутки элементы формы
будут сжиматься по вертикали до своего минимального размера.</p>

<p class="Regularbeforepicture">Рассмотрим
пример: имеется форма с реквизитом <span class="Term">Список</span>
типа <span class="Term">ДинамическийСписок</span>.
Этот реквизит отображается на форме таблицей <span class="Term">Список</span>, для которой высота указана в 8
строк таблицы. Если свойство формы <span class="Interface">Вертикальная прокрутка</span> установить в значение <span class="Term">Использовать</span>, то форма практически не будет
сжиматься:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:685/283" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00314.gif" width="685" alt="" height="283"></p>

<p class="MsoCaption">Рис. 316. Вертикальная прокрутка формы &#8209; использовать</p>

<p class="MsoNormal">В этом случае
полоса вертикальной прокрутки появилась сразу, как только форму попытались
сжать по вертикали.</p>

<p class="Regularbeforepicture">Если
свойство формы <span class="Interface">Вертикальная прокрутка</span> установить в значение <span class="Term">ИспользоватьПриНеобходимости</span>, то форма вначале
максимально уменьшит свой размер по вертикали, и лишь потом появится
вертикальная полоса прокрутки:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:685/283" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00315.gif" width="685" alt="" height="283"></p>

<p class="MsoCaption">Рис. 317. Вертикальная прокрутка формы &#8209; использовать при необходимости</p>

<p class="MsoNormal">При установке
свойства в значение <span class="Term">Авто</span>,
поведение формы определяется системой на основании типа основного
реквизита формы:</p>

<p class="MsoListBullet">&#9679; 
Если основной реквизит формы имеет тип <span class="Term">ДинамическийСписок</span>, или основной реквизит
формы имеет тип <span class="Term">ОтчетОбъект</span>,
и для расширения формы отчета заполнено свойство <span class="Term">РезультатОтчета</span>, то значение <span class="Term">Авто</span> трактуется как значение <span class="Term">ИспользоватьПриНеобходимости</span>;</p>

<p class="MsoListBullet">&#9679; 
В остальных случаях значение <span class="Term">Авто</span> трактуется как <span class="Term">Использовать</span>.</p>

<p class="MsoNormal">В том
случае, если форма имеет вертикальную прокрутку, то активизация любого элемента
формы, который представлен в видимой области формы не целиком, приводит
к тому, что форма пытается сделать так, чтобы активизируемый элемент
целиком (или большей частью) располагался в видимой части формы,
а это может приводить к прокрутке формы.</p>

<p class="MsoNormal">Свойство <span class="Interface">Сохранять настройки
окна</span> позволяет управлять необходимостью сохранять размер и положение
окна данной формы, а также ширину колонок колонок всех таблиц формы
и положения разделителей. Если флажок установлен, то указанные настройки
сохраняются в хранилище системных настроек и восстанавливаются при
повторном открытии формы. Настройки сохраняются в системные настройки <span class="Term">/НастройкиОкна*</span> (в зависимости от вида
клиентского приложения). Если флажок сброшен, то все вышеупомянутые настройки
не сохраняются при работе, а если для этой формы сохраненные настройки уже
существуют, то эти настройки игнорируются при открытии формы, но не удаляются
системой.</p>

<p class="MsoNormal">Свойство <span class="Interface">Вариант масштаба</span>
определяет, каким образом управляемая форма будет отображаться
в интерфейсе <span class="Interface">Такси</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; система автоматически определяет режим отображения
формы. В этом случае анализируется свойство <span class="Term">ВариантМасштабаФормКлиентскогоПриложения</span>
объекта <span class="Term">НастройкиКлиентскогоПриложения</span>.
Если в данном свойстве не указано конкретное значение варианта масштаба,
то в интерфейсе <span class="Interface">Такси</span> значение <span class="Interface">Авто</span> будет трактоваться как <span class="Interface">Обычный</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обычный</span> &#8209; форма выглядит стандартно для интерфейса <span class="Interface">Такси</span>. Свойство
<span class="Interface">Масштаб</span>
оказывает влияние на размер формы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:637/728" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00316.gif" width="637" alt="" height="728"></p>

<p class="MsoCaption">Рис. 318. Обычный вариант масштаба</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Компактный</span> &#8209; в этом случае форма выглядит «почти» как
в интерфейсе версии 8.2. Свойство <span class="Interface">Масштаб</span> не оказывает влияние на размер формы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:517/616" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00317.gif" width="517" alt="" height="616"></p>

<p class="MsoCaption">Рис. 319. Компактный вариант масштаба</p>

<p class="MsoNormal">С технической точки
зрения, форма, для которой значение свойства <span class="Interface">Вариант масштаба</span> установлено
в значение <span class="Interface">Компактный</span>, имеет следующие особенности:</p>

<p class="MsoListBullet">&#9679; 
В качестве шрифта формы используется системный
шрифт <span class="Interface">Шрифт
диалогов и меню</span>;</p>

<p class="MsoListBullet">&#9679; 
Элементы формы имеют размеры, максимально
соответствующие таковым в интерфейсе версии 8.2;</p>

<p class="MsoListBullet">&#9679; 
Расстояния между элементами формы максимально
соответствуют расстояниям в интерфейсе версии 8.2;</p>

<p class="MsoListBullet">&#9679; 
Табличный документ, диаграмма, диаграмма Ганта,
дендрограмма, графическая схема и географическая схема отображаются
без увеличения масштаба.</p>

<p class="MsoNormal">Данное
свойство предназначено для того, чтобы упростить использование сложных
(насыщенных) форм в интерфейсе <span class="Interface">Такси</span> без переработки этих форм. Данная возможность
не является основной, т. к. получающийся в результате интерфейс
не вполне соответствует интерфейсу <span class="Interface">Такси</span>.</p>

<p class="MsoNormal">Также можно
управлять масштабом сразу всех форм прикладного решения. Для этого следует
соответствующим образом установить значение свойства <span class="Term">ВариантМасштабаФормКлиентскогоПриложения</span>
объекта <span class="Term">НастройкиКлиентскогоПриложения</span>.
Значение этого свойства будет использоваться для всех форм, у которых
значение свойства <span class="Interface">Вариант масштаба</span> установлено в значение <span class="Interface">Авто</span>.</p>

<p class="MsoNormal">Если для
формы установлен обычный режим отображения, то форма позволяет управлять
масштабом своего отображения с помощью свойства <span class="Interface">Масштаб</span>. Данное
свойство указывает, каким должен быть масштаб данной формы относительно ее
базового размера (в процентах). Значение свойства может изменяться от 10
до 400. В том случае, если в режиме «1С:Предприятия» будет выполнено
изменение масштаба всего приложения (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%203.%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F.htm_?anchor=_ref468890999" target="_top">здесь</a>), то масштаб, установленный в приложении, будет
рассчитываться от масштаба, указанного с помощью свойства <span class="Interface">Масштаб</span>. Так,
установив у формы масштаб 200% (через свойство <span class="Interface">Масштаб</span>), размер
формы станет в 2 раза (по каждой координате) больше базового размера. Если
в режиме «1С:Предприятия» для такой формы указать масштаб 50% (с помощью
диалога настройки масштаба), то итоговый масштаб формы будет
100%, т. е. форма примет свой обычный вид.</p>

<p class="Regularbeforepicture">При
отображении на форме одновременно списка групп и собственно
содержимого справочника, возникает задача синхронизации этих списков, чтобы при
выборе группы в списке групп, в списке элементов отображалось
содержимое выбранной группы. Для облегчения этой синхронизации предназначено
свойство расширения формы для динамического списка <span class="Interface">Список групп</span>.
Это свойство становится доступным в том случае, если основным реквизитом
формы выступает реквизит типа <span class="Term">ДинамическийСписок</span>.
В свойстве <span class="Interface">Список групп</span>, в этом случае, следует указать
таблицу управляемой формы, отображающей динамический список, который отображает
только иерархию групп отображаемого справочника. В этом случае система
обеспечивает автоматическую синхронизацию списков при навигации по любому
из них.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:682/492" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00318.gif" width="682" alt="" height="492"></p>

<p class="MsoCaption">Рис. 320. Список групп</p>

<p class="MsoNormal">Для формы
можно отобразить командную панель (ее расположением на форме можно
управлять с помощью свойства <span class="Interface">Положение командной панели</span>). Состав стандартных команд
формы можно регулировать через свойство формы <span class="Interface">Состав команд</span>.</p>

<p class="MsoNormal">Если
свойство <span class="Interface">Разрешить
изменять форму</span> снято, то пользователь не может изменить состав
и относительное положение элементов формы в режиме 1С:Предприятие.</p>

<p class="MsoNormal">Свойство <span class="Interface">Проверять заполнение
автоматически</span> отвечает за проверку заполнения данных формы. Подробнее
о проверке заполнения см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref216684443" target="_top">здесь</a>.</p>

<p class="MsoNormal">Если
свойство формы <span class="Interface">Сохранение данных формы в настройках</span> установлено
в значение <span class="Interface">Использовать список</span>, то в списке реквизитов
становится доступной колонка <span class="Interface">Сохранение</span>. Значения реквизиты, у которых свойство <span class="Interface">Сохранение</span>
установлено в значение <span class="Term">Истина</span>,
будут сохраняться в хранилище данных формы (подробнее см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref215641659" target="_top">здесь</a>). Для сохранения будет использовано либо хранилище, указанное
в свойстве формы <span class="Interface">Хранилище настроек</span>, либо хранилище, указанное
в свойстве <span class="Interface">Хранилище настроек данных форм</span> конфигурации.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Недоступно указание флажка <span class="Interface">Сохранение</span> для табличных частей объектов.</p>

</div>

<p class="MsoNormal">Для установки
режима <span class="Interface">Только
просмотр</span> у формы существует свойство <span class="Term">ТолькоПросмотр</span>,
доступное только для программного изменения. В случае установки этого свойства
в состояние <span class="Term">Истина</span>
следующие стандартные команды станут недоступны (в том числе и при попытке
использовать для вызова этих команд сочетания клавиш):</p>

<p class="MsoListBullet">&#9679; 
Для всех форм:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Восстановить параметры</span>.</p>

<p class="MsoListBullet">&#9679; 
Для табличного поля:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Добавить</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Скопировать</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Удалить</span>.</p>

<p class="MsoListBullet">&#9679; 
Для расширения формы объекта, записи регистра
сведений, константы:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Записать</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Записать и закрыть</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Провести</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Провести и закрыть</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Отменить проведение</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Старт</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Выполнено</span>.</p>

<p class="MsoListBullet">&#9679; 
Для расширения формы выбора/настроек:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Завершить редактирование</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Выбрать настройки</span>.</p>

<p class="MsoListBullet">&#9679; 
Для расширения табличного поля для динамического
списка:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Пометить на удаление</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Провести</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Отменить проведение</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Создать группу</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Переместить в группу</span>.</p>

<p class="MsoListBullet">&#9679; 
Для расширения табличного поля для списка
значений:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Изменить</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Переместить вверх</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Переместить вниз</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Сортировать
по убыванию</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Сортировать
по возрастанию</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Подбор</span>.</p>

<p class="MsoListBullet">&#9679; 
Все команды изменения следующих коллекций
системы компоновки данных:</p>

<p class="MsoListBullet2">&#9679; 
коллекций настроек,</p>

<p class="MsoListBullet2">&#9679; 
коллекций доступных полей.</p>

<p class="MsoListBullet">&#9679; 
Для расширения табличного поля для <span class="Term">ДанныеФормыКоллекция</span>, <span class="Term">ДанныеФормыДерево</span>, <span class="Term">ДанныеФормыСтруктураИКоллекция</span>:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Изменить</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Переместить вверх</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Переместить вниз</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Сортировать
по убыванию</span>,</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Сортировать
по возрастанию</span>.</p>

<p class="MsoNormal">Также
будут недоступны элементы формы, связанные с этими командами.</p>

<p class="MsoNormal">Если для
формы установлено свойство <span class="Interface">Только просмотр</span> и основным реквизитом формы
является динамический список, то все таблицы, связанные с этим списком,
также перейдут в режим просмотра. Кроме того, если заполнено свойство <span class="Interface">Список групп</span>,
то элемент формы, указанный в этом свойстве, также перейдет в режим
просмотра. При этом свойство элементов формы <span class="Interface">Только просмотр</span> не будет изменено.</p>

<a name="_toc420398520"></a><a name="_ref414549604"></a><a name="_ref414549603"></a><a name="_ref341871153"></a><a name="_ref341871152"></a><a name="_ref329019650"></a><a name="_ref329019649"></a><a name="_ref310422541"></a><a name="_ref310422540"></a><a name="_toc298859904"></a><a name="_ref253572301"></a><a name="_toc237692851"></a><span class="Hidden"></span><span class="Hidden"></span><a name="_toc164776114"></a><a id="TI000000416" class="bookmark" name="issogl2_7.7.4_поле"><h3>7.7.4. Поле</h3></a>

<a name="_ref452563445"></a><a id="TI000001764" class="bookmark" name="issogl3_7.7.4.1_общая_информация"><h4>7.7.4.1. Общая информация</h4></a>

<p class="MsoNormal">Элемент формы <span class="Interface">Поле</span>
предназначен для отображения и редактирования какого-либо реквизита формы.
Поле формы может быть нескольких видов:</p>

<p class="MsoListBullet">&#9679; 
поле ввода,</p>

<p class="MsoListBullet">&#9679; 
поле надписи,</p>

<p class="MsoListBullet">&#9679; 
поле флажка,</p>

<p class="MsoListBullet">&#9679; 
поле картинки,</p>

<p class="MsoListBullet">&#9679; 
поле переключателя,</p>

<p class="MsoListBullet">&#9679; 
поле текстового документа,</p>

<p class="MsoListBullet">&#9679; 
поле табличного документа (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref480457964">здесь</a>),</p>

<p class="MsoListBullet">&#9679; 
поле календаря,</p>

<p class="MsoListBullet">&#9679; 
поле индикатора,</p>

<p class="MsoListBullet">&#9679; 
поле полосы регулирования,</p>

<p class="MsoListBullet">&#9679; 
поле диаграммы (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref437342774">здесь</a>),</p>

<p class="MsoListBullet">&#9679; 
поле диаграммы Ганта (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref437342801">здесь</a>),</p>

<p class="MsoListBullet">&#9679; 
поле дендрограммы (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref437342813">здесь</a>),</p>

<p class="MsoListBullet">&#9679; 
поле графической схемы,</p>

<p class="MsoListBullet">&#9679; 
поле географической схемы,</p>

<p class="MsoListBullet">&#9679; 
поле HTML-документа (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref88654401">здесь</a>),</p>

<p class="MsoListBullet">&#9679; 
поле форматированного документа (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref414546361">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
поле планировщика (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref389752968">здесь</a>);</p>

<p class="MsoListBullet">&#9679; 
поле PDF-документа (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref88654418">здесь</a>).</p>

<p class="MsoNormal">Если поле является
подчиненным элементом для элемента формы <span class="Interface">Таблица</span>, то оно может принимать следующие типы:</p>

<p class="MsoListBullet">&#9679; 
поле ввода,</p>

<p class="MsoListBullet">&#9679; 
поле картинки,</p>

<p class="MsoListBullet">&#9679; 
поле надписи,</p>

<p class="MsoListBullet">&#9679; 
поле флажка.</p>

<p class="MsoNormal">Для того
чтобы разместить на форме элемент формы, необходимо создать реквизит формы
нужного типа (или выбрать уже существующий реквизит формы), который может
отображаться с помощью поля формы и перетащить его в дерево
элементов формы. Редактор формы создаст элемент формы нужного вида.
Альтернативным способом создания служит создание поля формы вручную. Затем, для
созданного элемента будет необходимо указать отображаемые данные (реквизит
формы) и вид элемента формы (если это необходимо).</p>

<p class="MsoNormal">Свойство
поля ввода <span class="Interface">Подсказка ввода</span> позволяет указывать подсказку, которая
будет формироваться непосредственно «внутри» поля ввода, если выполняются
следующие условия:</p>

<p class="MsoListBullet">&#9679; 
Тип связанного реквизита не является типом <span class="Term">Число</span> или <span class="Term">Дата</span>.</p>

<p class="MsoListBullet">&#9679; 
Значение связанного реквизита не содержит
значение по умолчанию для данного типа.</p>

<p class="MsoNormal">Если поле ввода
отображает данные типа <span class="Term">СписокЗначений</span>,
то форма редактирования списка значений, открываемая из такого поля,
получает от поля ввода следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Маска</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ФормаВыбора</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ФорматРедактирования</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">БыстрыйВыбор</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ВыборГруппИЭлементов</span>;</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПараметрыВыбора</span> (дополненное значениями,
в соответствии со свойством <span class="Term">СвязиПараметровВыбора</span>);</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">СвязьПоТипу</span> &#8209; передача
ограничения типа выполняетися только для случая редактирования элемента отбора
компоновки данных; если это свойство задано у поля ввода, редактирующего
правое значение в котором содержится <span class="Term">СписокЗначений</span>,
то, это ограничение типа устанавливается списку значений.</p>

<p class="MsoNormal">Поле ввода будет
игнорировать свойство <span class="Term">ЦветФона</span>
в том случае, если для этого поля свойство <span class="Term">Доступность</span>
установлено в значение <span class="Term">Ложь</span>
или свойство <span class="Term">ТолькоПросмотр</span>
установлено в значение <span class="Term">Истина</span>.</p>

<a name="_ref437345741"></a><a id="TI000001765" class="bookmark" name="issogl3_7.7.4.2_обновление_отображаемых_данных"><h4>7.7.4.2. Обновление отображаемых данных</h4></a>

<p class="MsoNormal">При работе
с полем ввода следует помнить об особенности, связанной с изменением
данных формы или ее (формы) структуры во время работы с данными поля
ввода. Особенность заключается в нежелательном обновлении данных
в поле ввода, которое происходит при выполнении следующих условий:</p>

<p class="MsoListBullet">&#9679; 
В поле ввода находятся данные, которые не
зафиксированы в реквизите формы, связанного с полем ввода. Например,
при вводе текста.</p>

<p class="MsoListBullet">&#9679; 
В это время срабатывает обработчик ожидания или
внешнего события.</p>

<p class="MsoListBullet">&#9679; 
В обработчике события изменяются данные формы
или состав элементов формы.</p>

<p class="MsoNormal">В описанном случае
текст, отображаемый полем ввода, будет заменен представлением тех данных,
которые получены в данных формы после завершения контекстного вызова.
Изменить такое поведение можно несколькими способами.</p>

<div>

<p class="Lang-parameter">Свойство
ОбновлениеТекстаРедактирования</p>

</div>

<p class="MsoNormal">Если
в вышеописанной ситуации необходимо заблокировать изменение только одного
(или небольшого количества) поля ввода, то такую блокировку можно установить
с помощью свойства поля ввода <span class="Term">ОбновлениеТекстаРедактирования</span>.
Если установить это свойство в значение <span class="Term">ПриИзмененииЗначения</span>,
то содержимое поля ввода будет обновляться только в том случае, когда
в связанный реквизит формы будет помещено значение, отличающееся
от текущего значения реквизита. Если свойство <span class="Term">ОбновлениеТекстаРедактирования</span> поля ввода
установить в значение <span class="Term">Никогда</span>,
то текст в поле ввода не будет изменяться даже при изменении значения
связанного реквизита.</p>

<div>

<p class="Lang-parameter">Метод
ОбновитьОтображениеДанных()</p>

</div>

<p class="MsoNormal">Если
в вышеописанной ситуации присутствует обратная ситуация: требуется
обновить только ограниченное количество полей, а остальные поля оставить
без изменения, то для обновления можно использовать метод <span class="Term">ОбновитьОтображениеДанных()</span>, указав
в качестве параметра метода список полей формы, которые следует обновить.
Если параметр задан, то установка значений и обновление отображаемой
информации будет выполняться только для указанного поля (или списка полей).
Если в качестве параметра передан пустой массив, то установка значений не
будет выполняться для всех элементов управляемой формы.</p>

<p class="MsoNormal">Параметрами
метода могут выступать только следующие элементы формы: <span class="Term">ГруппаФормы</span>, <span class="Term">ТаблицаФормы</span>,
<span class="Term">ПолеФормы</span>.</p>

<p class="MsoNormal">Использование
метода <span class="Term">ОбновитьОтображениеДанных()</span>
имеет смысл только в следующих случаях:</p>

<p class="MsoListBullet">&#9679; 
из обработчика внешнего события;</p>

<p class="MsoListBullet">&#9679; 
обработчика ожидания формы;</p>

<p class="MsoListBullet">&#9679; 
обработчика оповещения.</p>

<p class="MsoNormal">В
обработчиках других событий поведение не изменяется: будут установлены значения
(и, как следствие, обновлено отображение данных) для всех элементов управляемой
формы (в веб-клиенте &#8209; только те
значения, которые отличаются от текущих данных формы).</p>

<p class="MsoNormal">В качестве
примера использования такого способа обновления данных можно привести следующий
вариант использования: в поле ввода вводится данные, идентифицирующие
контрагента. В обработчике ожидания выполняется проверка данных этого
контрагента, и изменяются некоторые элементы формы, отображающие результат
проверки. В этом случае рекомендуется в обработчике ожидания использовать
метод <span class="Term">ОбновитьОтображениеДанных()</span>
указав в качестве списка параметров элементы, связанные
с результатами проверки. Остальные элементы формы обновлены не будут.
Также следует помнить, что вызов контекстного серверного вызова, изменяющего
данные формы, в обработчике ожидания однозначно приведет к изменению
всех данных формы, кроме элементов с измененным значением свойства <span class="Term">ОбновлениеТекстаРедактирования</span>.</p>

<a name="_ref19548741"></a><a id="TI000002226" class="bookmark" name="issogl3_7.7.4.3_данные_и_представление"><h4>7.7.4.3. Данные и представление</h4></a>

<p class="MsoNormal">Данные реквизитов формы могут отображаться
в таблице формы и непосредственно элементами формы. В таблице могут
отображаться только данные, которые отображаются в данных формы
в какую-либо коллекцию. В форме клиентского приложения, в общем
случае, действует следующее правило: на форме отображается представление
данных, которые размещены в реквизите формы, который указан
в качестве источника данных для элемента формы (с точностью до вида
элемента формы). Когда поле формы отображает значение ссылочного типа, то не
рекомендуется устанавливать для такого поля свойство <span class="Term">МногострочныйРежим</span>
в значение <span class="Term">Истина</span>.
Значения ссылочного типа рекомендуется отображать в обычном поле,
а для отображения представления объекта рекомендуется использовать другие
способы, например, отдельное поле надписи.</p>

<p class="MsoNormal">Если данные отображаются полем формы
и у поля ввода установлен флажок <span class="Interface">Режим выбора из списка</span>,
то на представление данных влияет список выбора. В этом случае поле формы
отображает не представление данных, а колонку <span class="Interface">Представление</span>
из списка выбора (если в списке выбора есть данные, которые сейчас
находятся в реквизите). Если данные отображаются таблицей, то список
выбора не используется. Представление в ячейке таблицы <span class="Bold">всегда</span> будет использовать представление данных,
записанных в отображаемом поле текущей строки таблицы.</p>

<p class="MsoNormal">Такое поведение обусловлено тем, что каждая
строка таблицы может иметь собственный список выбора. Но поле ввода для строки
таблицы образуется в момент начала редактирования, а значит, при
отображении таблицы форма «не знает», какой список выбора будет использован для
отображения того или иного значения.</p>

<p class="MsoNormal">В результате вышесказанного, при отображении
и редактировании данных в таблице наблюдается следующее поведение:</p>

<p class="MsoListBullet">&#9679; 
Данные отображаются своим представлением.</p>

<p class="MsoListBullet">&#9679; 
При входе в режим редактирования ячейки,
в поле ввода начинает работать представление, использующее список выбора,
если у поля ввода установлен режим выбора из списка.</p>

<p class="MsoListBullet">&#9679; 
После окончания редактирования данные опять
отображаются своим представлением (без учета списка выбора).</p>

<p class="MsoNormal">Возможно несколько
вариантов управления отображением данных в таблице формы:</p>

<p class="MsoListBullet">&#9679; 
Использовать условное оформление формы.</p>

<p class="MsoListBullet">&#9679; 
Использовать для редактирования нужной колонки
отдельное поле ввода формы, указывая для него актуальный список выбора при
смене строки таблицы.</p>

<a id="TI000001766" class="bookmark" name="issogl3_7.7.4.4_предупреждение_при_редактировании"><h4>7.7.4.4. Предупреждение при редактировании</h4></a>

<p class="MsoNormal">Если
в поле ввода формы редактируется реквизит, который заполняется
автоматически, но, тем не менее, может заполняться вручную (в крайне редких
случаях), то такое поведение можно реализовать с помощью свойств поля
ввода <span class="Interface">Отображение
предупреждения при редактировании</span> и <span class="Interface">Предупреждение при редактировании</span>.
Если значение свойства <span class="Interface">Отображение предупреждения при редактировании</span> равно <span class="Interface">Отображать</span>, то
при попытке начать редактирование поля «1С:Предприятие» выдаст предупреждение,
которое состоит либо из строки, указанной в свойстве <span class="Interface">Предупреждение при
редактировании</span>, либо формируется автоматически.</p>

<p class="MsoNormal">Для
стандартных полей <span class="Term">Код</span>
и <span class="Term">Номер</span> (для
объектов с автоматической нумерацией) автоматическая строка предупреждения
будет выглядеть как <span class="Interface">Номер заполняется при записи автоматически</span>, а для
остальных полей автоматическая строка будет выглядеть как <span class="Interface">Редактирование поля "Имя
поля" не рекомендуется</span>. Если значение свойства <span class="Interface">Отображение
предупреждения при редактировании</span> равно <span class="Interface">Авто</span>, то для стандартных реквизитов
<span class="Term">Код</span> и <span class="Term">Номер</span> будет использоваться значение <span class="Interface">Отображать</span>,
а для остальных полей &#8209; <span class="Interface">Не отображать</span>.
Свойство <span class="Interface">Отображение
предупреждения при редактировании</span> также оказывает влияние
на свойство поля ввода <span class="Interface">Пропускать при вводе</span>. Если значение свойства <span class="Interface">Пропускать при вводе</span>
равно <span class="Interface">Авто</span>,
то поле будет пропускаться при вводе в том случае, если значение свойства <span class="Interface">Отображение
предупреждения при редактировании</span> равно <span class="Interface">Отображать</span> (или <span class="Interface">Авто</span> для
стандартных полей <span class="Term">Код</span>
и <span class="Term">Номер</span>).</p>

<a id="TI000001767" class="bookmark" name="issogl3_7.7.4.5_отметка_незаполненного"><h4>7.7.4.5. Отметка незаполненного</h4></a>

<p class="MsoNormal">Если свойство <span class="Term">АвтоОтметкаНезаполненного</span> поля ввода
установлено в значение <span class="Term">Истина</span>,
то свойство этого поля <span class="Term">ОтметкаНезаполненного</span>
будет автоматически актуализироваться при передаче значения из реквизита
в поле ввода.</p>

<a name="_ref1982412"></a><a id="TI000001768" class="bookmark" name="issogl3_7.7.4.6_отображение_переключателя_и_флажка"><h4>7.7.4.6. Отображение переключателя и флажка</h4></a>

<p class="MsoNormal">Если вставляется
поле вида <span class="Interface">Поле переключателя</span>, то для него необходимо задать
свойство элемента формы <span class="Interface">Список выбора</span>, который определяет количество
и значения переключателей. По умолчанию используется горизонтальное
расположение переключателей. Для того чтобы расположить их по вертикали,
необходимо изменить значение свойства <span class="Interface">Количество колонок</span>. В том случае, если количество
колонок установлено в значение 0, то система может расположить элементы
переключателя в несколько строк, подбирая количество элементов
переключателя в строке, исходя из свободного места на форме.
Подбор выполняется не динамически, а в момент создания формы.</p>

<p class="Regularbeforepicture">Для
полей вида <span class="Interface">Поле флажка</span> и <span class="Interface">Поле переключателя</span> существует
возможность указывать вид отображения. Для поля флажка это делается
с помощью свойства <span class="Interface">Вид флажка</span>. Для поля флажка можно выбрать представление
в виде тумблера, выключателя или флажка.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:280/92" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00319.gif" width="280" alt="" height="92"></p>

<p class="MsoCaption"><a name="_ref145577836">Рис. </a>321. Виды флажка</p>

<p class="Regularbeforepicture">На
<a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577836">рис.321</a> представлены различные варианты отображения поля
флажка. Каждый вид флажка описан в заголовке каждой строки.</p>

<p class="Regularbeforepicture">Поле
формы вида поле перелючателя переключателя может отображаться в виде
тумблера или в виде переключателя с помощью свойства <span class="Interface">Вид переключателя</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:480/71" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00320.gif" width="480" alt="" height="71"></p>

<p class="MsoCaption"><a name="_ref145577847">Рис. </a>322. Виды
переключателя</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577847">рис.322</a> представлены различные варианты отображения поля переключателя.
В верхней части рисунка поле переключателя представлено в виде тумблера,
а в нижней &#8209; в виде
переключателя.</p>

<a id="TI000001769" class="bookmark" name="issogl3_7.7.4.7_редактирование_стандартных_периодов_и_дат"><h4>7.7.4.7. Редактирование стандартных периодов и дат</h4></a>

<p class="MsoNormal">Для реквизита формы
типа <span class="Term">СтандартныйПериод</span>
или <span class="Term">СтандартнаяДатаНачала</span>
существуют два способа редактирования:</p>

<p class="MsoListBullet">&#9679; 
С использованием одного поля формы. В этом
случае можно разместить на форме поле, связанное непосредственно
с редактируемым реквизитом. Тогда все редактирование будет выполняться
именно в этом поле.</p>

<p class="MsoListBullet">&#9679; 
С использованием нескольких полей. При этом
можно разместить на форме поля, связанные со свойствами реквизита. В этом
случае разработчик может сам реализовывать необходимую логику взаимодействия
варианта стандартного периода и значений дат.</p>

<a name="_ref114227441"></a><a id="TI000002638" class="bookmark" name="issogl3_7.7.4.8_контекстное_меню_поля_ввода"><h4>7.7.4.8. Контекстное меню поля ввода</h4></a>

<p class="MsoNormal">Поле ввода является наиболее используемым
элементом формы клиентского приложения. Поле предоставляет различные возможности
по управлению своим поведением, включая возможность создания уникального
контекстного меню, которое формируется в редакторе формы. Однако,
у такого контекстного меню есть существенный недостаток &#8209; оно
статично, т. е. не зависит от содержимого поля формы или каких-то
других параметров. Для создания управляемого контекстного меню предназначен обработчик
события поля формы клиентского приложения <span class="Term">ОбработкаФормированияКоманд</span>.
Обработчик вызывается в тот момент, когда пользователь нажимает правую
кнопку мыши (или специальную кнопку на клавиатуре), когда курсор находится
в поле ввода.</p>

<p class="MsoNormal">Система предоставляет в обработчик
следующую информацию:</p>

<p class="MsoListBullet">&#9679; 
В каком элементе формы будет формироваться
контекстное меню &#8209; параметр <span class="Term">Элемент</span>.</p>

<p class="MsoListBullet">&#9679; 
В какой части поля ввода инициируется создание
контекстного меню &#8209; параметр <span class="Term">ПараметрыКоманд</span>.</p>

<p class="MsoListBullet">&#9679; 
Текущее наполнение контекстного меню &#8209; параметр <span class="Term">Команды</span>.
Сразу отметим, что контекстное меню, которое задается с помощью редактора
формы, не может быть отредактировано с помощью этого обработчика события.</p>

<p class="MsoNormal">Параметр <span class="Term">Параметры</span> содержит объект <span class="Term">ПараметрыФормированияКомандПоляВвода</span>.
«Ведущим» свойством объекта является свойство <span class="Term">Источник</span>.
Это свойство определяет, для какой части поля ввода формируется контекстное
меню (значение типа системного перечисления <span class="Term">ИсточникКомандПоляВвода</span>):</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ОбластьВвода</span> &#8209; контекстное
меню формируется в «обычной» части поля ввода. Если быть совсем точным, то
это та часть поля ввода, которая не занята отображением элементом связанной
коллекции (подробнее см. стр. ).</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">МножественноеЗначение</span> &#8209; контекстное меню формируется над каким-либо
из элементов коллекции, которая связана с полем ввода. В этом случае
свойство <span class="Term">Идентификатор</span>
объекта <span class="Term">ПараметрыФормированияКомандПоляВвода</span>
укажет разработчику, «над» каким именно элементом коллекции формируется
контекстное меню. Следует понимать, что полученный не является индексом
коллекции. Для получения элемента, для которого формируется контекстное меню,
следует использовать метод коллекции <span class="Term">НайтиПоИдентификатору()</span>.</p>

<p class="Regularbeforetable">В
параметре <span class="Term">Команд</span>ы
обработчика события <span class="Term">ОбработкаФормированияКоманд</span>
система «1С:Предприятие» передаст контекстное меню, заполненное
по умолчанию. Это меню состоит из массива объектов <span class="Term">ОписаниеКомандыПоляВвода</span>, который обладает
следующими свойствами:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Свойство</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Доступность</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Тип: <span class="Term">Булево</span>.
  Определяет, доступна данная команда в текущий момент или нет.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Картинка</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Тип: <span class="Term">Картинка</span>.
  Содержит картинку, которая будет отображаться перед командой.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Команда</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Данное свойство описывает собственно
  команду, которая будет исполняться в том случае, когда пользователь
  будет выбирать этот пункт контекстного меню. Команда может быть указана
  следующими способами:</p>
  <p class="MsoListBullet">&#9679; 
  <span class="Term">Неопределено</span> &#8209;
  будет отображать горизонтальный разделитель меню.</p>
  <p class="MsoListBullet">&#9679; 
  Значение системного перечисления <span class="Term">СтандартнаяКомандаПоляВвода</span> &#8209; позволяет указать одну из стандартных команд
  поля ввода. В этом случае остальные свойства объекта <span class="Term">ОписаниеКомандыПоляВвода</span> игнорируются,
  а параметры отображения стандартной команды будут предоставлены
  системой.</p>
  <p class="MsoListBullet">&#9679; 
  Значение типа <span class="Term">ОписаниеОповещения</span> &#8209; позволяет указать команду, реализованную
  на встроенном языке.</p>
  <p class="MsoListBullet">&#9679; 
  Значение типа <span class="Term">Массив</span> &#8209; в этом случае в контекстном меню будет
  сформировано подменю. Состав подменю определяется аналогично самому
  контекстному меню.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Пометка</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Тип: <span class="Term">Булево</span>.
  Позволяет реализовать отметку пункта меню. Отметка будет реализована
  в виде флажка у левой границы контекстного меню.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Представление</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Тип: <span class="Term">Строка</span>.
  Данное свойство содержит представление команды контекстного меню.</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">В том
случае, если поле ввода содержит контекстное меню, которое задано
в редакторе формы, то это меню будет безусловно добавлено в конец
контекстного меню, которое получено после выхода из обработчика <span class="Term">ОбработкаФормированияКоманд</span>.</p>

<p class="MsoNormal">Рассмотрим
пример, в котором мы будем отбрасывать действия по умолчанию (которые
предлагаются системой) и вместо них формировать контекстное меню
из следующих команд: копировать, вставить и очистить поле ввода.
Допустим, что поле будет отображать значение типа <span class="Term">Строка</span> и элемент формы будет называться <span class="Term">ЭлементСтрока</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ЭлементСтрокаОбработкаФормированияКоманд<span class="operator">(</span>Элемент<span class="operator">,</span> ПараметрыКоманд<span class="operator">,</span> Команды<span class="operator">)</span>
    Команды<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    Команды<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> ОписаниеКомандыПоляВвода<span class="operator">(</span>СтандартнаяКомандаПоляВвода<span class="operator">.</span>Копировать<span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Команды<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> ОписаниеКомандыПоляВвода<span class="operator">(</span>СтандартнаяКомандаПоляВвода<span class="operator">.</span>Вставить<span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Команды<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> ОписаниеКомандыПоляВвода<span class="operator">(</span>СтандартнаяКомандаПоляВвода<span class="operator">.</span>Очистить<span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Теперь рассмотрим
рамочный пример формирования контекстного меню в зависимости от того,
на каком элементе формируется контекстное меню:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> РеквизитСписокОбработкаФормированияКоманд<span class="operator">(</span>Элемент<span class="operator">,</span> ПараметрыКоманд<span class="operator">,</span> Команды<span class="operator">)</span>
    <span class="keyword">Если</span> ПараметрыКоманд<span class="operator">.</span>Источник <span class="operator">=</span> ИсточникКомандПоляВвода<span class="operator">.</span>МножественноеЗначение <span class="keyword">Тогда</span>
        ТекущийЭлемент <span class="operator">=</span> РеквизитСписок<span class="operator">.</span>НайтиПоИдентификатору<span class="operator">(</span>ПараметрыКоманд<span class="operator">.</span>Идентификатор<span class="operator">;</span>
        <span class="comment">// здесь можно сформировать контекстное меню, зависящее от</span>
        <span class="comment">// значения элемента, на котором формируется контекстное меню</span>
    <span class="keyword">ИначеЕсли</span> ПараметрыКоманд<span class="operator">.</span>Источник <span class="operator">=</span> ИсточникКомандПоляВвода<span class="operator">.</span>ОбластьВвода <span class="keyword">Тогда</span>
        <span class="comment">// здесь можно сформировать контекстное меню, которое формируется</span>
        <span class="comment">// в той части поля ввода, в которой пользователь вводит символы</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Логика работы
примера проста:</p>

<p class="MsoListBullet">&#9679; 
Вначале определяется, где формируется
контекстное меню &#8209; в области
ввода или на каком-то элементе, отображаемым полем ввода.</p>

<p class="MsoListBullet">&#9679; 
Если контекстное меню формируется для элемента,
то получается этот элемент и дальше можно формировать меню
в зависимости от этого элемента. Например, добавить вызов какого-либо
отчета.</p>

<a name="_ref480457964"></a><a id="TI000001919" class="bookmark" name="issogl3_7.7.4.9_поле_табличного_документа"><h4>7.7.4.9. Поле табличного документа</h4></a>

<p class="MsoNormal">Для расширения поля
управляемой формы для табличного документа предоставляются возможности
по специальной настройке его представления:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Отображение выделения</span> &#8209; позволяет управлять способом отображения выделения
в табличном документе:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Всегда</span> &#8209; выделение будет отображаться всегда, в том
числе и в том случае, если поле табличного документа не активно. Это
значение устанавливается по умолчанию.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">При активности</span> &#8209; выделение будет отображаться только в том
случае, если поле табличного документа активно.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Не отображать</span> &#8209; выделение не будет отображаться никогда.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">При выделении нескольких
ячеек</span> &#8209; выделение отображается
в том случае, если оно (выделение) состоит более чем из одной ячейки
табличного документа.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">При выделении нескольких
ячеек при активности</span> &#8209; выделение будет
отображаться в том случае, если выделение состоит более чем из одной
ячейки и поле табличного документа активно.</p>

<p class="Indentlist">Поведение клавиш
управления курсором в расширения поля управляемой формы для табличного
документа зависит от значения свойства <span class="Interface">Отображение выделения</span>. Когда данное
свойство установлено в значение <span class="Interface">Не показывать</span>, то клавиши управления курсором выполняют
функцию прокрутки табличного документа в направлении стрелок. Когда свойство
установлено в одно из значений <span class="Interface">При выделении нескольких ...</span>, то при нажатой клавише <span class="Interface">Shift</span> клавиши управления курсором
изменяют размер выделения, а без нажатой клавиши <span class="Interface">Shift</span> выполняют прокрутку
табличного документа в направлении стрелок (без снятия выделения области).</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Вертикальная</span>/<span class="Interface">Горизонтальная полоса
прокрутки</span> &#8209; позволяет
управлять наличием полос прокрутки у табличного документа:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Не использовать</span> &#8209; полосы прокрутки не будут использоваться.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Использовать всегда</span> &#8209; полосы прокрутки всегда присутствуют в табличном
документе.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Использовать автоматически</span> &#8209; полосы прокрутки используются в табличном
документе только тогда, когда содержимое табличного документа
по соответствующему измерению не помещается в видимой области. Это
значение устанавливается по умолчанию.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Тип курсоров</span> &#8209; позволяет управлять видом курсора мыши, который
находится над табличным документом:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Специальные</span> &#8209; курсор мыши изменяется в зависимости
от того, над какой областью табличного документа курсор находится. Это
значение устанавливается по умолчанию.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Обычные</span> &#8209; курсор мыши всегда имеет вид стандартного курсора
(«стрелочка»).</p>

<a name="_toc298859905"></a><a name="_toc237692852"></a><a name="_ref88654401"></a><a id="TI000001213" class="bookmark" name="issogl3_7.7.4.10_поле_html-документа"><h4>7.7.4.10. Поле HTML-документа</h4></a>

<p class="MsoNormal">Для того чтобы разместить на форме поле
HTML-документа, необходимо создать реквизит формы типа <span class="Term">Строка</span>,
затем создать поле ввода вида <span class="Interface">Поле </span><span class="Interface">HTML документа</span>
и указать созданный реквизит в качестве данных для этого поля. В
качестве значения реквизита формы может выступать навигационная ссылка или
текст HTML-документа.</p>

<p class="MsoNormal">Для
работы с HTML во всех операционных системах используется WebKit, начиная с «1С:Предприятия» версии
8.3.14 (и режима совместимости <span class="Interface">Версия 8.3.14</span> и последующих).</p>

<p class="MsoNormal">Следует
учитывать, что при использовании поля HTML-документа может не обеспечиваться поддержка
всей функциональности HTML. Также следует принимать во внимание тот факт,
что работа в веб-клиенте может накладывать дополнительные ограничения,
которые могут различаться в веб-браузерах разных производителей или
версий.</p>

<p class="MsoNormal">При
работе с HTML следует учитывать следующие особенности:</p>

<p class="MsoListBullet">&#9679; 
Отображение HTML-документа
в различных операционных системах может различаться.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживаются скрипты с состоянием
(переменные, хранящие значения, необходимые в различных обработчиках событий).</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается работа с языком разметки SVG (кроме отображения
картинок).</p>

<p class="MsoListBullet">&#9679; 
Не поддерживается свойство HTML-документа <span class="Term">parentWindow</span>.</p>

<p class="MsoListBullet">&#9679; 
Не поддерживаются переходы по ссылке внутри
отображаемой страницы</p>

<p class="MsoListBullet">&#9679; 
При доступе к DOM-модели HTML-документа с помощью
свойства <span class="Term">Поле</span><span class="Term">HTML</span><span class="Term">Документа.Документ</span>
следует использовать только те свойства и методы, которые доступы во всех
веб-браузерах, поддерживаемых системой «1С:Предприятие».</p>

<p class="MsoListBullet">&#9679; 
При использовании поля HTML-документа для загрузки
в него стороннего сайта необходимо учитывать, что сайт может запретить
встраивать себя в <span class="Term">iframe</span>, используя заголовок ответа <span class="Term">X</span><span class="Term">-</span><span class="Term">Frame</span><span class="Term">-</span><span class="Term">Options</span><span class="Term">: </span><span class="Term">DENY</span>. В таком случае в веб-клиенте
такой сайт не будет отображен в поле HTML-документа.</p>

<a name="_ref88654418"></a><a name="_ref85190951"></a><a id="TI000002587" class="bookmark" name="issogl3_7.7.4.11_поле_документа_pdf"><h4>7.7.4.11. Поле документа PDF</h4></a>

<p class="MsoNormal">Для того, чтобы отобразить на форме PDF-документ, необходимо
выполнить следующие действия:</p>

<p class="List1">1.  Создать
реквизит формы типа <span class="Term">Документ</span><span class="Term">PDF</span>.</p>

<p class="MsoListNumberCxSpLast">2. 
Создать поле формы вида <span class="Interface">Поле </span><span class="Interface">PDF документа</span>
и указать в качестве данных реквизит, созданный на предыдущем
шаге.</p>

<p class="MsoNormal">Работа с реквизитом формы выполняется
с помощью методов реквизита. Методы полностью аналогичны методам объекта <span class="Term">Документ</span><span class="Term">PDF</span>. Командная панель для управления
полем PDF-документа создается обычным образом.</p>

<p class="MsoNormal">У элемента формы, отображающего PDF-документ, имеется
обработчик события <span class="Term">НажатиеНаНавигационнойСсылке</span>. Этот обработчик
будет вызван в том случае, когда пользователь нажимает какую-либо
гиперссылку отображаемого PDF-документа. Разработчик может
проанализировать ссылку и принять решение &#8209; разрешать ее
открытие или это делать недопустимо.</p>

<p class="MsoNormal">Свойство <span class="Term">ИспользуемоеИмяФайла</span>
позволит разработчику заранее указать полный путь к файлу, в который
будет выполняться сохранение файл, открытого в поле формы, если
пользователь выберет команды сохранения файла. Команда <span class="Interface">Сохранить</span> будет пытаться сразу сохранить файл
по указанному пути (и имени), а команда <span class="Interface">Сохранить как</span> &#8209; откроет диалог
сохранения с предустановленным именем файла.</p>

<p class="Lang-subheader">Смотри также:</p>

<p class="MsoListBullet">&#9679; 
Состояние просмотра (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref85197898">здесь</a>).</p>

<a name="_ref114238548"></a><a id="TI000002639" class="bookmark" name="issogl3_7.7.4.12_работа_со_списковыми_данными_в_поле_ввода"><h4>7.7.4.12. Работа со списковыми данными в поле ввода</h4></a>

<a id="TI000002640" class="bookmark" name="issogl4_7.7.4.12.1_общая_информация"><h5>7.7.4.12.1. Общая информация</h5></a>

<p class="MsoNormal">В формах регулярно возникают ситуации, когда
необходимо в одном поле отобразить несколько значений, которые содержатся
в какой-либо коллекции. Например, в списке значений или колонке
таблицы значений. Одним из таких примеров является отображение нескольких
номеров телефонов или нескольких адресов электронной почты или какая-либо
похожая задача. Одним из вариантов решения этой задачи является размещение
на форме таблицы, которая и отображает значения коллекции. Однако
такой вариант несколько «раздувает» форму, особенно, если на форме
необходимо расположить несколько таких списков.</p>

<p class="MsoNormal">Другим вариантом служит поле ввода, которое
отображает список значений или колонку таблицы значений. В этом случае содержимое
связанной (с полем формы) коллекции отображается непосредственно внутри поля
ввода. Удаление и добавление значений в коллекцию также выполняется
из поля ввода. Этот вариант не требует столько пространства
по вертикали формы, но может требовать более широкого поля ввода. Такой
вариант будем называть <span class="Bold">полем ввода в режиме
множественного выбора значений</span>.</p>

<p class="Regularbeforepicture">На
следующей картинке изображен фрагмент формы, на которой список значений
(содержащий 4 значения) отображается обеими способами:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:786/221" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00321.gif" width="786" alt="" height="221"></p>

<p class="MsoCaption">Рис.
323. Сравнение отображений списка значений</p>

<p class="MsoNormal">На данной картинке ширина обоих элементов
формы одинакова, а высота таблицы со списком ограничена высотой собственно
изображения.</p>

<p class="MsoNormal">Из этой картинки видно, что в поле
ввода можно:</p>

<p class="MsoListBullet">&#9679; 
Вводить новые значения &#8209; курсор после четвертого элемента.</p>

<p class="MsoListBullet">&#9679; 
Удалять существующие значения &#8209; «крестики» у каждого элемента в поле
ввода.</p>

<p class="MsoListBullet">&#9679; 
Выделять несколько значений &#8209; выделены первый, второй и третий элементы.</p>

<p class="MsoListBullet">&#9679; 
Использовать стандартные кнопки ввода поля.</p>

<p class="MsoNormal">Поле
ввода может только отображать множественные значения или (в дополнение к отображению)
вводить множественные значения. Для того, чтобы поле ввода начало отображать
множественные значения, необходимо, чтобы в качестве данных поля ввода
выступал список значений или реквизит формы типа <span class="Term">ДанныеФормыКоллекция</span>. Возможность
редактирования множественных значений в поле ввода управляется свойством
элемента формы <span class="Interface">Расширенное редактирование множественных
значений</span> (<span class="Term">РасширенноеРедактированиеМножественныхЗначений</span>).
Если это свойство включено &#8209; редактирование в самом поле
доступно. Если свойство выключено &#8209; редактирование в поле
выключено, а для редактирования будет открываться отдельная форма
редактирования. Управлять тем, как поле формы будет отображать такие данные &#8209; нельзя.</p>

<p class="MsoNormal">Если
множественные значения не помещаются в область данных поля ввода
с полными представлениями, то выполняются следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Представления значений сокращаются
по стандартным правилам, с добавлением в конце символа
многоточия (…).</p>

<p class="MsoListBullet">&#9679; 
Если и сокращенные представления не
помещаются в область данных, то в поле ввода сохраняются сокращенные
представления, которые полностью помещаются в область данных поля ввода
вместе с кнопкой <span class="Interface">+</span><span class="Interface">N</span>, где <span class="Interface">N</span> &#8209; количество скрытых элементов (которые не
поместились в поле ввода).</p>

<p class="MsoNormal">При
этом поведение поля зависит от высоты, заданный для этого поля
в форме:</p>

<p class="MsoListBullet">&#9679; 
Высота поля равна 1 строке:</p>

<p class="MsoListBullet2">&#9679; 
Множественные значения размещаются в начале
области данных поля ввода. Ввод текста начинается правее последнего элемента.</p>

<p class="MsoListBullet2">&#9679; 
Область редактирования текста может сжиматься до
минимальной ширины в 3 символа.</p>

<p class="MsoListBullet2">&#9679; 
Если множественные значения не помещаются целиком,
появляется кнопка <span class="Interface">+</span><span class="Interface">N</span>.</p>

<p class="MsoListBullet">&#9679; 
Высота поля ввода равна 2 строкам:</p>

<p class="MsoListBullet2">&#9679; 
Нижняя строка всегда резервируется для ввода
текста.</p>

<p class="MsoListBullet2">&#9679; 
Верхняя строка резервируется для отображения
множественных значений.</p>

<p class="MsoListBullet2">&#9679; 
Если множественные значения не помещаются
целиком, появляется кнопка <span class="Interface">+</span><span class="Interface">N</span>.</p>

<p class="MsoListBullet">&#9679; 
Высота поля ввода более 2 строк:</p>

<p class="MsoListBullet2">&#9679; 
Нижняя строка всегда резервируется для ввода
текста.</p>

<p class="MsoListBullet2">&#9679; 
Верхние строки резервируются для отображения
множественных значений.</p>

<p class="MsoListBullet2">&#9679; 
Если множественные значения не помещаются
целиком, появляется кнопка <span class="Interface">+</span><span class="Interface">N</span>.</p>

<p class="MsoNormal">Если
пользователь нажмет кнопку <span class="Interface">+</span><span class="Interface">N</span>, то будут показаны все
значения, не поместившиеся в поле ввода. Для этого поле ввода изменит свои
размеры. После выполнения действия размеры вернутся к исходным.</p>

<p class="MsoNormal">Рассмотрим
различия в поведении поля ввода, которое отображает множественные значения,
в зависимости от состояния свойства <span class="Interface">Расширенное
редактирование множественных значений</span>:</p>

<p class="MsoListBullet">&#9679; 
Свойство включено:</p>

<p class="MsoListBullet2">&#9679; 
Включено по умолчанию для новых полей
ввода.</p>

<p class="MsoListBullet2">&#9679; 
Возможно редактирование данных непосредственно
в поле ввода.</p>

<p class="MsoListBullet">&#9679; 
Свойство выключено:</p>

<p class="MsoListBullet2">&#9679; 
Выключено по умолчанию, если поле формы
создано в предыдущих версиях.</p>

<p class="MsoListBullet2">&#9679; 
Редактирование непосредственно в поле ввода
не поддерживается (в том числе и удаление значений).</p>

<p class="MsoListBullet2">&#9679; 
Множественные значения можно выделить и скопировать
их представление в буфер обмена.</p>

<p class="MsoListBullet2">&#9679; 
Не поддерживается использование гиперссылки
множественного значения (и открытие значения нажатием на гиперссылку).</p>

<p class="MsoListBullet2">&#9679; 
Не поддерживаются свойства поля ввода, связанные
с редактированием множественных значений (в том числе и внутри
диалога редактирования множественных значений):</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">ГиперссылкаМножественныхЗначений</span>,</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">РазрешитьВводПустыхМножественныхЗначений</span>,</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">РазрешитьДублированиеМножественныхЗначений</span>,</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">ОтображатьФлажкиВВыпадающемСпискеПриВводеМножественныхЗначений</span>.</p>

<p class="MsoListBullet2">&#9679; 
Не поддерживаются события поля ввода, связанные
с редактированием множественных значений:</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">ДобавлениеМножественныхЗначений</span>.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">УдалениеМножественныхЗначений</span>.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">ОткрытиеМножественногоЗначения</span>.</p>

<p class="MsoListBullet3">&#9679; 
<span class="Term">ОбработкаНавигационнойСсылкиМножественногоЗначения</span>.</p>

<p class="MsoNormal">Для
оформления множественных значений (как в режиме отображения, так
и в режиме ввода) применяются следующие свойства и возможности:</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ЦветФонаМножественныхЗначений</span>.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ЦветТекстаМножественныхЗначений</span>.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ШрифтМножественныхЗначений</span>.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">РазмерКартинкиМножественногоЗначения</span>.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ФигураКартинкиМножественногоЗначения</span>.</p>

<p class="MsoListBullet">&#9679; 
Условное оформление формы для множественных
значений.</p>

<p class="MsoNormal">Добавление
значений в поле ввода зависит от возможности расширенного
редактирования множественных значений в поле ввода. Если такая возможность
выключена, то добавлять значения можно только через форму редактирования списка
значений, через собственную форму редактирования коллекции данных (которая
отображается полем ввода) или из встроенного языка. Если возможность
расширенного редактирования множественных значений включена, то становятся
доступными все возможности такого редактирования: добавление вводом, список
с флажками, множественный выбор в форме и т. д.</p>

<p class="MsoNormal">Поле
ввода в режиме редактирования множественных значений рекомендуется
использоваться для ввода каких-либо однотипных данных, например:</p>

<p class="MsoListBullet">&#9679; 
адреса электронной почты;</p>

<p class="MsoListBullet">&#9679; 
номера телефонов пользователя или контрагента;</p>

<p class="MsoListBullet">&#9679; 
редактирование отбора по списку
в системе компоновки данных;</p>

<p class="MsoListBullet">&#9679; 
установка категорий, множественных
характеристик, тэгов;</p>

<p class="MsoListBullet">&#9679; 
роли пользователя.</p>

<p class="MsoNormal">Рассмотрим
более подробно, каким образом можно настраивать поле ввода для отображения
и работы со списком значений или коллекцией данных формы.</p>

<a name="_ref113351818"></a><a id="TI000002641" class="bookmark" name="issogl4_7.7.4.12.2_простая_настройка_поля_ввода"><h5>7.7.4.12.2. Простая настройка поля ввода</h5></a>

<p class="MsoNormal">Для того, чтобы поле ввода стало отображать
данные списка в режиме множественного выбора значений необходимо
разместить на форме поле ввода и указать в качестве поля данных
реквизит типа <span class="Term">СписокЗначений</span>
или <span class="Term">ДанныеФормыКоллекция</span>. В
первом случае никаких дополнительных действий больше выполнять не требуется.
Поле сразу будет отображать всю необходимую информацию. Значения списка будут
отображаться соответствующими представлениями. Другими словами, в поле
ввода будет отображаться содержимое свойства <span class="Term">Представление</span>
для каждого элемента списка значений.</p>

<p class="MsoNormal">Таким образом, если отображаемый список
будет заполнен вот таким образом (<span class="Term">Список</span> &#8209; это
реквизит формы типа <span class="Term">СписокЗначений</span>):</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Список<span class="operator">.</span>Добавить<span class="operator">(</span><span class="number">1</span><span class="operator">,</span> <span class="string">"Первый элемент"</span><span class="operator">)</span><span class="operator">;</span>
Список<span class="operator">.</span>Добавить<span class="operator">(</span><span class="number">2</span><span class="operator">,</span> <span class="string">"Второй элемент"</span><span class="operator">)</span><span class="operator">;</span>
Список<span class="operator">.</span>Добавить<span class="operator">(</span><span class="number">3</span><span class="operator">,</span> <span class="string">"Третий элемент"</span><span class="operator">)</span><span class="operator">;</span>
Список<span class="operator">.</span>Добавить<span class="operator">(</span><span class="number">4</span><span class="operator">,</span> <span class="string">"Четвертый элемент"</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Regularbeforepicture">То
поле ввода будет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:705/41" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00322.gif" width="705" alt="" height="41"></p>

<p class="MsoCaption">Рис.
324. Отображение списка значений</p>

<p class="MsoNormal">Если отображается <span class="Term">ДанныеФормыКоллекция</span>,
то необходимо заполнить еще несколько свойств:</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ПутьКДаннымЗначенияМножественногоЗначения</span>
указывает колонку, в которой хранятся значения, которые показываются
в поле ввода. Если указать только это свойство, то в поле ввода будут
показываться представления значений (результат работы функции <span class="Term">Строка()</span> для каждого отображаемого значения).
Если не заполнить данное свойство &#8209; поле не будет отображаться на форме.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ПутьКДаннымПредставленияМножественногоЗначения</span>.
Это свойство следует указывать тогда, когда представление данных отличается
от представления соответствующего значения по умолчанию.</p>

<p class="Regularbeforetable">Допустим,
на форме есть реквизит <span class="Term">Таблица</span>, который имеет тип <span class="Term">(ТаблицаЗначений)</span> (<span class="Term">ДанныеФормыКоллекция</span>), который заполнен
следующими данными (заголовки колонок содержат имена колонок реквизита):</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>ЗначениеТаблицы</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>ПредставлениеТаблицы</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal">1</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Первый элемент</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">2</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Второй элемент</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">3</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Третий элемент</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal">4</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Четвертый элемент</p>
  </td>
  
 </tr>
</tbody></table>

<p class="Regularbeforepicture">Если
для поля ввода, отображающего этот реквизит, указать только значение свойства <span class="Term">ПутьКДаннымЗначенияМножественногоЗначения</span>,
указав там <span class="Term">Таблица.ЗначениеТаблицы</span>,
то поле будет выглядеть следующим образом (вверху &#8209; поле ввода, ниже &#8209; таблица формы):</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:719/234" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00323.gif" width="719" alt="" height="234"></p>

<p class="MsoCaption"><a name="_ref145577905">Рис. </a>325. Отображение
таблицы (без представлений)</p>

<p class="Regularbeforepicture">Если
для поля ввода заполнить и свойство <span class="Term">ПутьКДаннымПредставленияМножественногоЗначения</span>,
указав в этом свойстве <span class="Term">Таблица.ПредставлениеТаблицы</span>, то поле ввода
будет отображаться следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:720/230" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00324.gif" width="720" alt="" height="230"></p>

<p class="MsoCaption"><a name="_ref145577919">Рис. </a>326. Отображение
таблицы (с представлениями)</p>

<p class="MsoNormal">Как
видно, разница между двумя отображениями поля ввода заключается в том, что
на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577905">рис.325</a> поле ввода отображает сами значения, а на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577919">рис.326</a> &#8209; отображается содержимое колонки с представлениями
значений.</p>

<p class="MsoNormal">Для
того, чтобы стало возможно редактирование множественных значений в поле
ввода, необходимо, чтобы было включено свойство поля ввода <span class="Interface">Расширенное
редактирование множественных значений</span>. Теперь для того, чтобы ввести
какое-либо значение в список, достаточно ввести нужное значение
в свободную часть поля ввода и нажать клавишу <span class="Interface">ENTER</span>. Для управления возможностями
ввода служат два свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">РазрешитьВводПустыхМножественныхЗначений</span> &#8209; при пустой области ввода
разрешает пользователю нажатием ENTER вводить «пустые»
значения в отображаемый список.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">РазрешитьДублированиеМножественныхЗначений</span> &#8209; разрешает пользователю вводить значения, которые
уже есть в отображаемой коллекции.</p>

<p class="MsoNormal">Разрешающие
свойства (для пустых и повторяющихся значений) оказывают влияние также
и на системный диалог редактирования списка значений, который открывается
по нажатию кнопки просмотра в поле ввода. Однако, данные свойства
будут оказывать влияние на диалог редактирования списка значений только
в том случае, если для поля ввода включено расширенное редактирование
множественных значений.</p>

<p class="MsoNormal">Важно
понимать еще одну особенность работы поля ввода в режиме редактирования
множественных значений. Эта особенность касается типа значения. С полем ввода
связаны два типа значений: тип значения реквизита формы, который отображается
полем и тип значения колонки данных, которая используется в качестве
источника множественных значений. Под типом значения колонки понимается
значение свойства <span class="Interface">Тип значения</span> для реквизита формы <span class="Term">СписокЗначений</span> и тип колонки, которая
указана в качестве значения свойства <span class="Term">ПутьКДаннымЗначенияМножественногоЗначения</span> поля
ввода.</p>

<p class="MsoNormal">Если
тип реквизита формы будет составным (в том числе включая <span class="Term">СписокЗначений</span> или <span class="Term">ДанныеФормыКоллекция</span>), то режим редактирования
множественных значений в поле ввода будет недоступен. Если составной тип
будет у колонки данных, которая является источником множественных значений &#8209; то режим редактирования будет доступен, но
с особенностью: перед вводом каждого множественного значения будет
необходимо интерактивно активировать выбор типа вводимого значения (с помощью
кнопки <span class="Interface">F4</span>),
и потом ввести собственно значение. Однако, такой постоянный выбор типа
может мешать пользователю, например потому, что в конкретном поле ввода
тип вводимых значений известен и менять его не требуется или вовсе
запрещено. В этом случае можно ограничить тип значения, вводимого
в колонку данных, с помощью свойства поля ввода <span class="Term">ОграничениеТипа</span> или с помощью свойства
поля ввода <span class="Term">СвязьПоТипу</span>.</p>

<p class="MsoNormal">При
использовании свойства <span class="Term">ОграничениеТипа</span> тип вводимого множественного
значения определяется как пересечение описаний типов следующих свойств:</p>

<p class="MsoListBullet">&#9679; 
Для списка значений: состав типов реквизита
(свойство <span class="Interface">Тип значения</span> реквизита типа <span class="Term">СписокЗначений</span>) и состав типов, ограничивающий
типы поля ввода формы клиентского приложения из встроенного языка
(свойство поля ввода <span class="Term">ОграничениеТипа</span>).</p>

<p class="MsoListBullet">&#9679; 
Для типа <span class="Term">ДанныеФормыКоллекция</span>: состав типов колонки,
которая указана в свойстве поля ввода <span class="Term">ПутьКДаннымЗначенияМножественногоЗначения</span>
и состав типов, ограничивающий типы поля ввода в таблице формы
клиентского приложения из встроенного языка (свойство поля ввода <span class="Term">ОграничениеТипа</span>).</p>

<p class="MsoNormal">Если
в результате пересечения одной из вышеописанных комбинаций типов
получится простой тип &#8209; выбор
типа не будет требоваться при вводе значений.</p>

<p class="MsoNormal">Использование
свойства поля ввода <span class="Term">СвязьПоТипу</span>
может оказаться полезным в том случае, когда тип множественного значения
определяется каким-либо реквизитом данных и зависит от этих данных.
Например, есть реквизит, который определяет тип множественных значений
в данный момент времени. Этот реквизит необходимо указать в качестве
значения свойства поля ввода <span class="Term">СвязьПоТипу</span>. Если ограничивающий тип будет
простым, то пользователю не придется каждый раз выбирать нужный тип перед
вводом нового множественного значения. При этом необходимо помнить, что
изменение ограничивающего типа приведет к следующим действиям:</p>

<p class="MsoListBullet">&#9679; 
Если данные в поле ввода содержат
единственное значение &#8209; оно будет приведено к новому типу.</p>

<p class="MsoListBullet">&#9679; 
Если данные поля ввода содержат несколько
значений &#8209; они останутся неизменными.</p>

<p class="MsoNormal">Свойство
поля ввода <span class="Term">ПараметрыВыбора</span>
работают аналогично обычному полю ввода, но в том случае, если значения
параметров выбора изменяются, то:</p>

<p class="MsoListBullet">&#9679; 
Если данные в поле ввода содержат
единственное значение &#8209; оно будет очищено.</p>

<p class="MsoListBullet">&#9679; 
Если данные поля ввода содержат несколько значений &#8209;
они останутся неизменными.</p>

<p class="MsoNormal">Свойство
поля ввода <span class="Term">СвязиПараметровВыбора</span>
также работает аналогично обычному полю ввода, причем если для какого-либо
параметра свойство <span class="Interface">Режим изменения связанного значения</span>
установлено в значение <span class="Interface">Очищать</span>, то
данные поля ввода будут очищены вне зависимости от количества значений
в этих данных (одно значение в коллекции или этих значений
несколько).</p>

<p class="Lang-subheader">Смотри
также:</p>

<p class="MsoListBullet">&#9679; 
Параметры выбора (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref397525393" target="_top">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
Связи параметров выбора (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref397525399" target="_top">здесь</a>).</p>

<a id="TI000002642" class="bookmark" name="issogl4_7.7.4.12.3_редактирование_данных_в_поле"><h5>7.7.4.12.3. Редактирование данных в поле</h5></a>

<p class="MsoNormal">Поле
ввода в режиме редактирования множественных значений
позволяет добавлять и удалять значения в связанной коллекции
непосредственно в поле ввода. Кроме того, предоставляется возможность
открыть диалог редактирования связанных данных (если поле ввода отображает
данные типа <span class="Term">СписокЗначений</span>).
Более подробно рассмотрим операции редактирования данных. Начнем с ввода
новых данных.</p>

<p class="MsoNormal">Для ввода новых данных достаточно ввести
требуемые данные в поле ввода и нажать <span class="Term">ENTER</span>
(для этого у поля ввода должен быть установлен флажок <span class="Interface">Расширенное
редактирование множественных значений</span>).
Очевидно, что вводимые данные должны соответствовать типу редактируемых данных
(правила формирования типа редактируемого значения см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref113351818">здесь</a>).</p>

<p class="MsoNormal">При анализе событий, возникающих во время
добавления и удаления значений, необходимо понимать следующее:</p>

<p class="MsoListBullet">&#9679; 
Если множественные значения добавляются
по одному (ввод по строке, флажки), то для каждого события будет
срабатывать определенный набор событий так, как будто выполнено добавление
единственного значения в поле ввода.</p>

<p class="MsoListBullet">&#9679; 
Если множественные значения добавляются
из формы выбора, то будет вызван один набор событий для всех значений выбранных
в форме.</p>

<p class="MsoNormal">При
открытии формы выбора из поля ввода, в нее будет передан параметр <span class="Term">ВыборДобавлением</span>, который позволит определить,
в каком режиме находится поле ввода:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Истина</span> &#8209; если поле ввода находится
в режиме расширенного редактирования множественных значений и форма
открывается платформой в обработчике <span class="Term">НачалоВыбора</span>, при условии, что сохранена
стандартная обработка выбора (формальный параметр обработчика <span class="Term">СтандартнаяОбработка</span> после выхода из обработчика
установлен в значение <span class="Term">Истина</span>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Ложь</span> &#8209; параметр формы <span class="Term">ВыборДобавление</span> не указан при открытии формы
выбора из встроенного языка или вызов выполняется для конфигурации,
у которой установлен режим совместимости <span class="Interface">Версия 8.3.22</span>
или предыдущие версии.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Неопределено</span> &#8209; во всех остальных
случаях.</p>

<div>

<p class="Lang-parameter">Ввод
данных</p>

</div>

<p class="MsoNormal">События при вводе данных:</p>

<p class="MsoListBullet">&#9679; 
Обработчик события <span class="Term">ИзменениеТекстаРедактирования</span> вызывается
в тот момент, когда пользователь начинает набирать какой-либо текст
в поле ввода. Набранный текст передается в параметре <span class="Term">Текст</span> обработчика события.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">АвтоПодбор</span> &#8209; после ввода текста или при нажатии на кнопку
выбора из списка</p>

<p class="MsoListBullet">&#9679; 
Обработчик события <span class="Term">НачалоВыбора</span> вызывается перед открытием формы
выбора. Форма выбора может быть открыта с нажатием кнопки выбора поля
ввода, нажатием клавиши <span class="Interface">F4</span> в поле ввода или выбором
гиперссылки <span class="Interface">Показать все</span> в списке выбора.</p>

<p class="Indentlist">Параметры
формы выбора передаются в параметре <span class="Term">ДанныеВыбора</span> обработчика <span class="Term">НачалоВыбора</span>. Если форма выбора должна
позволить множественный выбор значений (для последующей передачи в поле
ввода), то в форму выбора должен быть передан параметр <span class="Term">МножественныйВыбор</span>, установленный
в значение <span class="Term">Истина</span>.</p>

<p class="Indentlist">Параметр
<span class="Term">ВыборДобавлением</span>
указывает, каким образом происходит выбор</p>

<p class="MsoListBullet2">&#9679; 
Значению <span class="Term">Ложь</span> &#8209; если для поля ввода
запрещено расширенное редактирование множественных значений.</p>

<p class="MsoListBullet2">&#9679; 
Значение <span class="Term">Ложь</span> &#8209; если для поля ввода
разрешено расширенное редактирование множественных значений, а обработчик
вызывается после нажатия кнопки <span class="Interface">Открытие</span> поля
ввода, где в обработчике события <span class="Term">Открытие()</span> сохранили стандартную обработку
события.</p>

<p class="MsoListBullet2">&#9679; 
Значение <span class="Term">Истина</span> &#8209; во всех остальных случаях.</p>

<p class="MsoListBullet">&#9679; 
Обработчик события <span class="Term">ОбработкаВыбора</span> вызывается после того, как
установлен очередной флажок в списке выбора или выбрано значение
в форме выбора. Выбранное значение передается в параметре <span class="Term">ВыбранноеЗначение</span>. Если выбрано одно значение &#8209; именно оно и будет в этом параметре.
Аналогично будет обработан выбор значения в списке выбора с флажками:
каждая установка флажка приведет к событию <span class="Term">ОбработкаВыбора</span>. Если добавление значений
осуществляется из формы выбора, в которой разрешен множественный
выбор, то в событие <span class="Term">ОбработкаВыбора</span> попадет массив выбранных
элементов (в параметре <span class="Term">ВыбранноеЗначение</span>).</p>

<p class="Indentlist">Параметр
обработчика <span class="Term">ВыборДобавлением</span>
предназначен для определения способа добавления значения в поле ввода:</p>

<p class="MsoListBullet2">&#9679; 
Если событие возникает в результате вызова
метода <span class="Term">ОповеститьОВыборе()</span>,
то значение параметра обработчика равно значению одноименного параметра метода.</p>

<p class="MsoListBullet2">&#9679; 
Если событие вызвано из формы выбора, то
значение параметра соответствует параметру <span class="Term">ВыборДобавлением</span> формы выбора.</p>

<p class="MsoListBullet2">&#9679; 
Во всех остальных случаях этот параметр равен
значению <span class="Term">Истина</span>,
если в поле ввода разрешен ввод множественных значений и <span class="Term">Ложь</span> &#8209; во всех остальных случаях.</p>

<p class="MsoListBullet">&#9679; 
Обработчик события <span class="Term">ДобавлениеМножественныхЗначений</span> вызывается
перед помещением выбранного значения в реквизит, связанный с полем
ввода. Для ссылочных типов обработчик этого события фактически дублирует
возможности обработчика события <span class="Term">ОбработкаВыбора</span>. Но для примитивных типов <span class="Term">ОбработкаВыбора</span> не вызывается, а значит <span class="Term">ДобавлениеМножественныхЗначений</span> является
единственным способ получить информацию о том, что в поле ввода ввели
новое значение.</p>

<p class="MsoListBullet">&#9679; 
Обработчик события <span class="Term">ПриИзменении</span> вызывается после любого изменения
данных в поле ввода.</p>

<p class="MsoNormal">В
зависимости от того, какое значение какого типа является выбранным
значением, поведение системы несколько различается. В первую очередь это
касается расстановки флажков выбранных значений в списке
и последовательности вызова различных событий. Рассмотрим правила
расстановки флажков:</p>

<p class="MsoListBullet2">&#9679; 
В параметре <span class="Term">ВыбранноеЗначение</span> находится одиночное
значение:</p>

<p class="MsoListBullet3">&#9679; 
Флажок для значения отображается, если это
значение уже есть в коллекции, отображаемой полем.</p>

<p class="MsoListBullet3">&#9679; 
Флажок для значения не отображается, если этого
значения нет в коллекции, отображаемой полем.</p>

<p class="MsoListBullet2">&#9679; 
В параметре <span class="Term">ВыбранноеЗначение</span> расположен массив значений:</p>

<p class="MsoListBullet3">&#9679; 
Флажок для значения отображается, если все
значения из массива присутствуют в коллекции, которая отображается
полем ввода.</p>

<p class="MsoListBullet3">&#9679; 
Флажок для значения не отображается, если все
значения из массива отсутствуют в коллекции, которая отображается
полем ввода.</p>

<p class="MsoListBullet3">&#9679; 
Флажок отображается в третьем состоянии,
если в коллекции присутствуют не все значения из массива.</p>

<p class="MsoNormal">Вызов
событий зависит от того, устанавливается флажок в списке выбора или
сбрасывается:</p>

<p class="MsoListBullet">&#9679; 
Флажок устанавливается для одиночного значения
или значения, представляющего массив значений:</p>

<p class="MsoListBullet2">&#9679; 
Вызывается обработчик события <span class="Term">ОбработкаВыбора</span>. Параметр <span class="Term">ВыбранноеЗначение</span> содержит значение, для которого
установили флажок.</p>

<p class="MsoListBullet2">&#9679; 
Вызывается обработчик события <span class="Term">ДобавлениеМножественныхЗначений</span>. Параметр <span class="Term">Значения</span> содержит выбранное значение.</p>

<p class="MsoListBullet2">&#9679; 
Вызывается обработчик события <span class="Term">ПриИзменении</span>.</p>

<p class="MsoListBullet">&#9679; 
Флажок сбрасывается для одиночного значения или
значения, представляющего массив значений:</p>

<p class="MsoListBullet2">&#9679; 
Вызывается обработчик события <span class="Term">УдалениеМножественныхЗначений</span>. Параметр <span class="Term">Идентификаторы</span> содержит массив
с идентификаторами удаляемых значений.</p>

<p class="MsoListBullet2">&#9679; 
Вызывается обработчик события <span class="Term">ПриИзменении</span>.</p>

<p class="MsoNormal">После
любого изменения состояния флажка система будет безусловно обновлять состояние
всех флажков в списке выбора поля ввода.</p>

<p class="MsoNormal">Отдельно
остановимся на том, как обрабатывается параметр <span class="Term">ВыборДобавлением</span> в том случае, если после
покидания обработчика события поля ввода <span class="Term">ОбработкаВыбора</span> будет выполнена стандартная
обработка выбора значения:</p>

<p class="MsoListBullet">&#9679; 
Формальный параметр <span class="Term">ВыборДобавлением</span> будет игнорироваться, если:</p>

<p class="MsoListBullet2">&#9679; 
Поле ввода отображает одиночное значение,
которое не является коллекцией значений.</p>

<p class="MsoListBullet2">&#9679; 
Поле ввода отображает коллекцию значений, но
выключен режим расширенного редактирования множественных значений.</p>

<p class="MsoListBullet">&#9679; 
В остальных случаях:</p>

<p class="MsoListBullet2">&#9679; 
Поле ввода отображает <span class="Term">СписокЗначений</span>, значение формального параметра
<span class="Term">ЗначениеВыбора</span>
в обработчике события имеет тип <span class="Term">СписокЗначений</span>:</p>

<p class="MsoListBullet3">&#9679; 
Формальный параметр <span class="Term">ВыборДобавлением</span> установлен в значение <span class="Term">Ложь</span>:</p>

<p class="MsoListBullet4">&#9679; 
Значение формального параметра <span class="Term">ЗначениеВыбора</span> заменяет значения
редактируемого реквизита.</p>

<p class="MsoListBullet4">&#9679; 
Вызывается обработчик события <span class="Term">ПриИзменении</span></p>

<p class="MsoListBullet3">&#9679; 
Формальный параметр <span class="Term">ВыборДобавлением</span> установлен в значение <span class="Term">Истина</span>:</p>

<p class="MsoListBullet4">&#9679; 
Вызывается событие <span class="Term">ДобавлениеМножественныхЗначений</span>.</p>

<p class="MsoListBullet4">&#9679; 
Значение формального параметра <span class="Term">ЗначениеВыбора</span> приводится к типу
множественного значения и добавляется в коллекцию.</p>

<p class="MsoListBullet4">&#9679; 
Вызывается обработчик события <span class="Term">ПриИзменении</span>.</p>

<p class="MsoListBullet2">&#9679; 
Значение формального параметра <span class="Term">ЗначениеВыбора</span> в обработчике события
имеет тип <span class="Term">Массив</span>:</p>

<p class="MsoListBullet3">&#9679; 
Если формальный параметр <span class="Term">ВыборДобавлением</span> установлен в значение <span class="Term">Ложь</span>, то текущий состав коллекции очищается.</p>

<p class="MsoListBullet3">&#9679; 
Вызывается обработчик события <span class="Term">ДобавлениеМножественныхЗначений</span>.</p>

<p class="MsoListBullet3">&#9679; 
В отображаемую коллекцию добавляются новые
значения из массива, который находится в формальном параметре <span class="Term">ЗначениеВыбора</span>.</p>

<p class="MsoListBullet3">&#9679; 
Вызывается обработчик события <span class="Term">ПриИзменении</span>.</p>

<p class="MsoListBullet2">&#9679; 
Во всех остальных случаях:</p>

<p class="MsoListBullet3">&#9679; 
Если формальный параметр <span class="Term">ВыборДобавлением</span> установлен в значение <span class="Term">Ложь</span>, то текущий состав коллекции очищается.</p>

<p class="MsoListBullet3">&#9679; 
Вызывается обработчик события <span class="Term">ДобавлениеМножественныхЗначений</span>.</p>

<p class="MsoListBullet3">&#9679; 
В отображаемую коллекцию добавляет содержимое
формального параметра <span class="Term">ЗначениеВыбора</span>.</p>

<p class="MsoListBullet3">&#9679; 
Вызывается обработчик события <span class="Term">ПриИзменении</span>.</p>

<div>

<p class="Lang-parameter">Удаление
данных</p>

</div>

<p class="MsoNormal">События
при удалении значений в поле ввода в режиме редактирования
множественных значений:</p>

<p class="MsoListBullet">&#9679; 
При очистке поля:</p>

<p class="MsoListBullet2">&#9679; 
Обработчик события <span class="Term">Очистка</span> вызывается в тот момент, когда
пользователь «заказал» очистку поля. Это можно сделать как с помощью
кнопок самого поля ввода, так и с помощью сочетания клавиш <span class="Interface">Shift +</span><span class="Interface"> F4</span>. В данном случае имеется
возможность отказаться от очистки поля с помощью параметра <span class="Term">СтандартнаяОбработка</span>.</p>

<p class="MsoListBullet">&#9679; 
При удалении одного или нескольких элементов
в поле ввода:</p>

<p class="MsoListBullet2">&#9679; 
Вызывается обработчик события <span class="Term">УдалениеМножественныхЗначений</span>. В качестве
параметра <span class="Term">Идентификаторы</span>
этого обработчика передается массив, который содержит идентификаторы удаляемых
значений из связанного списка значений или коллекции. Необходимо понимать,
что массив содержит не индексы (хотя значения и очень похожи),
а идентификаторы. В отличие от индекса, идентификатор не изменяется
при удалении элементов коллекции. Для того, чтобы получить элемент коллекции
по идентификатору &#8209; следует использовать метод коллекции <span class="Term">НайтиПоИдентификатору()</span>. А удалять &#8209; уже полученный элемент. Параметр <span class="Term">СтандартнаяОбработка</span> позволяет указать
системе, что все действия со связанными данными будут выполняться
из встроенного языка.</p>

<p class="MsoListBullet">&#9679; 
Обработчик события <span class="Term">ПриИзменении</span> вызывается после того, как
связанные данные очищены и произошло обновление элемента формы.</p>

<div>

<p class="Lang-parameter">Открытие
формы значения</p>

</div>

<p class="MsoNormal">Поле
ввода в режиме редактирования множественных значений позволяет при
необходимости открыть форму значения (если таковая имеется). Для этого можно
использовать два способа:</p>

<p class="MsoListBullet">&#9679; 
В контекстном меню элемента выбрать пункт <span class="Interface">Открыть</span>. Этот
пункт расположен в контекстном меню по умолчанию или может быть
добавлен в контекстное меню в обработчике события <span class="Term">ОбработкаФормированияКоманд</span> (подробнее
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref114227441">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
Нажать на элемент, если он отображается
гиперссылкой. Эта возможность управляется свойством поля ввода <span class="Term">ГиперссылкаМножественныхЗначений</span>. Это значение
может принимать одно из трех значений:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Да</span> &#8209; представление каждого множественного значения
является гиперссылкой («нажимается» и отображается с подчеркиванием
при наведении).</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Нет</span> &#8209; представление каждого множественного значения не
является гиперссылкой.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Interface">Авто</span> &#8209; отображение гиперссылки для множественных значений
управляется системой. В этом случае гиперссылка отображается для значений
ссылочного типа и не отображается для всех остальных типов данных.</p>

<p class="MsoNormal">При
нажатии на гиперссылку значения происходит вызов обработчика события <span class="Term">ОткрытиеМножественногоЗначения</span>. Значение
параметра <span class="Term">Идентификатор</span>
указывает на то, какой элемент (из отображаемых в поле ввода) хочет
открыть пользователь.</p>

<div>

<p class="Lang-parameter">Работа
с выделением из встроенного языка</p>

</div>

<p class="MsoNormal">Поле ввода позволяет получить
и установить выделенные значения в поле ввода. Если, например,
пользователь выделил несколько значений в поле ввода в режиме
редактирования множественных значений,
то с помощью метода <span class="Term">ПолучитьВыделенныеМножественныеЗначения()</span>
расширения поля формы для поля ввода можно получить массив идентификаторов
элементов отображаемой коллекции. Для выполнения обратной операции (установить
выделение по списку идентификаторов) служит метод <span class="Term">УстановитьВыделенныеМножественныеЗначения()</span>.</p>

<p class="MsoNormal">Для получения идентификатора элемента
коллекции (списка значений или <span class="Term">ДанныеФормыКоллекция</span>)
следует использовать метод <span class="Term">ПолучитьИдентификатор()</span>.</p>

<a id="TI000002643" class="bookmark" name="issogl4_7.7.4.12.4_флажки_в_выпадающем_списке"><h5>7.7.4.12.4. Флажки в выпадающем списке</h5></a>

<p class="Regularbeforepicture">В
том случае, когда при добавлении множественных значений используется список
выбора, имеется возможность использования в этом списке флажков. Другими
словами, когда в поле ввода вводится какой-либо текст, система выбирает
из информационной базы набор значений, соответствующих введенному тексту
и показывает результат поиска в списке выбора. Разработчик может
настроить систему так, чтобы в списке выбора можно было выбрать несколько
значений с помощью флажков напротив каждого значения.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:547/184" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00325.gif" width="547" alt="" height="184"></p>

<p class="MsoCaption">Рис.
327. Флажки в списке выбора</p>

<p class="MsoNormal">За наличие флажков в списке отвечает
свойство поля ввода <span class="Term">ОтображатьФлажкиВВыпадающемСпискеПриВводеМножественныхЗначений</span>.
Это значение имеет тип <span class="Term">Булево</span>,
но может принимать три состояния:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Истина</span> &#8209; допускается использование флажков в списке
выбора.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Ложь</span> &#8209; не допускается использование флажков в списке
выбора.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Неопределено</span> &#8209; трактовка значения зависит от значения
свойства поля ввода <span class="Term">РазрешитьДублированиеМножественныхЗначений</span>:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Истина</span> &#8209; в выпадающем списке флажки не отображаются
(свойство трактуется как <span class="Term">Ложь</span>).</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Ложь</span> &#8209; в выпадающем списке флажки отображаются
(свойство трактуется как <span class="Term">Истина</span>).</p>

<p class="MsoNormal">Включение
или выключение флажка равноценно добавлению или удалению одного элемента
в поле ввода. При изменении состояния флажков список выбора не
закрывается. Схема вызываемых событий в этом случае ничем не отличается
от ранее описанной общей схемы.</p>

<p class="MsoNormal">Если
в поле ввода есть выбранные значения, установлен признак отображения
флажков и пользователь нажимает кнопку открытия списка выбора &#8209;
список будет содержать все выбранные значения с установленными флажками.
Если в списке снимается флажок, то из связанных данных удаляются все
значения, которые соответствуют исключаемому элементу выпадающего списка.</p>

<a id="TI000002644" class="bookmark" name="issogl4_7.7.4.12.5_картинки_значений_в_поле_ввода"><h5>7.7.4.12.5. Картинки значений в поле ввода</h5></a>

<p class="MsoNormal">Поле ввода может отображать картинки для
каждого отображаемого значения. Механика отображения картинок несколько различается
для случая отображения типа <span class="Term">СписокЗначений</span>
и типа <span class="Term">ДанныеФормыКоллекция</span>.
Для обеих способов отображения действуют свойства, которые управляют размером
и формой картинок в поле ввода:</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">РазмерКартинкиМножественногоЗначения</span>
определяет то, какого размера будет картинка в поле ввода:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Маленький</span> &#8209; размер картинки составляет 16 на 16 точек.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Средний</span> &#8209; размер картинки составляет 24 на 24 точки.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Крупный</span> &#8209; размер картинки составляет 32 на 32 точки.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Авто</span> &#8209; трактуется как <span class="Term">Маленький</span> во всех случаях.</p>

<p class="Indentlist">Если
фактический размер картинки отличается от установленного &#8209; платформа будет выполнять автоматическое масштабирование
картинки.</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Term">ФигураКартинкиМножественногоЗначения</span> определяет,
какую форму примет картинка в поле ввода:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Квадрат</span> &#8209; картинка будет вписываться в квадрат.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Круг</span> &#8209; картинка будет вписываться в круг.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Авто</span> &#8209; трактуется как <span class="Term">Квадрат</span> во всех случаях.</p>

<p class="MsoNormal">Теперь
рассмотрим отображение картинок для типа <span class="Term">СписокЗначений</span>. В этом случае картинка
получается из соответствующего свойства элемента списка значений (<span class="Term">ЭлементСпискаЗначений.Картинка</span>). Это самый
простой способ указания картинки.</p>

<p class="Regularbeforepicture">Если
для поля ввода указать параметры отображения картинки как средний размер
и круглый внешний вид, то поле ввода будет выглядеть следующим образом
(для сравнения &#8209; нижнее
поле ввода демонстрирует стандартные настройки отображения картинок):</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:557/77" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00326.gif" width="557" alt="" height="77"></p>

<p class="MsoCaption">Рис.
328. Список значений. Картинки в поле ввода</p>

<p class="MsoNormal">В
том случае, если источником множественных значений выступает <span class="Term">ДанныеФормыКоллекция</span>, существует два способа
управления отображением картинок:</p>

<p class="List1">1. 
Размещение картинки в каждой строке
коллекции (по аналогии со списком значений).</p>

<p class="MsoListNumberCxSpLast">2.  Указание
одной коллекции картинок для поля ввода, в самой коллекции указание
индекса отображаемой картинки в каждой строке коллекции.</p>

<p class="MsoNormal">Начнем
рассмотрение с картинкой в каждой строке коллекции. Для этого
в настройках поля ввода необходимо указать, какая колонка будет содержать
картинки. Это делается с помощью свойства поля ввода <span class="Term">ПутьКДаннымКартинкиМножественногоЗначения</span>.
Затем в эту колонку заносятся нужные картинки. Пример такого кода приведен
далее (картинка размещается в колонке <span class="Term">КартинкаТаблицы</span>):</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Строка <span class="operator">=</span> Таблица<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Строка<span class="operator">.</span>ЗначениеТаблицы <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
Строка<span class="operator">.</span>ПредставлениеТаблицы <span class="operator">=</span> <span class="string">"Первый элемент"</span><span class="operator">;</span>
Строка<span class="operator">.</span>КартинкаТаблицы <span class="operator">=</span> БиблиотекаКартинок<span class="operator">.</span>Константа<span class="operator">;</span>
Строка <span class="operator">=</span> Таблица<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Строка<span class="operator">.</span>ЗначениеТаблицы <span class="operator">=</span> <span class="number">2</span><span class="operator">;</span>
Строка<span class="operator">.</span>ПредставлениеТаблицы <span class="operator">=</span> <span class="string">"Второй элемент"</span><span class="operator">;</span>
Строка<span class="operator">.</span>КартинкаТаблицы <span class="operator">=</span> БиблиотекаКартинок<span class="operator">.</span>Справочник<span class="operator">;</span>
Строка <span class="operator">=</span> Таблица<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Строка<span class="operator">.</span>ЗначениеТаблицы <span class="operator">=</span> <span class="number">3</span><span class="operator">;</span>
Строка<span class="operator">.</span>ПредставлениеТаблицы <span class="operator">=</span> <span class="string">"Третий элемент"</span><span class="operator">;</span>
Строка<span class="operator">.</span>КартинкаТаблицы <span class="operator">=</span> БиблиотекаКартинок<span class="operator">.</span>Документ<span class="operator">;</span>
Строка <span class="operator">=</span> Таблица<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
Строка<span class="operator">.</span>ЗначениеТаблицы <span class="operator">=</span> <span class="number">4</span><span class="operator">;</span>
Строка<span class="operator">.</span>ПредставлениеТаблицы <span class="operator">=</span> <span class="string">"Четвертый элемент"</span><span class="operator">;</span>
Строка<span class="operator">.</span>КартинкаТаблицы <span class="operator">=</span> БиблиотекаКартинок<span class="operator">.</span>Задача<span class="operator">;</span></pre><p class="Regularbeforepicture">В
результате поле ввода, которое связано с таблицей из примера, будет
выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:556/36" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00327.gif" width="556" alt="" height="36"></p>

<p class="MsoCaption">Рис.
329. Таблица значений. Картинки в поле ввода</p>

<p class="MsoNormal">Другим
способом отображения картинок элементов в поле ввода является указание
набора картинок для всех значений поля с помощью свойства поля ввода <span class="Term">КартинкаМножественныхЗначений</span>. В этом случае
значение в колонке, указанной в свойстве <span class="Term">ПутьКДаннымКартинкиМножественногоЗначения</span>,
будет указывать индекс нужной картинки.</p>

<p class="MsoNormal">Если
картинки для множественных значений расположены в базе данных, то можно
рассмотреть следующий способ получения картинок для отображения:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервереБезКонтекста</span>
<span class="keyword">Функция</span> ПолучитьДобавляемыхСотрудников<span class="operator">(</span>МассивЗначений<span class="operator">)</span>
    ДобавляемыеСотрудники <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> Ссылка <span class="keyword">из</span> МассивЗначений <span class="keyword">Цикл</span>
        КартинкаСотрудника <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">(</span><span class="string">"Сотрудник,Картинка"</span><span class="operator">,</span> Ссылка<span class="operator">)</span><span class="operator">;</span>
        КартинкаСотрудника<span class="operator">.</span>Картинка <span class="operator">=</span> ПолучитьНавигационнуюСсылку<span class="operator">(</span>Ссылка<span class="operator">,</span> <span class="string">"Фотография"</span><span class="operator">)</span><span class="operator">;</span>
        ДобавляемыеСотрудники<span class="operator">.</span>Добавить<span class="operator">(</span>КартинкаСотрудника<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> ДобавляемыеСотрудники<span class="operator">;</span>
<span class="keyword">КонецФункции</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> СотрудникиДобавлениеМножественныхЗначений<span class="operator">(</span>Элемент<span class="operator">,</span> МассивЗначений<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    КартинкиСотрудников <span class="operator">=</span> ПолучитьДобавляемыхСотрудников<span class="operator">(</span>МассивЗначений<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> КартинкаСотрудника <span class="keyword">из</span> КартинкиСотрудников <span class="keyword">Цикл</span>
        НовыйСотрудник <span class="operator">=</span> Сотрудники<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
        ЗаполнитьЗначенияСвойств<span class="operator">(</span>НовыйСотрудник<span class="operator">,</span> КартинкаСотрудника<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">В
данном примере реквизит формы <span class="Term">Сотрудники</span> является списком значений. Этот
реквизит отображается полем ввода <span class="Term">Сотрудники</span>. Фотография каждого сотрудника
хранится в реквизите <span class="Term">Фотография</span> соответствующего элемента
справочника. При добавлении сотрудников выполняется получение навигационной
ссылки на фотографии добавленных сотрудников, которые потом помещаются
в свойство <span class="Term">Картинка</span>
значения типа <span class="Term">ЭлементСпискаЗначений</span>.
Поле ввода затем будет отображать эту картинку.</p>

<p class="MsoNormal">При
использовании картинок в поле ввода с использованием множественных
значений рекомендуется:</p>

<p class="MsoListBullet">&#9679; 
Не использовать «абсолютные» картинки для
отображаемых элементов (картинки, полученные из файла на дисковом накопителе).</p>

<p class="MsoListBullet">&#9679; 
Использовать картинки размером не более чем 128
на 128 точек. Если исходная картинка имеет большие размеры, то рекомендуется
изменить ее размер с помощью метода <span class="Term">ОбрабатываемаяКартинка.УстановитьРазмер()</span>.</p>

<p class="MsoListBullet">&#9679; 
При указании картинок можно использовать любой
поддерживаемый способ указания картинки:</p>

<p class="MsoListBullet2">&#9679; 
Указанием навигационной ссылки на реквизит
объекта информационной базы.</p>

<p class="MsoListBullet2">&#9679; 
Указание адреса картинки во временном хранилище.</p>

<p class="MsoListBullet2">&#9679; 
Указание индекса картинки в коллекции
картинок (свойство <span class="Term">КартинкаМножественныхЗначений</span>).</p>

<a id="TI000002645" class="bookmark" name="issogl4_7.7.4.12.6_таблица_формы_и_поле_ввода_в_режиме_редактирования_множественных_значений"><h5>7.7.4.12.6. Таблица формы и поле ввода в режиме редактирования множественных значений</h5></a>

<p class="MsoNormal">Поле
ввода в режиме редактирования множественных значений может располагаться
в таблице формы. Логика работы и используемые инструменты в этом
случае аналогичны полю ввода, которое расположено в форме, но есть
особенность, которая проявляется в том случае, когда типом значения
колонки таблицы является список значений. В этом случае необходимо
из встроенного языка явно устанавливать ограничение типа поля ввода, чтобы
поле перешло в режим множественного выбора. Рассмотрим пример.</p>

<p class="MsoNormal">Допустим
у нас есть справочники <span class="Term">Сотрудники</span> и <span class="Term">ПраваДоступа</span>. Нам необходимо создать форму,
которая позволит указывать для сотрудника права доступа. Для этого создадим
реквизит формы <span class="Term">НастройкиПравДоступа</span>
типа <span class="Term">(ТаблицаЗначений)</span>.
Для этого реквизита создадим два подчиненных реквизита <span class="Term">Сотрудник</span> (типа <span class="Term">СправочникСсылка.Сотрудники</span>) и <span class="Term">ПраваДоступа</span> (типа <span class="Term">СписокЗначений</span>). Затем разместим реквизит <span class="Term">ПраваДоступа</span> на форме с помощью
перетаскивания и согласимся с предложением системы создать нужные
колонки в таблице формы.</p>

<p class="Regularbeforepicture">Должна
получится следующая форма:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:732/410" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00328.gif" width="732" alt="" height="410"></p>

<p class="MsoCaption">Рис.
330. Пример поля в таблице для списка значений</p>

<p class="MsoNormal">Для
того, чтобы все заработало, необходимо сделать одно дополнительное действие &#8209; установить ограничение типа для поля ввода, которое
отображает список значений. Это необходимо делать из встроенного языка
в связи с тем, что редактор формы не позволяет задать тип значения
для списка значений в подчиненном реквизите формы.</p>

<p class="MsoNormal">Для
задания ограничения типа укажем обработчик события <span class="Term">ПриАктивизацииСтроки</span> для элемента формы <span class="Term">НастройкаПравДоступа</span>:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> НастройкаПравДоступаПриАктивизацииСтроки<span class="operator">(</span>Элемент<span class="operator">)</span>
    <span class="keyword">Если</span> Элемент<span class="operator">.</span>ТекущиеДанные <span class="operator">&lt;</span><span class="operator">&gt;</span> <span class="keyword">Неопределено</span> <span class="keyword">Тогда</span>
        Элемент<span class="operator">.</span>ТекущиеДанные<span class="operator">.</span>ПраваДоступа<span class="operator">.</span>ТипЗначения <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">"СправочникСсылка.ПраваДоступа"</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="Regularbeforepicture">Если
все сделано корректно, то при добавлении строки в таблицу <span class="Term">НастройкаПравДоступа</span>, права доступа будут
редактироваться как на следующей картинке:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:660/220" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00329.gif" width="660" alt="" height="220"></p>

<p class="MsoCaption">Рис.
331. Редактирование множественных значений в таблице</p>

<p class="MsoNormal">Если
в качестве хранилища множественных значений в таблице формы выступает
не список значений, а вложенная таблица формы, то все выполняется еще
проще (модифицируем предыдущий пример):</p>

<p class="List1">1. 
Для реквизита <span class="Term">НастройкиПравДоступа.ПраваДоступа</span> установим
тип <span class="Term">(ТаблицаЗначений)</span>.</p>

<p class="MsoListNumberCxSpMiddle">2.  Для
созданной таблицы значений создадим одну колонку с именем <span class="Term">ПравоДоступа</span> и типом <span class="Term">СправочникСсылка.ПраваДоступа</span>.</p>

<p class="MsoListNumberCxSpMiddle">3.  Удалим
элемент формы <span class="Term">НастройкаПравДоступа</span>
и перетащим наш модифицированный реквизит <span class="Term">НастройкиПравДоступа</span> на форму. Согласимся
с тем, чтобы конфигуратор создал все элементы формы сам.</p>

<p class="MsoListNumberCxSpLast">4.  Теперь
необходимо указать свойство <span class="Interface">Данные множественного
значения</span> для элемента формы <span class="Term">НастройкиПравДоступаПраваДоступа</span>. В это
свойство следует указать реквизит <span class="Term">НастройкиПравДоступа.ПраваДоступа.ПравоДоступа</span>.</p>

<p class="Regularbeforepicture">Форма
должна иметь следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:756/592" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00330.gif" width="756" alt="" height="592"></p>

<p class="MsoCaption">Рис.
332. Пример поля в таблице для таблицы значений</p>

<p class="MsoNormal">Сама
форма должна работать в точности так же, как и в случае
с реквизитом таблицы типа <span class="Term">СписокЗначений</span>.</p>

<a id="TI000002646" class="bookmark" name="issogl4_7.7.4.12.7_прочие_механизмы_управления_полем_ввода"><h5>7.7.4.12.7. Прочие механизмы управления полем ввода</h5></a>

<p class="Regularbeforetable">Некоторые
свойства поля ввода влияют сразу на все значения, которые отображаются
полем:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Свойство</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание
   поведения</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">ВыделятьОтрицательные</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Выделяет
  представление множественного значения красным цветом, если значение является
  отрицательным числом.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Доступность</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Если
  для поля выключена доступность, то:</p>
  <p class="MsoListBullet">&#9679; 
  Из представления значений убирается символ
  удаления («X»).</p>
  <p class="MsoListBullet">&#9679; 
  Гиперссылки в представлениях недоступны
  для нажатия.</p>
  <p class="MsoListBullet">&#9679; 
  Выделение недоступно.</p>
  <p class="MsoListBullet">&#9679; 
  Контекстное меню недоступно.</p>
  <p class="MsoListBullet">&#9679; 
  Недоступно открытие стандартного диалога
  редактирования списка значений.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Маска</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Используется
  для ввода текстовых значений.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">РежимПароля</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Все
  отображаемые значения считаются паролями и отображаются в виде
  фиксированной строки, состоящей из 8 символов «*».</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">ТолькоПросмотр</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Если
  для поля включен режим «только просмотр», то:</p>
  <p class="MsoListBullet">&#9679; 
  Из представления значений убирается символ
  удаления («X»).</p>
  <p class="MsoListBullet">&#9679; 
  Гиперссылки в представлениях доступны для
  нажатия.</p>
  <p class="MsoListBullet">&#9679; 
  Недоступно удаление значений.</p>
  <p class="MsoListBullet">&#9679; 
  При открытии стандартного диалога
  редактирования списка значений &#8209; изменения списка недоступны.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Формат</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Формирует
  представление значений типа <span class="Term">Число</span>,
  <span class="Term">Дата</span>,
  <span class="Term">Булево</span>.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">ЦветТекста</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Используется,
  если значение свойства <span class="Term">ЦветТекстаМножественныхЗначений</span>
  поля ввода установлено в значение <span class="Interface">Авто</span>.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Term">Шрифт</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Используется,
  если значение свойства <span class="Term">Шрифт</span><span class="Term">МножественныхЗначений</span>
  поля ввода установлено в значение <span class="Interface">Авто</span>.</p>
  </td>
  
 </tr>
</tbody></table>

<a name="_ref118214801"></a><a id="TI000002681" class="bookmark" name="issogl3_7.7.4.13_автоматическое_заполнение_форм_в_веб-браузере_или_мобильном_устройстве"><h4>7.7.4.13. Автоматическое заполнение форм в веб-браузере или мобильном устройстве</h4></a>

<p class="MsoNormal">На мобильных устройствах
и в веб-браузерах существуют механизмы автоматического заполнения
форм. Для автозаполнения доступны такие данные как ФИО, адрес, номер телефона,
электронная почта и так далее. Для того, чтобы механизм автоматического
заполнения форм «понял», какие данные в какое поле ввода формы можно
предложить, поле ввода формы клиентского приложения обладает свойством <span class="Term">ПодсказкаАвтоЗаполнения</span>.
Значение, указанное в этом свойстве, будет использоваться
в веб-клиенте и на мобильном устройстве механизмами автозаполнения
форм, а в тонком клиенте это значение будет игнорироваться. Платформа
«1С:Предприятие» позволяет указать для поля ввода следующие варианты
содержимого:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">АдресЭлектроннойПочты</span> &#8209; адрес
электронной почты пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Город</span> &#8209; имя города из адреса
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Имя</span> &#8209; имя пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ИмяПользователя</span> &#8209; логин
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Индекс</span> &#8209; почтовый индекс из адреса
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НеИспользовать</span> &#8209; не использовать
механизм автоматического заполнения форм для данного поля.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НовыйПароль</span> &#8209; новый пароль.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НомерБанковскойКарты</span> &#8209; номер
зарегистрированной банковской карты пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">НомерТелефона</span> &#8209; номер телефона
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ОдноразовыйКод</span> &#8209; одноразовый код.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Отчество</span> &#8209; отчество пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Пароль</span> &#8209; текущий пароль.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПолноеИмя</span> &#8209; полное имя пользователя
мобильного устройства/веб-браузера.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ПрефиксИмени</span> &#8209; префикс имени
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Регион</span> &#8209; имя области из адреса
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Страна</span> &#8209; название страны
из адреса пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">СуффиксИмени</span> &#8209; суффикс имени
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Улица</span> &#8209; имя улицы из адреса
пользователя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Фамилия</span> &#8209; фамилия пользователя.</p>

<p class="MsoNormal">Под
«пользователем» понимается (в описании возможных вариантов содержимого)
пользователь мобильного устройства (как он указан при активации устройства) или
пользователь веб-браузера (который используется для настройки веб-браузера), но
не пользователь системы «1С:Предприятие».</p>

<a name="_toc420398521"></a><a name="_ref419713205"></a><a name="_toc164776115"></a><a id="TI000000417" class="bookmark" name="issogl2_7.7.5_декорация"><h3>7.7.5. Декорация</h3></a>

<p class="MsoNormal">Представляет
собой оформительский элемент формы. Декорация не связана с данными
(реквизитами формы). Декорация может представлять собой надпись или картинку.</p>

<p class="MsoNormal">Текст,
отображаемый декорацией вида <span class="Interface">Текст</span>, может динамически переноситься (при сжатии или
растяжении формы) при одновременном выполнении следующих условий:</p>

<p class="MsoListBullet">&#9679; 
Текст содержит несколько слов, разделенных
пробелами;</p>

<p class="MsoListBullet">&#9679; 
Значение свойства декорации <span class="Interface">Растягивать
по горизонтали</span> в явном виде не установлено в значение <span class="Interface">Нет</span>;</p>

<p class="MsoListBullet">&#9679; 
Значение свойство декорации <span class="Interface">Высота</span>
установлено в значение 0;</p>

<p class="MsoListBullet">&#9679; 
Значение свойства декорации <span class="Interface">Растягивать
по вертикали</span> в явном виде не установлено в значение <span class="Interface">Нет</span>.</p>

<p class="MsoNormal">Декорация вида <span class="Interface">Картинка</span> будет
автоматически определять свой размер (по ширине и высоте)
по установленной картинке, если соответствующее свойство декорации (<span class="Interface">Ширина</span> или <span class="Interface">Высота</span>, соответственно)
установлено в значение 0.</p>

<div>

<p class="Note"><span class="Note">Совет.</span>
Рекомендуется использовать декорацию только для неизменяемых текстовых
пояснений. Текст, который может изменяться из встроенного языка,
рекомендуется отображать полем вида <span class="Interface">Поле надписи</span>.</p>

</div>

<a name="_toc420398522"></a><a name="_ref416780511"></a><a name="_ref416780510"></a><a name="_ref322360894"></a><a name="_ref322360893"></a><a name="_toc298859906"></a><a name="_ref273971653"></a><a name="_toc237692853"></a><a name="_toc164776116"></a><a id="TI000000418" class="bookmark" name="issogl2_7.7.6_таблица"><h3>7.7.6. Таблица</h3></a>

<a id="TI000002206" class="bookmark" name="issogl3_7.7.6.1_общая_информация"><h4>7.7.6.1. Общая информация</h4></a>

<p class="MsoNormal">Элемент
формы <span class="Interface">Таблица</span>
предназначен для визуализации табличных данных. Это может быть динамический
список, табличная часть, список значений и т. д.</p>

<p class="MsoNormal">Положение
командной панели таблицы регулируется свойством <span class="Interface">Положение командной панели</span> элемента
формы. Состав стандартных команд, располагающихся в командной панели
таблицы, регулируется с помощью свойства <span class="Interface">Состав команд</span>. Команды, отключенные
при редактировании данного свойства, становятся недоступными.</p>

<p class="MsoNormal">Имеется
возможность группировать колонки с помощью элемента формы <span class="Interface">Группа</span>.
Подробнее об этом см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref216676981">здесь</a>.</p>

<p class="MsoNormal">Свойства <span class="Term">ЦветРамки</span> и <span class="Term">Рамка</span>, заданные для колонки таблицы, не
оказывают влияния на отображение колонки.</p>

<p class="MsoNormal">Для
реквизита формы типа <span class="Term">СписокЗначений</span>
существует выбор, каким образом реквизит будет отображаться. Если выбирается
вариант <span class="Interface">Таблица</span>,
то список значений будет выглядеть как таблица с доступными колонками: <span class="Interface">Значение</span>, <span class="Interface">Представление</span>, <span class="Interface">Пометка</span> и <span class="Interface">Картинка</span>. При этом следует помнить об особенности отображения
значений в колонке <span class="Interface">Значение</span>. В
этой колонке будет отображено значение колонки <span class="Interface">Представление</span>. Само значение при этом остается
неизменным. Если будет выбран тип <span class="Interface">Поле ввода</span>, то для редактирования списка будет открыто
специальное окно.</p>

<p class="MsoNormal">Также для
таблицы, связанной с реквизитом типа <span class="Term">СписокЗначений</span>,
предоставляется стандартный набор команд редактирования, включая команды
установки и снятия пометок.</p>

<p class="MsoNormal">Если
в вертикальной группе колонок в некоторой строке ширина колонок
превышает ширину колонок из других строк, то в более узких строка
строках последняя колонка группы растягивается до ширины максимально широкой
строки. Растягивание выполняется даже в том случае, если у этой
колонки установлено свойство <span class="Interface">Растягивать по горизонтали</span> в значение <span class="Term">Ложь</span>. Если растягивание колонки необходимо
избежать, то следует вынести колонку растягиваемую колонку из группы
и расположить отдельно.</p>

<a id="TI000002207" class="bookmark" name="issogl3_7.7.6.2_отображение_динамического_списка"><h4>7.7.6.2. Отображение динамического списка</h4></a>

<p class="MsoNormal">При открытии формы,
содержащей динамический список, выполняется чтение данных только для видимых
таблиц, связанных с динамическими списками. Для таблиц, которые не видимы
при открытии формы, чтение данных выполняется в момент их (таблиц)
отображения пользователю. В частности, для невидимых таблиц, значение свойства <span class="Term">ТекущаяСтрока</span> будет равно <span class="Term">Неопределено</span>. Эту особенность следует
учитывать при разработке логики формы.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Если таблица отображает динамический список (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref370224106">здесь</a>) и свойство <span class="Interface">Начальное отображение дерева</span> установлено в значение
<span class="Interface">Раскрывать
все уровни</span>, то при создании формы на сервере будет получен только
список строк, отображаемых на первом уровне, а затем, при открытии
формы, будут получены остальные отображаемые строки. Причем для каждой отображаемой
группы будет выполнен отдельный запрос к серверу.</p>

</div>

<p class="MsoNormal">Если
таблица связана с реквизитом типа <span class="Term">ДинамическийСписок</span>,
у которого в настройках списка (свойство реквизита формы <span class="Interface">Настройка списка</span>)
задана группировка, то список всегда будет отображаться в режиме <span class="Interface">Дерево</span>
(свойство элемента формы <span class="Interface">Отображение</span>), вне зависимости от того, какой режим
отображения задан разработчиком. Если для таблицы, связанной
с динамическим списком, установлено свойство <span class="Interface">Только просмотр</span>,
то при открытии из такого списка форм объектов им будет автоматически установлен
параметр формы <span class="Term">ТолькоПросмотр</span>.</p>

<p class="MsoNormal">Также для
таблицы, связанной с динамическим списком, имеется возможность управлять
обновлением списка при изменении данных (в этом же клиентском приложении)
с помощью свойства <span class="Interface">Обновление при изменении данных</span>. Если свойство
установлено в значение <span class="Interface">Авто</span>, то список будет автоматически обновляться при
любых изменениях отображаемых данных. Если свойство имеет значение <span class="Interface">Не обновлять</span>,
то список не будет выполнять автоматическое обновление и для обновления
списка необходимо явно выполнить команду <span class="Term">Обновить()</span>.
Если для динамического списка задано автоматическое обновление с указанным
интервалом и свойство <span class="Interface">Обновление при изменении данных</span> установлено
в значение <span class="Interface">Авто</span>, интервал отсчитывается от ближайшего
изменения данных, а если в значение <span class="Interface">Не обновлять</span> &#8209; от последнего вызова автоматического
обновления или выполнения команды <span class="Term">Обновить()</span>.</p>

<p class="MsoNormal">Для
таблицы, связанной с основным реквизитом формы типа динамический список,
имеется возможность управлять режимом множественного выбора с помощью
соответствующего параметра формы. Значение параметра формы <span class="Term">МножественныйВыбор</span> будет установлено
в одноименное свойство таблицы. При этом свойство <span class="Interface">Режим выделения</span>
будет установлено в значение <span class="Term">Множественный</span>,
если параметр формы <span class="Term">МножественныйВыбор</span>
имеет значение <span class="Term">Истина</span>.</p>

<p class="MsoNormal">Для
динамического списка, находящегося в режиме выбора, при добавлении нового
объекта будет выполнена проверка на соответствие добавляемого объекта
установленным критериям отбора, и если новый объект удовлетворяет
критериям отбора, на него будет установлен курсор в таблице,
отображающей динамический список.</p>

<p class="MsoNormal">Если форма
списка плана счетов или справочника с иерархией элементов открывается
с установленными параметрами <span class="Term">РазрешитьВыборКорня</span>,
равным <span class="Term">Истина</span>, и <span class="Term">РежимВыбора</span>, равным <span class="Term">Истина</span>, то для всех таблиц формы, связанных
с основным реквизитом формы (типа <span class="Term">ДинамическийСписок</span>),
будут автоматически изменены значения следующих свойств:</p>

<p class="MsoListBullet">&#9679; 
свойство <span class="Term">ОтображатьКорень</span>
будет установлено в значение <span class="Term">Истина</span>;</p>

<p class="MsoListBullet">&#9679; 
свойство <span class="Term">РазрешитьВыборКорня</span>
будет установлено в значение <span class="Term">Истина</span>;</p>

<p class="MsoListBullet">&#9679; 
свойство <span class="Term">Отображение</span>
будет установлено в значение <span class="Term">Дерево</span>.</p>

<a id="TI000002208" class="bookmark" name="issogl3_7.7.6.3_отображение_картинок"><h4>7.7.6.3. Отображение картинок</h4></a>

<p class="MsoNormal">Стандартная
картинка строк формируется на основе стандартных полей таблиц,
используемых для определения состояния элемента (<span class="Term">ПометкаУдаления</span>,
<span class="Term">Предопределенный</span>
и т. д.). Если в тексте запроса списка есть поля, псевдонимы
которых совпадают с именами стандартных полей, но в них получаются
другие данные &#8209; такие поля не будут
использоваться для формирования стандартной картинки.</p>

<p class="MsoNormal">В случае
необходимости подмены стандартной картинки, следует:</p>

<p class="List1">1. 
Добавить в библиотеку картинок требуемую
коллекцию картинок;</p>

<p class="MsoListNumberCxSpMiddle">2.  Выбрать
добавленную картинку в свойстве <span class="Term">КартинкаСтрок</span>
таблицы, связанной с динамическим списком.</p>

<p class="MsoListNumberCxSpLast">3.  Добавить
в текст запроса поле, имеющее значение индекса картинки.</p>

<p class="Lang-subheader">Например:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБОР</span>
    <span class="keyword">КОГДА</span> Таблица<span class="operator">.</span>ПометкаУдаления <span class="keyword">ТОГДА</span> <span class="number">2</span>
    <span class="keyword">КОГДА</span> Таблица<span class="operator">.</span>Предопределенный <span class="keyword">ТОГДА</span> <span class="number">1</span>
    <span class="keyword">ИНАЧЕ</span> <span class="number">0</span>
<span class="keyword">КОНЕЦ</span> <span class="keyword">КАК</span> ИндексКартинки</pre><p class="MsoListNumber">4.  Указать
добавленное поле в свойстве <span class="Term">ПутьКДаннымКартинкиСтроки</span>
таблицы, связанной с динамическим списком.</p>

<p class="MsoNormal">Картинка строк
будет отображаться у первого (считая слева) видимого поля динамического
списка вида поле ввода или поле надписи. Если в процессе редактирования
состава колонок таблицы произойдет изменение порядка колонок, то картинка будет
отображаться у той колонки, которая стала крайней левой (с указанного выше
вида). Однако если отключение видимости колонок выполняется с помощью
условного оформления, то поведение системы становится несколько другим: если
скрывается колонка, к которой привязана картинка (или символ иерархии), то
картинка (или символ иерархии) в этой строке отображаться не будет.</p>

<a id="TI000002209" class="bookmark" name="issogl3_7.7.6.4_управление_высотой_таблицы"><h4>7.7.6.4. Управление высотой таблицы</h4></a>

<p class="MsoNormal">Для управления
высотой таблицы формы клиентского приложения предназначено свойство <span class="Term">ВариантУправленияВысотойЭлемента</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В строках формы</span> &#8209; в этом случае высота таблицы задается
с помощью свойства <span class="Term">Высота</span>
таблицы управляемой формы. Если значение этого свойства равно 0, то высота
таблицы будет равна 16 единицам для таблицы, отображающей динамический список
и 8 единицам &#8209; во всех
остальных случаях. Для ограничения максимальной высоты таблицы формы необходимо
использовать свойства <span class="Term">АвтоМаксимальнаяВысота</span>
и <span class="Term">МаксимальнаяВысота</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В строках таблицы</span> &#8209; в этом случае высота таблицы задается
с помощью свойства <span class="Term">ВысотаВСтрокахТаблицы</span>
таблицы управляемой формы. Если значение этого свойства равно 0, то высота
таблицы будет равна 15 строкам для таблицы, отображающей динамический список
и 7 строкам &#8209; во всех
остальных случаях. Для ограничения максимальной высоты таблицы используются
свойства <span class="Term">АвтоМаксимальнаяВысотаВСтрокахТаблицы</span>
и <span class="Term">МаксимальнаяВысотаВСтрокахТаблицы</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">По содержимому</span> &#8209; если таблица связана с динамическим списком,
то высота таблицы задается значением свойства <span class="Term">ВысотаВСтрокахТаблицы</span>.
Если значение этого свойства равно 0, то высота таблицы определяется значением
свойства <span class="Term">Высота</span>.</p>

<p class="Indentlist">Если таблица
не связана с динамическим списком, то полностью отображаются все строки
таблицы, но не менее 3.</p>

<p class="Indentlist">Если
свойство <span class="Term">АвтоМаксимальнаяВысотаВСтрокахТаблицы</span>
установлено в значение <span class="Term">Истина</span>,
то таблица отображает не более 50 строк. Если свойство <span class="Term">АвтоМаксимальнаяВысотаВСтрокахТаблицы</span>
установлено в значение <span class="Term">Ложь</span>,
то количество отображаемых строк в таблице ограничено значением свойства <span class="Term">МаксимальнаяВысотаВСтрокахТаблицы</span>. Если
значение свойства <span class="Term">МаксимальнаяВысотаВСтрокахТаблицы</span>
равно 0, то таблица не имеет ограничений по количеству отображаемых строк.</p>

<p class="MsoNormal">При установке
такого варианта управления высотой таблицы, системой игнорируется значение
свойства <span class="Term">РастягиватьПоВертикали</span>
и считается, что у данного свойства установлено значение <span class="Term">Ложь</span>.</p>

<a id="TI000002210" class="bookmark" name="issogl3_7.7.6.5_управление_прокруткой_колонок"><h4>7.7.6.5. Управление прокруткой колонок</h4></a>

<p class="MsoNormal">При
разработке форм возникают ситуации, когда необходимо в таблице
предотвратить прокрутку некоторых колонок. Например, в табличной части
нужно зафиксировать колонки <span class="Interface">Номер</span>, <span class="Interface">Номенклатура</span> и <span class="Interface">Сумма</span>. При этом колонки <span class="Interface">Номер</span> и <span class="Interface">Номенклатура</span> требуется
прижать к левому краю таблицы, а <span class="Interface">Сумма</span> &#8209; к правому.</p>

<p class="MsoNormal">Для
выполнения такой операции предназначено свойство <span class="Term">ФиксацияВТаблице</span>.
Данное свойство доступно у поля, размещенного в таблице, и у
группы вида <span class="Interface">Группа колонок</span> (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref256161094">здесь</a>). В нашем примере необходимо для колонок <span class="Interface">Номер</span> и <span class="Interface">Номенклатура</span> установить
свойство <span class="Term">ФиксацияВТаблице</span>
в значение <span class="Term">Лево</span>,
а для колонки <span class="Interface">Сумма</span> &#8209; в значение
<span class="Term">Право</span>. Колонки
будут прижаты к соответствующему краю таблицы вне зависимости
от того, где эти колонки были расположены в редакторе формы, однако зафиксированные
колонки располагаются в том порядке, в котором они расположены
в редакторе формы.</p>

<p class="MsoNormal">Если
признак фиксации указан у группы, то прижата будет вся группа (вместе со
всеми подчиненными элементами формы), при этом значение свойства <span class="Term">ФиксацияВТаблице</span> для подчиненных элементов
игнорируется. Если признак фиксации указан у колонки, входящей
в группу, для которой свойство <span class="Term">ФиксацияВТаблице</span>
установлено в значение <span class="Term">Нет</span>,
то колонка будет обрабатываться как отдельная колонка, не входящая
в группу.</p>

<a name="_ref17634804"></a><a name="_ref17629145"></a><a id="TI000002211" class="bookmark" name="issogl3_7.7.6.6_поиск_в_таблице"><h4>7.7.6.6. Поиск в таблице</h4></a>

<p class="MsoNormal">Если таблица отображает данные типа <span class="Term">ДинамическийСписок</span>,
то описание особенностей поиска см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref377645922">здесь</a>.</p>

<p class="MsoNormal">Поиск
в таблице не оказывает влияния на содержимое свойства <span class="Term">ДанныеФормыКоллекция.ОтборСтрок</span>. Содержимое
свойства <span class="Term">ДанныеФормыКоллекция.ОтборСтрок</span>
не отображается дополнением элемента формы <span class="Interface">Состояние просмотра</span>.</p>

<p class="MsoNormal">Свойство <span class="Interface">Поиск при вводе
символов</span> отвечает за то, каким образом система будет обрабатывать
набор символов с клавиатуры, если активным элементом является таблица
и в колонку невозможен непосредственный ввод данных:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; в этом случае для таблицы, связанной
с динамическим списком свойство интерпретируется как <span class="Interface">Использовать</span>,
для таблиц, отображающих другие типы данных свойство интерпретируется как <span class="Interface">Не использовать</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Использовать</span> &#8209; поиск при вводе символов выполняется для любых
типов реквизитов, связанных с таблицей, если у колонки,
в которой осуществляется ввод символов, свойство <span class="Interface">Режим редактирования</span>
установлено в значение <span class="Interface">Вход</span>. Для поиска будет использоваться или строка поиска
(если разрешено с помощью свойства таблицы <span class="Interface">Положение строки поиска</span>,
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref377996546">здесь</a>) или форма поиска, если строка поиска запрещена в данной
таблице.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Не использовать</span> &#8209; поиска при вводе символов не используется для любых
типов реквизитов, связанных с таблицей.</p>

<p class="MsoNormal">При поиске
используется следующий алгоритм:</p>

<p class="MsoListBullet">&#9679; 
Строка поиска разбивается на слова. Строка
поиска не должна быть длиннее 1 000 символов, а количество слов,
полученных при разбиении, не должно быть больше 20. Разбиение выполняется
по следующим правилам:</p>

<p class="MsoListBullet2">&#9679; 
Строка разбивается, используя символы пробела
и табуляции в качестве разделителей.</p>

<p class="MsoListBullet2">&#9679; 
Затем обрабатывается каждый получившийся
фрагмент:</p>

<p class="MsoListBullet3">&#9679; 
Если фрагмент является представлением даты (с
временем или без него) с учетом текущих региональных установок
сеанса, то словом является этот фрагмент.</p>

<p class="MsoListBullet3">&#9679; 
Иначе фрагмент разбивается далее, используя
в качестве разделителей символы "<span class="Interface">,.-/\</span>". В этом случае
в качестве слова принимается каждый получившийся фрагмент строки.</p>

<p class="MsoListBullet">&#9679; 
Для каждого слова формируется свой набор условий
для каждой колонки таблицы, которые объединяются «по ИЛИ». Условия формируются
в зависимости от типа колонки:</p>

<p class="MsoListBullet2">&#9679; 
Тип <span class="Term">Строка</span>.
Слово ищется началу слова. Если в слове есть буквы и цифры, то:</p>

<p class="MsoListBullet3">&#9679; 
Последовательность, состоящая только
из букв, считается отдельным словом.</p>

<p class="MsoListBullet3">&#9679; 
Последовательность, состоящая только
из цифр, считается отдельным словом.</p>

<p class="MsoListBullet2">&#9679; 
Тип <span class="Term">Число</span>.
Слово преобразуется к числу. Если преобразование выполнить невозможно &#8209; поиск по полю выполняться не будет. Если
преобразование завершилось успешно, то для поиска будет использоваться
следующее условие: <span class="Term">ЗначениеПоля
&gt;= Целое(Слово) И ЗначениеПоля&lt;(Целое(Слово)+1)</span>. Для
значений с ведущими нулями, поиск будет выполняться как по строке
с ведущими нулями, так и по строке, указанной без ведущих нулей.</p>

<p class="MsoListBullet2">&#9679; 
Тип <span class="Term">Булево</span>.
Проверяется равенство слова и локализованному представлению значения типа <span class="Term">Булево</span> (для языка локализации текущего
сеанса).</p>

<p class="MsoListBullet2">&#9679; 
Тип <span class="Term">Дата</span>.
Слово преобразуется к дате с автоматическим дополнением месяца
и года. Значение поля будет проверяться на нахождение внутри дня,
определенного полученной датой <span class="Term">(ЗначениеПоля
&gt;= НачалоДня(Слово) И ЗначениеПоля&lt;=КонецДня(Слово)</span>).</p>

<p class="MsoListBullet2">&#9679; 
Для ссылочных полей выполняется поиск
по началу слова в представлении ссылочного поля.</p>

<p class="Indentlist">Набор условий для
каждого слова объединяются «по И».</p>

<p class="MsoNormal">Элемент
в таблице считается найденным (в том числе, если этот элемент содержит
подчиненные), если выполняется хотя-бы одно условие:</p>

<p class="MsoListBullet">&#9679; 
Если в нем есть все искомые слова.</p>

<p class="MsoListBullet">&#9679; 
Если в нем есть хотя бы одно искомое слово,
а остальные слова содержатся в его родителях, в первой видимой
колонке, имеющей строковый или ссылочный тип.</p>

<p class="MsoNormal">Если после
поиска в какой-либо строке произойдет изменение значения колонки, то
строка не будет скрыта до тех пор, пока не будет изменено поисковое значенеие
и поиск не будет повторен.</p>

<p class="MsoNormal">Если
в таблице установлен поисковый отбор, то в таблице будут недоступны
команды перемещения текущего элемента таблицы вверх и вниз.</p>

<a name="_ref30508722"></a><a id="TI000002297" class="bookmark" name="issogl3_7.7.6.7_определение_текущей_строки_таблицы"><h4>7.7.6.7. Определение текущей строки таблицы</h4></a>

<p class="MsoNormal">При открытии формы, которая содержит
таблицу, определение текущей строки происходит в результате анализа
свойства таблицы формы клиентского приложения <span class="Interface">Нач. отображение
списка</span> (<span class="Term">НачальноеОтображениеСписка</span>):</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Начало</span> &#8209; в качестве текущей будет первая строка списка.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Конец</span> &#8209; в качестве текущей будет последняя строка
списка.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; текущая строка списка определяется типом данных,
отображаемых таблицей. Переход в конец списка будет выполняться для
таблицы, которая отображает динамический список, в котором первым полем
в списке сортировке выступает поле <span class="Term">Дата</span>
или <span class="Term">Период</span>.
Динамический список должен обрабатывать следующие данные: списки документов,
бизнес-процессов и задач, журналы документов, записи регистров
бухгалтерии, расчета, накопления и периодических регистров сведений. В
остальных случаях текущей строкой будет первая строка таблицы.</p>

<p class="MsoNormal">Если при обновлении
таблицы изменяется состав отображаемых строк в отображаемой области, то
поведение зависит от того, какой состав строк перестал отображать:</p>

<p class="MsoListBullet">&#9679; 
Только текущая строка таблицы &#8209; в этом случае текущей строкой таблицы
становится ближайшая (по ключу) строка списка, относительно которой
и формируется новый список для отображения.</p>

<p class="MsoListBullet">&#9679; 
Все строки в отображаемой части &#8209; в этом случае для определения первой строки
отображения используется свойство таблицы формы <span class="Interface">Нач. отображение списка</span> (<span class="Term">НачальноеОтображениеСписка</span>). Поведение
аналогично определению текущей строки при первом отображении таблицы
в данной форме.</p>

<a name="_toc420398523"></a><a name="_ref374441214"></a><a name="_ref374441213"></a><a name="_ref367965084"></a><a name="_ref367965083"></a><a name="_toc298859907"></a><a name="_toc237692854"></a><a name="_toc164776117"></a><a id="TI000000419" class="bookmark" name="issogl2_7.7.7_кнопка"><h3>7.7.7. Кнопка</h3></a>

<p class="MsoNormal">На форме
команда отображается элементом формы <span class="Interface">Кнопка</span>. Кнопка может отображаться в командной
панели и просто на форме. В случае своего отображения на форме
кнопка может также иметь вид гиперссылки (для этого нужно изменить свойство <span class="Interface">Вид</span>).</p>

<p class="MsoNormal">Команда,
к которой будет происходить обращение по нажатию кнопки,
устанавливается с помощью свойства <span class="Interface">Команда</span>. Кнопка будет отображаться запрещенной, если
у команды, связанной с этой кнопкой, свойство <span class="Interface">Изменяет сохраняемые
данные</span> имеет значение <span class="Term">Истина</span>,
а свойство <span class="Term">ТолькоПросмотр</span>
установлено в значение <span class="Term">Истина</span>
для этой кнопки или формы в целом.</p>

<p class="MsoNormal">Если
кнопка, связанная с командой, размещена в командной панели, то ее
размещение регулируется свойством <span class="Interface">Положение в командной панели</span> (<span class="Term">ПоложениеВКомандойПанели</span>):</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В дополнительном подменю</span> &#8209; кнопка размещена только в дополнительном
подменю <span class="Interface">Еще</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В командной панели</span> &#8209; кнопка размещается только в командной панели.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">В командной панели
и дополнительном подменю</span> &#8209; кнопка размещена одновременно
и в командной панели и в меню <span class="Interface">Еще</span> (если оно
есть в командной панели).</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; положение
выбирается системой автоматически, в зависимости от команды
и вида клиентского приложения.</p>

<p class="MsoNormal">Меню <span class="Interface">Еще</span> в командной
панели формируется в следующих случаях:</p>

<p class="MsoListBullet">&#9679; 
В командной панели есть команды, для которых
указано размещение <span class="Interface">В дополнительном подменю</span>.</p>

<p class="MsoListBullet">&#9679; 
В текущие размеры командной панели не
поместились команды с размещением <span class="Interface">В командной панели и дополнительном подменю</span>.</p>

<p class="MsoNormal">Пользователь
имеет возможность изменить размещение кнопки с помощью редактора настройки
формы, который доступен в режиме «1С:Предприятия» с помощью команды
формы <span class="Interface">Еще</span><span class="Interface"> &#8209; Изменить форму</span>.</p>

<p class="MsoNormal">Со
свойством <span class="Interface">Положение в командной панели</span> тесно связано свойство
<span class="Interface">Уникальность
команды</span> (<span class="Term">УникальностьКоманды</span>).
Кратко смысл данного свойства состоит в том, чтобы позволить в одной
командной панели с автоматическим заполнением разместить две кнопки,
связанные с одной стандартной командой, но эти кнопки должны быть
размещены в разных местах командной панели. Ключевыми моментами является
то, что а) командная панель должна быть с автоматическим заполнением
и б) это работает только для стандартных команд. Рассмотрим пример.</p>

<p class="MsoNormal">Допустим,
в форме существует реквизит с именем <span class="Term">ТабДок</span>
типа <span class="Term">ТабличныйДокумент</span>.
Этот реквизит размещен на форме (с тем же именем) и на форме создана
командная панель (<span class="Term">КомандыТаблицы</span>),
у которой источником команд выбран реквизит <span class="Term">ТабДок</span>.
Мы хотим разместить команду <span class="Interface">Зафиксировать таблицу</span> и в командной панели
формы и оставить ее там, где она размещается по умолчанию (<span class="Interface">Еще</span><span class="Interface"> &#8209; Вид</span><span class="Interface"> &#8209; Зафиксировать таблицу</span>).
Вначале мы перетаскиваем команду <span class="Interface">Зафиксировать таблицу</span> из перечня стандартных команд
(в редакторе формы <span class="Interface">Команды</span><span class="Interface"> &#8209; Стандартные
команды</span><span class="Interface"> &#8209; ТабДок</span><span class="Interface"> &#8209; Зафиксировать таблицу</span>)
в командную панель <span class="Term">КомандыТаблицы</span>.
В результате команда окажется только в меню <span class="Interface">Еще</span> (это стандартное размещение для
этой команды), но пропадет из размешения по умолчанию. Это нас не
устраивает. Поэтому мы встаем в редакторе формы на кнопку <span class="Term">ТабДокЗафиксироватьТаблицу</span>
и устанавливаем следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
Свойство <span class="Interface">Положение в командной панели</span> устанавливаем
в значение <span class="Interface">В командной панели</span>. Теперь требуемая команда оказалась
сразу видимой и пропала из меню <span class="Interface">Еще</span>.</p>

<p class="MsoListBullet">&#9679; 
Сбрасываем свойство <span class="Interface">Уникальность команды</span>.
В результате команда снова появилась в том месте меню, в котором она
размещалась по умолчанию.</p>

<p class="Regularbeforepicture">Получившийся
вид формы приведен на рисунке.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:774/425" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00331.gif" width="774" alt="" height="425"></p>

<p class="MsoCaption">Рис. 333. Уникальность команды для кнопки формы</p>

<p class="MsoNormal">Для
кнопки, связанной с командой <span class="Interface">Создать по параметру</span>, имеется возможность указать
тип документа, который будет создаваться при нажатии на кнопку. Это можно
сделать с помощью свойства кнопки <span class="Interface">Параметр</span>.</p>

<p class="MsoNormal">Если для
команды формы не задано свойство <span class="Interface">Подсказка</span>, то для кнопки, связанной с этой
командой, не будет отображаться всплывающая подсказка. Если
заголовок кнопки не может быть целиком отображен на кнопке, то полный
текст заголовка отображается во всплывающей подсказке первой (или единственной,
если для кнопки не задана подсказка) строкой.</p>

<p class="Regularbeforepicture">Кнопка
может иметь несколько режимов отображения (свойство <span class="Interface">Отображение</span>).
Если выбрано отображение <span class="Interface">Картинка и текст</span>, то картинка, расположенная
на кнопке, может располагаться слева или справо относительно текста
кнопки. Для управления этим расположением предназначено свойство кнопки <span class="Interface">Положение картинки</span>
(доступно для кнопки формы и кнопки командной панели). Если данное
свойство установлено в значение <span class="Interface">Авто</span>, то картинка будет рсполагаться с левой
стороны текста.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:204/40" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00332.gif" width="204" alt="" height="40"></p>

<p class="MsoCaption">Рис. 334. Положение картинки кнопки</p>

<p class="MsoNormal">В том случае, если
для кнопки выбрано отображение <span class="Interface">Картинка</span>, картинка всегда будет располагаться
по центру кнопки.</p>

<p class="Regularbeforepicture">Кнопка
управляемой формы может отображаться различными способами. Для этого
предназначено свойство кнопки <span class="Interface">Фигура кнопки</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:196/38" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00333.gif" width="196" alt="" height="38"></p>

<p class="MsoCaption"><a name="_ref145577934">Рис. </a>335. Фигура кнопки</p>

<p class="MsoNormal">Данное свойство может
принимать следующие значения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; в этом случае для стандартных команд
используется значение, указанное для команды. Для остальных команд значение
трактуется как <span class="Interface">Обычная</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обычная</span>, <span class="Interface">Овал</span> &#8209; форма кнопки соответствует значению (<a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577934">рис.335</a>).</p>

<p class="MsoNormal">Задавать фигуру
кнопки можно для кнопок, расположенных на форме и в командной
панели. Свойство не действует на команды, расположенные в подменю.</p>

<p class="Regularbeforepicture">Для
кнопки, отображаемой на форме, имеется возможность управлять отображением
фигуры этой кнопки. Это осуществляется с помощью свойства <span class="Interface">Отображение фигуры</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:541/103" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00334.gif" width="541" alt="" height="103"></p>

<p class="MsoCaption"><a name="_ref145577956">Рис. </a>336. Отображение
фигуры кнопки</p>

<p class="MsoNormal">Для отображения
фигуры кнопки можно указать несколько различных способов:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; в этом случае для стандартных кнопок
используется вариант отображения, заданный для команды. В остальных случаях
трактуется как <span class="Interface">Всегда</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Всегда</span> &#8209; в этом случае фигура кнопки отображается
всегда (первая строка в примере на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577956">рис.336</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">При активности</span> &#8209; в этом случае в обычном состоянии кнопка
отображается без фона и рамки (вторая строка в примере на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577956">рис.336</a>). В том случае, если курсор мыши указывает
на кнопку, на ней установлен фокус ввода или у кнопки
установлено свойство <span class="Term">Пометка</span> &#8209; отображается стандартная кнопка с заданными
цветами рамки и фона.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span> &#8209; в этом случае в обычном состоянии кнопка
отображается без фона и рамки. При наведении курсора у текста
появляется подчеркивание (третья строка в примере на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577956">рис.336</a>) и изменяется курсор мыши. Свойство <span class="Term">Пометка</span> никак не отображается в этом
варианте отображения.</p>

<p class="MsoNormal">Свойство
определяет отображение для кнопок, расположеных на форме
и в командных панелях. Свойство <span class="Interface">Отображение фигуры</span> не действует
на команды, расположенные в подменю.</p>

<p class="MsoNormal">Еще одним
способом управления внешним видом кнопки является задание свойства <span class="Interface">Вид</span>. В
зависимости от того, где расположена кнопка, это свойство может принимать
значения:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обычная кнопка</span>, <span class="Interface">Кнопка командной
панели</span> &#8209; в этом случае кнопка
отображается обычным образом;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Гиперссылка</span>, <span class="Interface">Гиперссылка командной
панели</span> &#8209; в этом случае кнопка
отображается в виде гиперссылки.</p>

<p class="MsoNormal">При перетаскивании кнопки
между формой и командной панелью, значение свойства <span class="Interface">Вид</span>
сохраняется, адаптируясь к расположению команды.</p>

<a name="_toc420398524"></a><a name="_ref419713226"></a><a name="_ref350941832"></a><a name="_ref350941831"></a><a name="_toc298859908"></a><a name="_ref256161094"></a><a name="_toc237692855"></a><span class="Hidden"></span><span class="Hidden"></span><a name="_toc164776118"></a><a id="TI000000420" class="bookmark" name="issogl2_7.7.8_группа"><h3>7.7.8. Группа</h3></a>

<a id="TI000001966" class="bookmark" name="issogl3_7.7.8.1_общая_информация"><h4>7.7.8.1. Общая информация</h4></a>

<p class="MsoNormal">При
разработке формы имеется возможность различного объединения элементов. Можно
объединять поля, страницы формы, команды, колонки.</p>

<p class="MsoNormal">На форме
могут находиться группы элементов управления. Это могут быть группы полей,
страницы, группы команд. Также для элементов типа <span class="Interface">Таблица</span> можно
создавать группы колонок.</p>

<p class="MsoNormal">В редакторе
можно создать группы следующих видов:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обычная группа</span> &#8209; предназначена для объединения элементов формы.
Более подробное описание обычной группы см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref494799592">здесь</a>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Командная панель</span> &#8209; элемент формы, предназначенный для размещения
кнопок и групп. Более подробное описание обычной группы
см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref494799606">здесь</a>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Страницы</span> &#8209; данная группа предназначена для организации панели
с закладками. Закладки могут располагаться как по вертикали, так
и по горизонтали. Для того чтобы добавить на такую панель страницы,
необходимо добавить столько вложенных групп, сколько страниц должно быть
у панели. Внутри группы вида <span class="Interface">Страницы</span> могут располагаться только группы вида <span class="Interface">Страница</span> &#8209; группы специального вида, которая предназначена для
формирования страниц панели. Данная группа может содержать другие вложенные
элементы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Группа колонок</span> &#8209; позволяет объединять колонки в таблице.
С помощью группы этого вида можно изменять правило группировки колонок
(вертикальная или горизонтальная группировка).</p>

<p class="MsoNormal">Группы могут быть вложенными.
Элементы формы можно перемещать между группами. При этом автоматически
определяется допустимость такого переноса. В случае если перенос требует
изменения каких-либо свойств элемента (например, <span class="Interface">Вид</span>), изменение осуществляется
автоматически. Если в результате изменились требования к подчиненным
элементам, они либо автоматически изменяются, либо удаляются.</p>

<a name="_ref494881744"></a><a name="_ref494799592"></a><a id="TI000001967" class="bookmark" name="issogl3_7.7.8.2_обычная_группа"><h4>7.7.8.2. Обычная группа</h4></a>

<p class="MsoNormal">Обычная группа
может обладать различными вариантами оформления:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span> &#8209; группа специально никак не выделяется;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Слабое выделение</span> &#8209; заголовок группы отображается большим шрифтом
зеленого цвета;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обычное выделение</span> &#8209; заголовок группы
отображается большим шрифтом зеленого цвета. Вокруг элементов группы (с каждой
стороны) формируются отступы;</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Сильное выделение</span> &#8209; заголовок группы отображается большим шрифтом
зеленого цвета. С левой стороны (на всю высоту группы) формируется полоса
зеленого цвета. Снизу формируется отступ.</p>

<p class="MsoNormal">Если
у обычной группы задан цвет фона, отличный от <span class="Interface">Авто</span>, то
у группы со всех сторон появляются внутренние отступы. Отступ
у обычной группы определяется для каждого края (лево, право, верх, низ),
однако данный отступ не применяется, если группа данным краем касается края
формы.</p>

<p class="MsoNormal">Обычную
группу можно настроить таким образом, что пользователь (в режиме «1С:Предприятия»)
сможет сворачивать или разворачивать такую группу. Например, можно разместить
в сворачиваемой группе информацию, которая не важна при регулярной работе
с формой, но иногда может потребоваться для просмотра и анализа.</p>

<p class="MsoNormal">Поведение
группы определяется свойством <span class="Interface">Поведение</span>:</p>

<p class="MsoListBullet">&#9679; 
Обычная группа. Для такой группы свойство <span class="Interface">Поведение</span>
установлено в значение <span class="Interface">Обычное</span>. Данная группа никак не меняет свое отображение
при действиях пользователя (кроме программной модификации состава
и внешнего вида группы и входящих в нее элементов).</p>

<p class="MsoListBullet">&#9679; 
Свертываемая группа. Для такой группы свойство <span class="Interface">Поведение</span>
установлено в значение <span class="Interface">Свертываемая</span>. Такая группа может быть свернута или
развернута пользователем в режиме «1С:Предприятие». Прикладной разработчик
не может определить текущее состояние группы из встроенного языка. Также
он не может принудительно свернуть или развернуть группу. Начальное состояние
группы определяется флажком <span class="Interface">Свернута</span>. Группа не может быть свернута или развернута,
если у нее не отображается заголовок или заголовок не заполнен.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:653/416" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00335.gif" width="653" alt="" height="416"></p>

<p class="MsoCaption">Рис. 337. Свернутая/развернутая группа</p>

<p class="Indentlist">Пользователь может
управлять состоянием группы (свернутая или развернутая) с помощью
специальной картинки или гиперссылки. Для задания элемента, управляющего
состоянием, служит свойство <span class="Interface">Отображение управления</span>. Также можно задать заголовок
группы (свойство <span class="Interface">Свернутый заголовок</span>), который будет отображаться
в том случае, если группа находится в свернутом состоянии. Если
свойство <span class="Interface">Свернутый
заголовок</span> не заполнено, то в свернутом состоянии будет отображаться
обычный заголовок группы.</p>

<p class="MsoListBullet">&#9679; 
Всплывающая группа. Для такой группы свойство <span class="Interface">Поведение</span>
установлено в значение <span class="Interface">Всплывающая</span>. В начальном состоянии всплывающая группа
отображается аналогично свертываемой группе.</p>

<p class="Indentlist">При нажатии
на заголовок такой группы, она «всплывает» над родительской формой
в специальном окне. В каждый момент времени на форме может быть
только одна всплывающая группа. Из этого вытекает, что всплывающие группы не
могут быть вложенными. Вложенная всплывающая группа будет отображаться как
свертываемая группа. Отображение и скрытие всплывающей группы не требует
серверного вызова.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:622/395" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00336.gif" width="622" alt="" height="395"></p>

<p class="MsoCaption">Рис. 338. Всплывающая группа</p>

<p class="Indentlist">У всплывающей
группы должен быть задан заголовок. Без заданного заголовка всплывающая группа
ведет себя как обычная группа. Заголовок выступает в роли текста
гиперссылки, нажатие на которую приводит к отображению окна
с содержимым группы.</p>

<p class="MsoNormal">При интерактивном
переходе к элементу (с помощью кнопки <span class="Interface">Tab</span>), который расположен в свертываемой или
всплывающей группах, выполняется автоматическое отображение вложенных элементов
группы в необходимом режиме. При интерактивном выходе из свертываемой
или всплывающей группы (с помощью кнопки <span class="Interface">Tab</span>),
фокус передается следующему элементу формы (по порядку движения). При этом
свертываемая группа отсается развернутой, а всплывающая группа будет
скрыта.</p>

<p class="MsoNormal">Из
встроенного языка доступен программный интерфейс, который позволяет выполнить
следующий набор действий:</p>

<p class="MsoListBullet">&#9679; 
Отобразить группу. Используется метод расширения
группы управляемой формы <span class="Term">Показать()</span>.
При вызове этого метода:</p>

<p class="MsoListBullet2">&#9679; 
Обычная группа никак не реагирует. Ошибка не
генерируется.</p>

<p class="MsoListBullet2">&#9679; 
Свертываемая группа разворачивается. Активный
элемент формы не меняется.</p>

<p class="MsoListBullet2">&#9679; 
Всплывающая группа показывается. Активным
становится первый элемент всплывающей группы.</p>

<p class="MsoListBullet">&#9679; 
Скрыть группу. Используется метод расширения
группы управляемой формы <span class="Term">Скрыть()</span>.
При вызове этого метода:</p>

<p class="MsoListBullet2">&#9679; 
Обычная группа никак не реагирует. Ошибка не
генерируется.</p>

<p class="MsoListBullet2">&#9679; 
Свертываемая группа сворачивается. Активный
элемент формы не меняется.</p>

<p class="MsoListBullet2">&#9679; 
Всплывающая группа скрывается. Активной
становится картинка перед заголовком всплывающей группы.</p>

<p class="MsoListBullet">&#9679; 
Получить состояние группы. Используется метод
расширения группы управляемой формы <span class="Term">Скрыта()</span>.
При вызове этого метода:</p>

<p class="MsoListBullet2">&#9679; 
Для обычной группы всегда возвращается <span class="Term">Ложь</span>.</p>

<p class="MsoListBullet2">&#9679; 
Для свертываемой и всплывающей группы
возвращается <span class="Term">Истина</span>, если
группа свернута или не показывается (соответственно). <span class="Term">Ложь</span> возвращается в противном случае.</p>

<a name="_ref494799606"></a><a id="TI000001968" class="bookmark" name="issogl3_7.7.8.3_командная_панель"><h4>7.7.8.3. Командная панель</h4></a>

<p class="MsoNormal">Свойство
командной панели <span class="Interface">Источник команд</span> определяет элемент формы (<span class="Interface">Форма</span>,
а также элементы формы типа <span class="Interface">Таблица</span> и поля вида <span class="Interface">Поле табличного документа</span> или <span class="Interface">Поле графической схемы</span>),
который предоставит «свои» команды для отображения в командной панели.
Состав команд для отображения в командной панели регулируется свойством <span class="Interface">Состав</span> команд
элемента формы, являющегося источником команд.</p>

<p class="MsoNormal">В том
случае, когда в командной панели у всех кнопок свойство <span class="Term">ТолькоВоВсехДействиях</span> имеет значение <span class="Term">Ложь</span> и не все кнопки могут быть размещены
на командной панели (по ширине), в командной панели автоматически
формируется кнопка <span class="Interface">Еще</span> (с подменю). В это подменю размещаются все команды
командной панели.</p>

<p class="MsoNormal">Группа,
добавляемая в командную панель, может быть одного из следующих видов:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Подменю</span> &#8209; группа, которая позволяет делать выпадающие меню.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Группа кнопок</span> &#8209; позволяет создать группу кнопок, которые будут
обладать следующими свойствами:</p>

<p class="MsoListBullet2">&#9679; 
группа кнопок отделяется разделителями слева
и справа;</p>

<p class="MsoListBullet2">&#9679; 
каждая группа кнопок может обладать собственным
источником команд;</p>

<p class="MsoListBullet2">&#9679; 
имеется возможность задать плотность
расположения кнопок в группе: компактно или обычно (свойство <span class="Interface">Отображение</span>).
Значение свойства <span class="Interface">Авто</span> трактуется как <span class="Interface">Обычное</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:176/204" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00337.gif" width="176" alt="" height="204"></p>

<p class="MsoCaption">Рис. 339. Расположение кнопок группы</p>

<p class="MsoNormal">Свойство <span class="Interface">Отображение</span>
действует только на те кнопки командной панели, для которых свойство <span class="Interface">Отображение фигуры</span>
трактуется как <span class="Interface">Всегда</span> (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref374441213">здесь</a>).</p>

<a id="TI000001969" class="bookmark" name="issogl3_7.7.8.4_особенности_использования_групп_формы"><h4>7.7.8.4. Особенности использования групп формы</h4></a>

<p class="MsoNormal">Свойство <span class="Interface">Только просмотр</span>
группы влияет на все элементы, подчиненные группе.</p>

<p class="MsoNormal">Свойство
группы <span class="Interface">Разрешить
изменение состава</span> управляет возможностью изменять состав группы
в процессе настройки формы пользователем. Если свойство выключено, то
пользователь не может изменять состав и менять порядок элементов внутри
группы. Однако свойство не влияет на возможность пользователя изменить
видимость элементов, входящих в состав группы.</p>

<p class="MsoNormal">Если
у группы указано свойство <span class="Interface">Данные заголовка</span>, то эти данные будут автоматически
отображаться в заголовке группы. Если у группы установлено свойство <span class="Interface">Заголовок</span>, то
данные<span class="Interface">
заголовка</span> отображаются в скобках после заголовка: <span class="Interface">Заголовок (Данные
заголовка)</span>.</p>

<p class="MsoNormal">Любая
группа кнопок (командная панель, подменю, группа кнопок, контекстное меню)
заполняется по одинаковым правилам. Кнопки будут отображены
в следующем порядке:</p>

<p class="List1">1. 
Кнопки, предоставляемые источником команд,
с которым связана данная группа.</p>

<p class="MsoListNumberCxSpMiddle">2.  Кнопки
командного интерфейса, если источник команд подразумевает его включение.</p>

<p class="MsoListNumberCxSpMiddle">3.  Пользовательские
команды, добавленные в данную группу.</p>

<p class="MsoListNumberCxSpMiddle">4.  Команды
меню <span class="Interface">Еще</span>
(<span class="Interface">Все
действия</span>) (только для командной панели).</p>

<p class="MsoListNumberCxSpLast">5.  Последней
будет размещена <span class="Interface">Справка</span> (в том случае если она была предоставлена
источником команд).</p>

<p class="MsoNormal">Если
вышеприведенный автоматический порядок расположения кнопок в группе не
устраивает, то можно воспользоваться следующими возможностями:</p>

<p class="MsoListBullet">&#9679; 
Снять флажок <span class="Interface">Автозаполнение</span> для командной панели
формы, контекстного меню или командной панели элемента и добавить нужные
команды (в нужном порядке) вручную.</p>

<p class="MsoListBullet">&#9679; 
Отключить источник команд командной панели,
затем добавить нужные команды (в нужном порядке) вручную, затем добавить группу
типа <span class="Interface">Группа
кнопок</span> и установить для добавленной группы источник команд.</p>

<p class="MsoListBullet">&#9679; 
Можно вручную поместить кнопку, связанную со стандартной
командой источника команд, в необходимое место командной панели. В этом
случае соответствующая команда не будет использоваться при автоматическом
размещении команд источника в текущей командной панели, а останется
на том месте, куда ее разместили вручную.</p>

<a name="_toc298859909"></a><a name="_toc237692856"></a><a name="_ref198979081"></a><a name="_toc420398525"></a><a name="_ref377996546"></a><span class="Hidden"></span><span class="Hidden"></span><a name="_toc164776119"></a><a id="TI000001338" class="bookmark" name="issogl2_7.7.9_дополнение_элемента_формы"><h3>7.7.9. Дополнение элемента формы</h3></a>

<a id="TI000002584" class="bookmark" name="issogl3_7.7.9.1_общая_информация"><h4>7.7.9.1. Общая информация</h4></a>

<p class="Regularbeforetable">Дополнение элемента формы предназначено для
отображения дополнительных свойств элемента формы (дополнения элемента формы)
и управления этими элементами. Дополнения элемента формы поддерживаются
для элементов формы <span class="Interface">Таблица</span> и <span class="Interface">Поле </span><span class="Interface">PDF документа</span>.
Доступны следующие дополнения:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <thead>
  <tr>
   <td>
   <p class="MsoNormal"><b>Дополнение</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Элемент формы</b></p>
   </td>
   
   <td>
   <p class="MsoNormal"><b>Описание</b></p>
   </td>
   
  </tr>
 </thead>
 <tbody><tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Отображение
  строки поиска</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Таблица</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Позволяет
  настроить отображение строки поиска.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Состояние
  просмотра</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Таблица</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Позволяет
  настроить отображение перечня примененных поисковых запросов. Не может располагаться в командной панели.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"> </p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Поле </span><span class="Interface">PDF</span><span class="Interface"> документа</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Позволяет настроить отображение дополнительных
  свойств PDF-документа, отображаемого
  на форме.</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Управление
  поиском</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal"><span class="Interface">Таблица</span></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormal">Позволяет
  настроить внешний вид кнопки управления поиском.</p>
  </td>
  
 </tr>
</tbody></table>

<p class="MsoNormal">Для того, чтобы показать дополнения
элементов формы в дереве элементов, необходимо развернуть дерево
подчиненных элементов для собственно элемента формы, который отображает таблицу
или поле PDF-документа. Настройка дополнений элементов выполняется
в зависимости от самого дополнения и элемента формы, для
которого настраивается дополнение.</p>

<a id="TI000002585" class="bookmark" name="issogl3_7.7.9.2_дополнения_для_элемента_таблица"><h4>7.7.9.2. Дополнения для элемента таблица</h4></a>

<p class="MsoNormal">Более подробно рассмотрим указанные
дополнения. Таблица, расположенная на форме клиентского приложения,
предоставляет возможность выполнять интерактивный поиск в отображаемых
данных. Поиск может осуществляться с помощью следующих инструментов:
строка поиска, диалог поиска, поиск текущего значения, с помощью истории
поиска и путем установки периода отображения. Установка периода
отображения доступна только в том случае, если таблица отображает
отображающих динамический список, у которого в качестве основной
таблицы списка выступает таблица документа или журнала документов.</p>

<p class="MsoNormal">Результатом поиска является отображение
ограниченного набора записей в таблице (из всех, доступных текущему
пользователю), которые соответствуют критериям поиска. Возможность настройки
поиска поддерживается для таблиц, связанных со следующими реквизитами формы:
динамический список (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref370224106">здесь</a>), таблица значений,
дерево значений, табличная часть какого-либо объекта.</p>

<p class="MsoNormal">Для управления возможностями поиска
в таблице формы предназначены следующие свойства элемента формы <span class="Interface">Таблица</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Положение строки поиска</span> &#8209; определяет
положение строки поиска. Может принимать следующие значения: <span class="Interface">Авто</span>, <span class="Interface">Командная панель</span>, <span class="Interface">Нет</span>, <span class="Interface">Верх</span>,
<span class="Interface">Низ</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:772/320" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00338.gif" width="772" alt="" height="320"></p>

<p class="MsoCaption">Рис. 340. Строка поиска
в таблице</p>

<p class="Indentlist">Если значение этого свойства установлено
в значение <span class="Interface">Командная панель</span>,
то отображение зависит от источника данных для таблицы:</p>

<p class="MsoListBullet2">&#9679; 
Таблица отображает данные динамического списка.
В этом случае строка поиска отображется в командной панели формы (если
динамический список является основным реквизитом формы) или в командной
панели, связанной с динамическим списком.</p>

<p class="MsoListBullet2">&#9679; 
В остальных случаях строка поиска отображается
в командной панели, связанной с настраиваемой таблицей.</p>

<p class="Indentlist">Строка поиска, размещенная в командной
панели, всегда прижимается к правому краю командной панели (вместе
с кнопками, расположенными правее строки поиска).</p>

<p class="Indentlist">Если свойство установлено в значение <span class="Interface">Нет</span>, то строка поиска будет отсутствовать на форме,
а при начале набора поисковой строки будет открываться диалог.</p>

<p class="Indentlist">Если свойство установлено в значение <span class="Interface">Верх</span>, то строка поиска будет расположена между командной
панелью таблицы и собственно таблицей формы. Если свойство установлено
в значение <span class="Interface">Низ</span>, то строка
поиска будет размещена сразу после таблицы.</p>

<p class="Indentlist">Значение <span class="Interface">Авто</span> интерпретируется как <span class="Interface">Нет</span> (если таблица отображает дерево или список значений)
и <span class="Interface">Командная панель</span>
во всех остальных случаях.</p>

<p class="Indentlist">Переход к строке поиска осуществляется
следующим образом:</p>

<p class="MsoListBullet2">&#9679; 
Нажатием сочетания клавиш <span class="Interface">Ctrl + </span><span class="Interface">F</span>;</p>

<p class="MsoListBullet2">&#9679; 
Мышью;</p>

<p class="MsoListBullet2">&#9679; 
При начале набора текста в таблице
(подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref17629145">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Положение состояния
просмотра</span> &#8209; описывает, где будет отображаться состояние
просмотра: по каким полям выполнялся поиск и какие значения искались
в каждом поле. Может принимать следующие значения: <span class="Interface">Авто</span>, <span class="Interface">Нет</span>, <span class="Interface">Верх</span>,
<span class="Interface">Низ</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:806/378" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00339.gif" width="806" alt="" height="378"></p>

<p class="MsoCaption">Рис. 341. Состояние поиска
в таблице</p>

<p class="Indentlist">Если свойство установлено в значение <span class="Interface">Нет</span>, то состояние просмотра будет отсутствовать
на форме. В результате определить, выполнен поиск или нет, можно будет
только по доступности кнопки <span class="Interface">Отменить поиск</span>.</p>

<p class="Indentlist">Если свойство установлено в значение <span class="Interface">Верх</span>, то состояние просмотра будет расположено между
командной панелью списка и таблицей. Если свойство установлено в значение
<span class="Interface">Низ</span>, то
состояние просмотра будет размещено сразу после таблицы.</p>

<p class="Indentlist">Значение <span class="Interface">Авто</span> интерпретируется как <span class="Interface">Верх</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Положение управления
поиском</span> &#8209; определяет, где будет отображаться кнопка
управления поиском. Кнопка открывает меню, которое содержит следующую
информацию: команды <span class="Interface">Найти по текущему
значению</span>, <span class="Interface">Расширенный поиск</span>,
<span class="Interface">Отменить поиск</span>,
<span class="Interface">Установить период</span>
и история поисковых запросов (последние 5 запросов). Команда <span class="Interface">Установить период</span> доступна в том случае, когда
таблица отображает динамический список, у которого в качестве
основной таблицы задана таблица документа или журнала документов. Свойство
может принимать значения: <span class="Interface">Авто</span>,
<span class="Interface">Нет</span>, <span class="Interface">Командная панель</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:761/326" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00340.gif" width="761" alt="" height="326"></p>

<p class="MsoCaption">Рис. 342. Управление поиском
в таблице</p>

<p class="Indentlist">Если свойство установлено в значение <span class="Interface">Нет</span>, то кнопка управления поиском будет отсутствовать
на форме (но команды будут доступны с помощью меню <span class="Interface">Еще</span>). Значение свойства <span class="Interface">Командная панель</span> размещает кнопку на командную
панель, связанную с таблицей. При этом кнопка будет размещаться справа
от строки поиска, если таковая отображается в командной панели. Если
строка поиска в командной панели не отображается, то кнопка управления
поиском отображается в командной панели по обычным правилам.</p>

<p class="Indentlist">Значение <span class="Interface">Авто</span> интерпретируется как <span class="Interface">Командная панель</span> (если таблица отображает динамический
список) и <span class="Interface">Нет</span> во всех остальных
случаях.</p>

<p class="MsoNormal">Если на форме присутствуют несколько
командных панелей, источником команд для которых является одна таблица формы клиентского
приложения, то строка поиска и кнопка управления поиском будет
располагаться только в одной командной панели:</p>

<p class="MsoListBullet">&#9679; 
Или в командной панели самой таблицы (если
для нее включено автоматическое заполнение)</p>

<p class="MsoListBullet">&#9679; 
Или в любой из оставшихся командных
панелей.</p>

<p class="MsoNormal">Для таблицы, отображающей динамический
список, могут возникать ситуации, когда использовании строки поиска показывает
очень низкую производительность. Это может наблюдаться в тех случаях,
когда для получения данных динамического списка используется сложный запрос,
или отключен полнотекстовый поиск, или не получается эффективно использовать
полнотекстовый поиск для поиска в данных. В подобный случаях, а также
в других случаях, когда строка поиска должна быть доступна в соответствии
с какими-то критериям, платформа «1С:Предприятие» предоставляет
возможность управления доступностью строки поиска. Для этого используется
объект <span class="Term">НастройкиОтображенияДинамическогоСписка</span> и
одноименная настройка системного хранилища. Настройка может быть как для
конкретного динамического списка, так и настройкой по умолчанию.</p>

<p class="MsoNormal">Для использования настройки необходимо
создать объект <span class="Term">НастройкиОтображенияДинамическогоСписка</span>,
установить требуемое значение для свойства объекта <span class="Term">РежимОтображенияСтрокиПоиска</span>
и записать созданный объект в нужные настройки (конкретного динамического
писка или по умолчанию). Отображение строки поиска управляется значением
системного перечисления <span class="Term">РежимОтображенияСтрокиПоискаДинамическогоСписка</span>.</p>

<p class="MsoNormal">Так, для того, чтобы поставить отображение
строки поиска в зависимость от включения полнотекстового поиска (строка
поиска отображается только при включенном полнотекстовом поиске), следует
пример, подобный следующему:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">НастройкаОбъект <span class="operator">=</span> <span class="keyword">Новый</span> НастройкиОтображенияДинамическогоСписка<span class="operator">;</span>
НастройкаОбъект<span class="operator">.</span>РежимОтображенияСтрокиПоиска <span class="operator">=</span> РежимОтображенияСтрокиПоискаДинамическогоСписка<span class="operator">.</span>ОтображатьПриИспользованииПолнотекстовогоПоиска<span class="operator">;</span>
ХранилищеСистемныхНастроек<span class="operator">.</span>СохранитьНастройкуПоУмолчанию<span class="operator">(</span><span class="string">"Общее/НастройкиОтображенияДинамическихСписков"</span><span class="operator">,</span> НастройкаОбъект<span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">В данном примере выполняется сохранение
настройки по умолчанию.</p>

<p class="Lang-subheader">Смотри также:</p>

<p class="MsoListBullet">&#9679; 
Настройки по умолчанию (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref160463531" target="_top">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
Системное хранилище настроек динамического
списка (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%204.%20%D0%BF%D0%B5%D1%80%D0%B5%D1%87%D0%B5%D0%BD%D1%8C%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%20%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D1%8F%D0%B5%D0%BC%D1%8B%D1%85%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA.htm_?anchor=_ref160464508" target="_top">здесь</a>).</p>

<a name="_ref85197898"></a><a id="TI000002586" class="bookmark" name="issogl3_7.7.9.3_дополнение_для_элемента_поля_pdf-документа"><h4>7.7.9.3. Дополнение для элемента поля PDF-документа</h4></a>

<p class="MsoNormal">PDF-документ содержит различную дополнительную
информацию: наличие и состояние подписей, признак сохранения
в архивных форматах (PDF/A) и т. д. Для отображения этой
дополнительной информации служит дополнение элемента формы <span class="Interface">Состояние просмотра</span> поля элемента формы <span class="Interface">Поле </span><span class="Interface">PDF Документа</span>. Положение дополнения регулируется
свойством элемента формы <span class="Interface">Положение состояния просмотра</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Верх</span> &#8209; состояние
просмотра будет расположено непосредственно над полем PDF-документа.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Низ</span> &#8209; состояние
просмотра будет расположено непосредственно после поля PDF-документа (по высоте).</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span> &#8209; состояние
просмотра не отображается в форме.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; трактуется как <span class="Interface">Верх</span>.</p>

<p class="MsoNormal">Если PDF-документ содержит
подписи, то в состоянии просмотра отображается состояние этих подписей.
Нажатие на гиперссылку, которой является соответствующий элемент состояния
можно выполнить проверку состояния подписи и получить результат проверки.</p>

<a name="_toc420398526"></a><a name="_ref416782882"></a><a name="_ref416782881"></a><a name="_toc164776120"></a><a id="TI000000421" class="bookmark" name="issogl2_7.7.10_специальные_командные_панели"><h3>7.7.10. Специальные командные панели</h3></a>

<p class="MsoNormal">Кроме создания
собственных командных панелей (элемент формы <span class="Interface">Группа</span> вида <span class="Interface">Командная панель</span>)
редактор форм предоставляет возможность работать со специализированными
командными панелями:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Командная панель формы</span> &#8209; система предоставляет командную панель формы. Ее
видимостью, положением и наполнением можно управлять. Видимость
и положение панели управляются с помощью свойства командной панели <span class="Interface">Выравнивание</span>,
а содержимое управляется свойством <span class="Interface">Автозаполнение</span>. Кроме стандартных команд, которые могут
быть добавлены на командную панель формы, туда автоматически добавляются
команды из раздела <span class="Interface">Командная панель формы</span> глобального командного
интерфейса.</p>

<p class="Indentlist">Если основным
реквизитом формы является динамический список и у командной панели формы
установлено свойство <span class="Interface">Автозаполнение</span>, то в нее автоматически будут
добавлены команды, предоставляемые этим динамическим списком. Если на форме
также присутствует элемент формы, отображающий дерево, то командная панель
формы будет дополнена командами, которые предоставлены реквизитом, связанным
с таким элементом.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Командная панель таблицы</span> &#8209; системой автоматически предоставляется командная
панель для элемента формы вида <span class="Interface">Таблица</span>. Ее видимостью, положением и наполнением
можно управлять. Видимость и положение панели управляются с помощью
свойства командной панели <span class="Interface">Выравнивание</span>, а содержимое управляется свойством <span class="Interface">Автозаполнение</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Контекстное меню элемента</span> &#8209; имеется возможность модифицировать стандартное
контекстное меню элемента формы. Для этого контекстное меню необходимо
отобразить в дереве элементов формы с помощью команды контекстного
меню <span class="Interface">Показать</span>
<span class="Interface">контекстное
меню</span> элемента формы.</p>

<p class="Indentlist">Если
в контекстное меню элемента добавить элемент вида <span class="Interface">Группа</span>
и указать у этой группы в качестве источника команд другой
элемент формы, то добавленная группа будет заполнена командами (в режиме
1С:Предприятие) по тем же правилам, что и контекстное меню элемента,
выбранного в качестве источника команд.</p>

<p class="Indentlist">При
использовании контекстного меню следует помнить, что если для контекстного меню
включено автозаполнение, то такое контекстное меню не может быть отключено
из встроенного языка.</p>

<p class="MsoNormal">Во все
вышеперечисленные командные панели можно добавлять собственные команды, которые
создаются с помощью редактора команд.</p>

<p class="MsoNormal">Если есть
необходимость поместить команды, расположенные в командной панели формы
(см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%203.%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F.htm_?anchor=_ref229132814" target="_top">здесь</a>), в какую-либо командную панель, то необходимо выполнить
следующее:</p>

<p class="MsoListBullet">&#9679; 
Разместить в командной панели элемент <span class="Interface">Группа</span><span class="Interface"> &#8209; Командная панель</span>.</p>

<p class="MsoListBullet">&#9679; 
Выбрать у этой группы в качестве
источника команд <span class="Interface">Глобальные команды командной панели формы</span>.</p>

<p class="MsoNormal">Если
в командной панели или контекстном меню, содержащем группу
с источником команд <span class="Interface">Глобальные команды командной панели формы</span>, есть группа,
для которой установлен источник команд <span class="Interface">Форма</span>, то при заполнении этой группы команды, относящиеся
к командному интерфейсу формы, не добавляются.</p>

<p class="MsoNormal">При
установке (из встроенного языка) в качестве текущего элемента кнопки
какой-либо командной панели, следует помнить, что фокус будет установлен
на первую кнопку командной панели, а не на ту кнопку, которую
используют в операции установки текущего элемента: <span class="Term">ЭтотОбъект.ТекущийЭлемент = Элементы.КнопкаКоманднойПанели;</span>.
Также следует помнить, что свойство кнопки <span class="Term">АктивизироватьПоУмолчанию</span>
игнорируется при размещении кнопки в командной панели. Если пользователь
перемещает кнопку из командной панели на форму, то данное свойство
начинает использоваться.</p>

<p class="MsoNormal">Если в процессе контекстного серверного вызова
в форме выполнены следующие изменения: изменена структура данных; добавлены
или удалены команды формы; добавлены, удалены или перемещены элементы формы;
изменены параметры таблиц управляемой формы, то будет выполнено перезаполнение
стандартных командных панелей и групп. При этом:</p>

<p class="MsoListBullet">&#9679; 
все пользовательские команды, вставленные
в такие панели и группы, будут удалены;</p>

<p class="MsoListBullet">&#9679; 
измененные параметры стандартных команд будут
установлены в значения по умолчанию.</p>

<a name="_ref216594487"></a><a name="_toc298859910"></a><a name="_toc237692857"></a><a name="_ref114227292"></a><a name="_ref114227291"></a><a name="_ref454533564"></a><a name="_ref454533563"></a><a name="_ref428274665"></a><a name="_ref428274664"></a><a name="_toc420398505"></a><a name="_ref366671376"></a><a name="_ref366671375"></a><a name="_ref310422530"></a><a name="_ref310422529"></a><a name="_toc298859894"></a><a name="_toc237692842"></a><a name="_toc164776121"></a><a id="TI000000397" class="bookmark" name="issogl2_7.7.11_условное_оформление_формы"><h3>7.7.11. Условное оформление формы</h3></a>

<p class="MsoNormal">Форма позволяет устанавливать оформление
элементов формы в зависимости от значений реквизитов формы. Эта
возможность называется <span class="Bold">условное оформление</span>. Настройка
условного оформления выполняется аналогично настройке условного оформления системы
компоновки данных. Вызов настройки условного оформления доступен из панели
свойств корневого элемента формы. Не рекомендуется использовать условное
оформление формы для оформления динамических списков, если такое оформление
можно получить за счет настройки условного оформления самого списка.
Условное оформление может применяться к элементам формы, полям таблицы
формы и элементам поля ввода в режиме редактирования множественных
значений. В данном разделе последний вариант будет для сокращения называться
«множественное значение поля ввода». Для полей, которые поддерживают такой
режим работы, в редакторе условного оформления будет доступен подчиненный
элемент <span class="Term">МножественноеЗначение</span>. Условное оформление
поля ввода в режиме редактирования множественных значений не
поддерживается в таблицах формы и в динамических списках.</p>

<p class="MsoNormal">Доступны следующие виды условного
оформления:</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Цвет фона</span> &#8209; позволяет
изменять цвет фона и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: поле ввода, множественное
значение поля ввода, поле текстового документа, таблица, обычная кнопка.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода, поле
переключателя, поле картинки.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Цвет текста</span> &#8209; позволяет
изменять цвет текста и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: поле надписи, поле ввода,
множественное значение поля ввода, поле текстового документа, поле картинки,
поле переключателя, таблица, обычная кнопка, гиперссылка, декорация-текст,
декорация-картинка.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода, поле
переключателя.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Шрифт</span> &#8209; позволяет
изменять шрифт и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: поле надписи, поле ввода,
множественное значение поля ввода, поле текстового документа, поле картинки,
поле переключателя, поле календаря, таблица, обычная кнопка, гиперссылка,
декорация-текст, декорация-картинка.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span> Изменение шрифта
элемента формы, выполненное с помощью условного оформления, не учитывается
при определении размера элементов.</p>

</div>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Выделять отрицательные</span> &#8209; позволяет
задать выделение отрицательных значений. Применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементы формы: поле надписи, поле ввода.</p>

<p class="MsoListBullet2">&#9679; 
Поля таблицы: поле надписи, поле ввода.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Горизонтальное положение</span> &#8209; задает
горизонтальное положение значения и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: поле надписи, поле ввода,
декорация-текст.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Отметка незаполненного</span> &#8209; позволяет
задать отметку незаполненного значения и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: поле ввода, таблица.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле ввода.</p>

<div>

<p class="Note"><span class="Note">Совет.</span> Если управление свойством <span class="Interface">Отметка незаполненного</span> выполняется с помощью
условного оформления, то рекомендуется для оформляемого поля установить
свойство <span class="Interface">Автоотметка
незаполненного</span> в значение <span class="Term">Нет</span>.</p>

</div>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Текст</span> &#8209; используется
для задания текста и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Поля таблицы: поле надписи, поле ввода,
множественное значение поля ввода.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Формат</span> &#8209; позволяет
изменить формат вывода значения и применяется для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: множественное значение поля
ввода, группа вида <span class="Interface">Страница</span>,
группа вида <span class="Interface">Обычная группа</span>.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Видимость</span> &#8209; используется только для отключения видимости колонок таблицы:
поле надписи, поле ввода, поле переключателя, поле картинки. Место ячеек
с отключенной видимостью занимают соседние ячейки за счет изменения
своего размера. Алгоритм растягивания ячеек может различаться в различных
клиентских приложениях.</p>

<p class="Indentlist">Для управления видимостью колонки, которая
входит в группу колонок с группировкой колонок <span class="Interface">В ячейке</span>, следует использовать вид условного оформления <span class="Interface">Отображать</span>, который описан далее.</p>

<p class="Indentlist">Не рекомендуется
использовать условное оформление для скрытия в таблице строк целиком. Использование
условного оформления для скрытия строк может негативно влиять
на производительность и приводить к некорректному отображению
содержимого таблицы.</p>

<p class="Indentlist">При
управлении видимостью на мобильной платформе следует помнить
о следующей особенности: в том случае, когда видимость поля таблицы
зависит от данных текущей строки, то при отсутствии текущей строки
(см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2028.%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2.htm_?anchor=_ref423086378" target="_top">здесь</a>) отображение заголовка колонок может не соответствовать ни
одной видимой строке таблицы. Заголовки станут соответствовать текущей строке
только при появлении текущей строки в таблице, для которой задано условное
оформление. При использовании условного оформления, зависящего от данных
текущей строки, на мобильной платформе не рекомендуется отображать заголовки
такой таблицы.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Доступность</span> &#8209; используется
только для отключения доступности:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: множественное значение поля
ввода.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода,
множественное значение поля ввода, поле переключателя, поле картинки.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Только просмотр</span> &#8209; используется
только для включения режима <span class="Interface">Только
просмотр</span> для:</p>

<p class="MsoListBullet2">&#9679; 
Элементов формы: множественное значение поля
ввода.</p>

<p class="MsoListBullet2">&#9679; 
Полей таблицы: поле надписи, поле ввода, поле
переключателя, поле картинки.</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">Отображать</span> &#8209; используется
только для того, чтобы отключить отображение значения в колонке таблицы
следующего вида: поле надписи, поле ввода, поле переключателя, поле картинки.
Этот вид условного оформления рекомендуется использовать в том случае,
когда необходимо скрыть колонку таблицы, которая расположена в группе
колонок с группировкой <span class="Interface">В
ячейке</span>. Если необходимо скрывать колонки, которые не группируются
с другими колонками или при группировке сохраняют отображение
в отдельных колонках таблицы, то следует использовать вид условного
оформления <span class="Interface">Видимость</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span> Для условного
оформления используется текущая дата компьютера, скорректированная
с учетом часового пояса сеанса «1С:Предприятия». Подробнее про часовые
пояса см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref224451032" target="_top">здесь</a>.</p>

</div>

<p class="MsoNormal">Если с помощью условного оформления
оформляется колонка таблицы формы, а в условии есть поле реквизита,
отображаемого оформляемой таблицей, то при вычислении условия используются
текущие данные той таблицы, к которой относится оформляемая колонка. Если
оформляемое поле не относится к таблице, то для вычисления условия
используются текущие данные первой (по порядку размещения в редакторе
формы) таблицы формы.</p>

<p class="MsoNormal">Условное оформление позволяет задавать
некоторые виды оформления элементов формы в зависимости от значений
реквизитов формы, при этом оформление формы будет динамическим, т. е.
будет учитывать изменение данных формы. Для изменения оформления формы не
требуется никаких специальных действий. Если для условного оформления формы
используются поля динамического списка, то для этих полей следует установить
свойство <span class="Interface">Использовать всегда</span>.</p>

<p class="MsoNormal">Рассмотрим пример условного оформления.</p>

<p class="MsoNormal">Допустим, нам необходимо в документе <span class="Interface">Расход товара</span> выделить те строки табличной части,
в которых количество менее 10 штук.</p>

<p class="MsoNormal">Для этого нужно в условном оформлении
формы задать следующие условия:</p>

<p class="MsoListBullet">&#9679; 
Вид условного оформления &#8209; цвет текста. В
качестве значения цвета выберем <span class="Interface">Особый текст</span> из стиля.</p>

<p class="MsoListBullet">&#9679; 
В качестве условия выберем следующее выражение: <span class="Interface">Объект.Товары.Количество Меньше "10"</span>. В этом
выражении <span class="Interface">Объект</span> &#8209; основной
реквизит формы, <span class="Interface">Товары</span> &#8209; табличная
часть, <span class="Interface">Количество</span> &#8209; реквизит
табличной части.</p>

<p class="MsoListBullet">&#9679; 
В качестве оформляемых полей выберем всю
табличную часть <span class="Interface">Товары</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:495/209" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00341.gif" width="495" alt="" height="209"></p>

<p class="MsoCaption">Рис. 343. Настройка условного
оформления</p>

<p class="Regularbeforepicture">Результат работы условного оформления можно
увидеть на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145577995">рис.344</a>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:912/434" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00342.gif" width="912" alt="" height="434"></p>

<p class="MsoCaption"><a name="_ref145577995">Рис. </a>344. Результат условного оформления</p>

<p class="MsoNormal">Таким образом, цвет шрифта первой строки
табличной части стал красным, т. к. количество товара в этой
строке меньше 10.</p>

<p class="MsoNormal">Однако выделять особым цветом всю строку не
всегда нужно, а нужно выделять непосредственно ячейку табличной части
с количеством.</p>

<p class="MsoNormal">Для этого изменим заданное условное
оформление: в качестве оформляемых полей выберем не всю табличную часть <span class="Interface">Товары</span>, а конкретное поле: <span class="Interface">Количество</span>.</p>

<p class="Regularbeforepicture">В этом случае будет выделено только одно
поле:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:915/434" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00343.gif" width="915" alt="" height="434"></p>

<p class="MsoCaption">Рис. 345. Оформление одного
поля табличной части</p>

<p class="MsoNormal">Также следует отметить возможность
использовать значения колонок, не связанных с данными информационной базы,
в выражениях условий.</p>

<a name="_toc420398527"></a><a name="_ref370741234"></a><a name="_ref370741233"></a><a name="_toc164776122"></a><a id="TI000000422" class="bookmark" name="issogl2_7.7.12_особенности_поведения_элементов_формы"><h3>7.7.12. Особенности поведения элементов формы</h3></a>

<p class="MsoNormal">Если в заголовках полей или декорациях
типа <span class="Interface">Надпись</span>
используются символы алфавита, не поддерживаемые шрифтом, который установлен
для этих элементов формы, то возможен некорректный расчет длины отображаемых
строк. Как следствие &#8209; строки в этих элементах формы могут выводиться
не полностью.</p>

<p class="MsoNormal">Элементы управляемой формы, связанные со
стандартными реквизитами <span class="Term">Ссылка</span> и <span class="Term">Проведен</span>,
недоступны для изменения.</p>

<p class="MsoNormal">При необходимости использования
в решениях шрифтов, отличных от шрифта, определяемого значением <span class="Interface">Авто</span> соответствующего свойства, рекомендуется
ограничиваться следующими шрифтами:</p>

<p class="MsoListBullet">&#9679; 
Стилевые шрифты системы «1С:Предприятие»:</p>

<p class="MsoListBullet2">&#9679; 
Мелкий шрифт текста,</p>

<p class="MsoListBullet2">&#9679; 
Обычный шрифт текста,</p>

<p class="MsoListBullet2">&#9679; 
Крупный шрифт текста,</p>

<p class="MsoListBullet2">&#9679; 
Очень крупный шрифт текста.</p>

<p class="MsoListBullet">&#9679; 
Векторные шрифты из состава пакета «MS Core Fonts»:</p>

<p class="MsoListBullet2">&#9679; 
Andale Mono,</p>

<p class="MsoListBullet2">&#9679; 
Arial,</p>

<p class="MsoListBullet2">&#9679; 
Arial Black,</p>

<p class="MsoListBullet2">&#9679; 
Comic Sans MS,</p>

<p class="MsoListBullet2">&#9679; 
Courier New,</p>

<p class="MsoListBullet2">&#9679; 
Georgia,</p>

<p class="MsoListBullet2">&#9679; 
Impact,</p>

<p class="MsoListBullet2">&#9679; 
Times New Roman,</p>

<p class="MsoListBullet2">&#9679; 
Trebuchet MS,</p>

<p class="MsoListBullet2">&#9679; 
Verdana,</p>

<p class="MsoListBullet2">&#9679; 
Webdings.</p>

<p class="MsoNormal">При использовании других шрифтов не
гарантируется корректное отображение элементов формы в различных
клиентских приложениях или операционных системах.</p>

<p class="MsoNormal">Поведение полей формы вида надпись,
картинка, декорация-надпись, декорация-картинка не зависят от установки
режима <span class="Term">ТолькоПросмотр</span> (как для конкретных элементов
формы, так и для формы в целом).</p>

<p class="MsoNormal">Если
у реквизита формы типа <span class="Term">Число</span>
свойства <span class="Interface">Длина</span> и <span class="Interface">Точность</span> заданы
одинаковыми значениями, то поле ввода позволяет ввести любое число, но при
попытке покинуть поле ввода будет выдано сообщение о некорректном вводе,
если введенное значение не находится в диапазоне от &#8209;<span class="Interface">1</span> до <span class="Interface">1</span> (исключая &#8209;<span class="Interface">1</span> и <span class="Interface">1</span>).</p>

<p class="MsoNormal">Если в обработчике <span class="Term">ПриИзменении</span>
поля, расположенного в таблице формы, выполняются действия, которые ведут
к вызову сервера и перестроению формы, то обработчики событий этой
таблицы <span class="Term">ПриОкончанииРедактирования</span> и <span class="Term">ПередОкончаниемРедактирования</span>
не будут вызваны.</p>

<p class="MsoNormal">Табличный документ, расположенный
на форме, по вертикали прокручивается построчно.</p>

<p class="MsoNormal">Если для поля ввода
или поля надписи свойство <span class="Interface">Высота</span> установлено в значение большее, чем 1,
и свойство <span class="Interface">Растягивать по вертикали</span> установлено
в значение <span class="Interface">Авто</span>, то это значение будет трактоваться как <span class="Term">Истина</span>, т. е. указанные элементы
формы будут растягиваться по вертикали.</p>

<p class="MsoNormal">Выпадающий
список поля ввода подстраивает свою ширину под ширину отображаемых в нем
элементов. Минимальная ширина выпадающего списка определяется как максимальное
значение из следующих значений:</p>

<p class="MsoListBullet">&#9679; 
фиксированного значения, заданного
в платформе;</p>

<p class="MsoListBullet">&#9679; 
значение свойства <span class="Term">ШиринаВыпадающегоСписка</span> расширения поля
управляемой формы для поля ввода.</p>

<p class="MsoNormal">Если
один из элементов, отображаемых в выпадающем списке шире, чем
рассчитанная минимальная ширина списка, то ширина выпадающего списка равняется
ширине самого широкого отображаемого элемента, но не больше:</p>

<p class="MsoListBullet">&#9679; 
размер экрана для тонкого клиента;</p>

<p class="MsoListBullet">&#9679; 
размер формы для веб-клиента.</p>

<p class="MsoNormal">В
том случае, если при открытии формы выполняется динамическое изменение
видимости элемента формы, то в открывшейся форме фокус ввода получит
элемент, следующий за элементом, для которого выполнялось изменение
видимости. При необходимости установить фокус ввода на другой элемент &#8209; это следует выполнить самостоятельно.</p>

<a name="_toc420398528"></a><a name="_ref414372742"></a><a name="_toc298859911"></a><a name="_toc237692858"></a><a name="_toc164776123"></a><a id="TI000000423" class="bookmark" name="issogl2_7.7.13_правила_размещения_элементов_формы"><h3>7.7.13. Правила размещения элементов формы</h3></a>

<a name="_ref442116947"></a><a id="TI000001594" class="bookmark" name="issogl3_7.7.13.1_общая_информация"><h4>7.7.13.1. Общая информация</h4></a>

<p class="Regularbeforepicture">Элементы
формы размещаются в прямоугольной логической сетке. Данная сетка является
иерархической, при этом самым верхним уровнем логической сетки выступает сетка,
заданная для формы, а в ячейке логической сетки формы может образовываться
своя логическая сетка, если элементом формы, который находится в этой
ячейке, является группа типа <span class="Interface">Обычная группа</span> или группа типа <span class="Interface">Страница</span>.
Собственно форма, группа типа <span class="Interface">Обычная группа</span> и группа типа <span class="Interface">Страница</span> далее
будут называть <span class="Bold">группирующим элементом формы</span>. Ширина
ячейки логической сетки определяется шириной элемента формы, расположенной
в этой ячейке, а высота &#8209; логической
строкой. Понятие «логическая строка» не описывается определенными числовыми
параметрами. Проще всего показать это понятие на примере. Для этого
создадим форму со следующей структурой:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:700/406" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00344.gif" width="700" alt="" height="406"></p>

<p class="MsoCaption">Рис. 346. Структура формы</p>

<p class="MsoNormal">В редакторе видны следующие элементы:</p>

<p class="MsoListBullet">&#9679; 
Собственно форма с установленной вертикальной
группировкой и отключенной командной панелью формы.</p>

<p class="MsoListBullet">&#9679; 
Группа без отображения <span class="Interface">Группа1</span>
с горизонтальной группировкой. В этой группе размещены элементы <span class="Interface">Элемент1</span>
и <span class="Interface">Элемент3</span>.</p>

<p class="MsoListBullet">&#9679; 
Группа без отображения <span class="Interface">Группа2</span>
с горизонтальной группировкой. В этой группе размещены элементы <span class="Interface">Элемент2</span>
и <span class="Interface">Элемент4</span>.</p>

<p class="Regularbeforepicture">Для
некоторого уменьшения размера рисунка, для таблицы <span class="Interface">Элемент3</span>
уменьшена высота таблицы. На работу алгоритма размещения элементов (в данном
примере) данное изменение не влияет.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:671/195" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00345.gif" width="671" alt="" height="195"></p>

<p class="MsoCaption"><a name="_ref145578012">Рис. </a>347. Понятие
логической сетки</p>

<p class="MsoNormal">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145578012">рис.347</a> изображены 2 строки логической сетки. В первой строке
расположены элементы <span class="Interface">Элемент 1</span> и <span class="Interface">Элемент 3</span>, а во второй &#8209; <span class="Interface">Элемент 2</span> и <span class="Interface">Элемент 4</span>. Легко заметить, что каждая из описанных
строк будет иметь разную высоту. Но, тем не менее, в логической сетке
формы будет использоваться именно две строки. Таким образом, высота строки
логической сетки вычисляется по высоте самого высокого элемента
из всех, которые расположены на одной горизонтали. Для первой строки
высота будет определяться по высоте элементов <span class="Interface">Элемент 1</span>
и <span class="Interface">Элемент
3</span>, а для второй строки &#8209; по высоте
элементов <span class="Interface">Элемент 2</span> и <span class="Interface">Элемент 4</span>.</p>

<p class="MsoNormal">Также
необходимо отметить, что каждая строка у формы имеет свою ширину ячейки.
Это происходит потому, что элементы <span class="Interface">Элемент 1</span> и <span class="Interface">Элемент 3</span> располагаются в одном группирующем
элементе, а <span class="Interface">Элемент 2</span> и <span class="Interface">Элемент 4</span> &#8209; в другом
группирующем элементе. В рамках каждого группирующего элемента размещение
элементов выполняется обособленно.</p>

<p class="MsoNormal">Таким
образом, видно, что в данном примере имеется три логических сетки:</p>

<p class="List1">1. 
Логическая сетка формы. Для данного примера
задается сетка 2 x 1: два элемента (группы)
с вертикальной группировкой, заданной для формы.</p>

<p class="MsoListNumberCxSpMiddle">2.  Логическая
сетка группы с элементами <span class="Interface">Элемент 1</span> и <span class="Interface">Элемент 3</span>. Эта группа определяет сетку 1 x 2: два элемента (<span class="Interface">Элемент 1</span> и <span class="Interface">Элемент 3</span>) в группе с горизонтальной
группировкой для группы. Эта сетка вложена в логическую сетку уровня
формы.</p>

<p class="MsoListNumberCxSpLast">3.  Логическая
сетка группы с элементами <span class="Interface">Элемент 2</span> и <span class="Interface">Элемент 4</span>. Эта группа определяет сетку 1 x 2: два элемента (<span class="Interface">Элемент 2</span> и <span class="Interface">Элемент 4</span>) в группе с горизонтальной
группировкой для группы. Эта сетка также вложена в логическую сетку уровня
формы.</p>

<p class="MsoNormal">В дальнейшем, при
упоминании размещения элементов, будет пониматься описанная выше логическая
сетка. При разработке формы следует придерживаться следующих простых
рекомендаций, которые обеспечат работоспособность разрабатываемой формы
на всех поддерживаемых экранах и разрешениях:</p>

<p class="MsoListBullet">&#9679; 
По возможности использовать значения
по умолчанию для свойств элементов.</p>

<p class="MsoListBullet">&#9679; 
Минимизировать явное указание размеров элементов
формы.</p>

<p class="MsoNormal">В общем случае
можно определить правила размещения элементов формы следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Элементы формы размещаются по двум
направлениям:</p>

<p class="MsoListBullet2">&#9679; 
Горизонтальное направление &#8209; каждый новый элемент формы располагается правее
предыдущего. Такую группу можно представить как матрицу 1 x N, где N &#8209; количество элементов в группе.</p>

<p class="MsoListBullet2">&#9679; 
Вертикальное направление &#8209; каждый новый элемент формы располагается ниже
предыдущего. Такую группу можно представить как матрицу N x 1, где N &#8209; количество элементов в группе.</p>

<p class="Indentlist">Направление
размещения зависит от свойства <span class="Interface">Группировка</span> группирующего элемента форма: форма или
группа. При размещении не накладывается ограничений по количеству
отображаемых элементов.</p>

<p class="Indentlist">Таким
образом, комбинируя группы с разными настройками группировки
и вкладывая группы одна в другую, можно создавать достаточно сложные
(по структуре) формы. При этом система предоставляет возможность управлять
выравниванием элементов как внутри одного группирующего элемента, так
и между ними (подробнее см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref442116378">здесь</a>).</p>

<p class="MsoListBullet">&#9679; 
Порядок отображения элементов определяется
порядком их следования на закладке <span class="Interface">Элементы</span> редактора формы.</p>

<p class="MsoListBullet">&#9679; 
Имеется возможность влиять на размещение
элементов с помощью следующих параметров:</p>

<p class="MsoListBullet2">&#9679; 
Горизонтальный и вертикальный интервал
размещения элементов;</p>

<p class="MsoListBullet2">&#9679; 
Размер элементов;</p>

<p class="MsoListBullet2">&#9679; 
Выравнивание элементов;</p>

<p class="MsoListBullet2">&#9679; 
Возможность растягивать элементы
по горизонтали и вертикали;</p>

<p class="MsoListBullet2">&#9679; 
И т. д.</p>

<p class="MsoListBullet">&#9679; 
Область размещения элементов ограничена размером
окна, в котором формируется форма. Размер окна ограничен размерами рабочей
области основного окна или параметрами экрана. Если в результате
размещения совокупный размер элементов превысит размер окна, отведенного форме
по соответствующей координате (вертикальной или горизонтальной), то
в форме появятся линейки прокрутки.</p>

<p class="MsoListBullet">&#9679; 
Правила размещения элементов внутри группы
эквивалентны правилам размещения внутри формы.</p>

<p class="MsoNormal">На
размещение элементов одновременно оказывают влияние как общие правила
размещения (описанные выше), так и особенности обработки различных
параметров, влияющих на размещение. Общее количество сочетаний всех
влияющих параметров крайне велико, поэтому далее будет рассмотрена работа
наборов подобных свойств. Сочетания всех влияющих свойств рассмотрено не будет.
Описание свойств, влияющих на расположение элементов, а также
алгоритмов размещения, будет приведено далее в этом разделе.</p>

<p class="MsoNormal">Формирование
формы, в том виде, как она отображается пользователю, состоит из двух
этапов:</p>

<p class="List1">1. 
На сервере:</p>

<p class="MsoListBullet2">&#9679; 
Система получает дерево элементов формы.</p>

<p class="MsoListBullet2">&#9679; 
Из дерева элементов исключаются элементы,
которые отключены функциональными опциями (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref418598712" target="_top">здесь</a>), правами доступа (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref423696928" target="_top">здесь</a>) и пользователем (с помощью диалога настройки формы).</p>

<p class="MsoListBullet2">&#9679; 
Получившееся дерево элементов используется для
формирования описания формы &#8209; внутреннего
представления формы, которое еще не пригодно для непосредственного отображения.
В этом описании определены реальные значения для свойств, установленные
в значения <span class="Term">Авто</span>.
Никаких других расчетов в данный момент не выполняется (размеры элементов
формы, видимость элементов и т. д.)</p>

<p class="MsoListBullet2">&#9679; 
Получившееся описание формы передается
на сторону клиента.</p>

<p class="MsoListNumber">2.  На
клиенте:</p>

<p class="MsoListBullet2">&#9679; 
Клиентское приложение определяет характеристики
экрана, на котором будет отображаться форма: ориентация, размеры,
используемые шрифты и т. д.</p>

<p class="MsoListBullet2">&#9679; 
На основании полученной информации определяются
размеры элементов формы, обрабатывается видимость элементов и т. д.
Из описания формы также исключаются группы и таблицы, для которых не осталось
видимых подчиненных элементов. В результате получается описание формы, которое
практически полностью соответствует тому, как это будет видеть пользователь:
элементы размещены в ячейках используемой сетки, рассчитаны размеры
элементов. При этом следует понимать, что размер элементов зависит
от текущего шрифта, особенностей самого элемента и используемого
клиентского приложения.</p>

<p class="MsoListBullet2">&#9679; 
Полученная «почти форма» преобразуется
в реальный набор элементов управления целевой платформы (тонкий клиент,
толстый клиент, веб-клиент, мобильное устройство) и отображается
пользователю.</p>

<p class="MsoNormal">Особенности
размещения элементов формы в режиме совместимости с версией 8.3.6
и ниже, рассмотрены в документации к «1С:Предприятию» версии
8.3.6 (<a href="https://its.1c.ru/db/v836doc/bookmark/dev/TI000000404" target="_top">http://its.1c.ru/db/v836doc/bookmark/dev/TI000000404</a>).</p>

<a name="_ref216676981"></a><a id="TI000000424" class="bookmark" name="issogl3_7.7.13.2_группы_и_объединение_элементов_формы"><h4>7.7.13.2. Группы и объединение элементов формы</h4></a>

<p class="MsoNormal">Элементы формы
можно объединять в группы, для чего служит специальный элемент формы <span class="Interface">Группа</span>.
Объединение в группы позволяет упростить управление элементами, визуально
выделять элементы на форме и управлять группировкой элементов (с помощью
свойства <span class="Interface">Группировка</span>).
Доступны несколько видов элемента формы <span class="Interface">Группа</span>, каждый из которых имеет свои особенности
по управлению группировкой:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Командная панель</span> &#8209; управление группировкой недоступно.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Страница</span> &#8209; позволяет управлять группировкой элементов.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Обычная группа</span> &#8209; позволяет управлять группировкой элементов.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Группа колонок</span> &#8209; позволяет управлять группировкой элементов (колонок
таблицы формы).</p>

<p class="Regularbeforepicture">Для
группы вида <span class="Interface">Обычная группа</span> или <span class="Interface">Страница</span> можно задавать группировку
(свойство <span class="Interface">Группировка</span>) элементов. Опишем пример использования
такой группировки.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:620/405" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00346.gif" width="620" alt="" height="405"></p>

<p class="MsoCaption">Рис. 348. Вертикальная группировка</p>

<p class="MsoNormal">Рассмотрим создание
формы документа. При этом группировка элементов формы выбрана как <span class="Interface">Вертикальная</span>,
но мы хотим, чтобы реквизиты документа <span class="Interface">Дата</span> и <span class="Interface">Номер</span> располагались не в двух строках, а в
одной.</p>

<p class="Regularbeforepicture">Для
этого мы создадим группу с именем <span class="Interface">ДатаИНомер</span>, установим свойство <span class="Interface">Группировка</span>
в значение <span class="Interface">Горизонтальная</span> и поместим туда элементы формы <span class="Interface">Номер</span> и <span class="Interface">Дата</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:620/405" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00347.gif" width="620" alt="" height="405"></p>

<p class="MsoCaption">Рис. 349. Горизонтальная группировка</p>

<p class="MsoNormal">Комбинацией
вышеперечисленных способов является способ <span class="Interface">Горизонтальная если возможно</span>. В
этом случае элементы будут располагаться горизонтально, если размеры
родительского группирующего элемента позволят разместить все подчиненные элементы
горизонтально. В противном случае элементы будут размещены вертикально. Такое
размещение выполняется системой автоматически.</p>

<p class="Regularbeforepicture">Имеется
возможность аналогичным образом изменять расположение колонок в таблице
формы. В качестве примера рассмотрим форму списка, в которой имеются
колонки <span class="Interface">Код</span>
и <span class="Interface">Артикул</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:783/468" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00348.gif" width="783" alt="" height="468"></p>

<p class="MsoCaption">Рис. 350. Исходное расположение колонок</p>

<p class="Regularbeforepicture">Однако
в нашем списке необходимо сделать так, чтобы код и артикул
располагались в две строки, один под другим. Для этого необходимо создать
группу колонок, подчиненную элементу <span class="Interface">Список</span>, и задать ему имя <span class="Term">КодИАртикул</span> (например). Затем для группы
колонок следует задать вертикальную группировку.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:783/468" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00349.gif" width="783" alt="" height="468"></p>

<p class="MsoCaption">Рис. 351. Вертикальная группировка колонок</p>

<p class="MsoNormal">Но есть
необходимость, чтобы код и артикул имели общий заголовок (например, <span class="Interface">Коды</span>). Для
этого необходимо выполнить следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Для группы колонок <span class="Term">КодИАртикул</span> задать свойство <span class="Interface">Заголовок</span>;</p>

<p class="MsoListBullet">&#9679; 
Затем для этой же группы установить свойство <span class="Interface">Отображать
в шапке</span>;</p>

<p class="MsoListBullet">&#9679; 
Последним шагом следует установить свойство <span class="Interface">Отображать заголовок</span>.</p>

<p class="Regularbeforepicture">В
результате получится следующая форма:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:783/468" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00350.gif" width="783" alt="" height="468"></p>

<p class="MsoCaption">Рис. 352. Заголовок группы</p>

<p class="MsoNormal">Теперь необходимо
сделать так, чтобы на форме не отображались заголовки колонок <span class="Interface">Код</span> и <span class="Interface">Артикул</span> (чтобы
не увеличивалась высота шапки таблицы). Для этого необходимо выполнить
следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Необходимо выделить элементы <span class="Interface">Код</span> и <span class="Interface">Артикул</span>;</p>

<p class="MsoListBullet">&#9679; 
Сбросить флажок <span class="Interface">Отображать в шапке</span>. Эту
операцию можно проделать и для каждого элемента отдельно (без выделения
сразу двух элементов).</p>

<p class="Regularbeforepicture">В
результате получится следующая форма:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:783/468" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00351.gif" width="783" alt="" height="468"></p>

<p class="MsoCaption">Рис. 353. Отображение только заголовка группы</p>

<p class="MsoNormal">Таким образом,
в рамках таблицы имеется возможность гибко изменять расположение колонок
и их оформление для того, чтобы получить нужный вид таблицы.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Следует отметить, что группы могут иметь неограниченную вложенность. При этом
свойство <span class="Interface">Группировка</span>
может быть разным для каждой вложенной группы.</p>

</div>

<a name="_ref442116988"></a><a id="TI000000425" class="bookmark" name="issogl3_7.7.13.3_размеры_элементов_формы"><h4>7.7.13.3. Размеры элементов формы</h4></a>

<p class="MsoNormal">При определении
реального размера каждого элемента формы система ориентируется
на ограничения, которые прикладной разработчик установил при разработке
формы. Имеется возможность управлять следующими свойствами элементов:</p>

<p class="MsoListBullet">&#9679; 
Для управления шириной элемента:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Ширина</span> &#8209; ширина
элемента.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">АвтоМаксимальнаяШирина</span> &#8209; признак того, что система автоматически
рассчитывает максимальную ширину данного элемента. Существует не у всех
элементов.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">МаксимальнаяШирина</span> &#8209; максимальная ширина элемента, указанная прикладным
разработчиком. Существует не у всех элементов.</p>

<p class="MsoListBullet">&#9679; 
Для управления высотой элемента:</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">Высота</span> &#8209; высота
элемента.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">АвтоМаксимальнаяВысота</span> &#8209; признак того, что система автоматически
рассчитывает максимальную высоту данного элемента. Существует не у всех
элементов.</p>

<p class="MsoListBullet2">&#9679; 
<span class="Term">МаксимальнаяВысота</span> &#8209; максимальная высота элемента, указанная прикладным
разработчиком. Существует не у всех элементов.</p>

<p class="MsoListBullet">&#9679; 
Также следует упомянуть, что на линейные размеры
элемента оказывает влияние значения свойств <span class="Term">РастягиватьПоГоризонтали</span>
и <span class="Term">РастягиватьПоВертикали</span>.</p>

<p class="MsoNormal">Ширина
и высота элемента формы задается в абстрактных величинах, зависящих
от шрифта, установленного для данного элемента, с учетом особенностей
отображения данного элемента и клиентского приложения. Нужно также
помнить, что при явном указании ширины (или высоты) элемента, фактические
размеры будут зависеть от используемой операционной системы, ее настроек
и клиентского приложения. Кроме того, что фактические размеры элементов
зависят от вида клиентского приложения (тонкий клиент, толстый клиент или
веб-клиент), эти размеры также зависят от используемого веб-браузера
и его версии. Следует понимать, что ширина и высота элемента формы не
описывают размер области данных элемента (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref442116822">здесь</a>). Эти параметры описывают общие размеры элемента, исключающие
заголовок, командные панели и т. д.</p>

<p class="MsoNormal">Реальный
размер элемента формы в режиме 1С:Предприятие может не совпадать
с указанными размерами. При определении размеров элементов система
учитывает шрифт (и его размеры), указанный в свойствах элементов формы.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Изменение шрифта элемента формы, выполненное с помощью условного
оформления, не учитывается при определении размера элементов.</p>

</div>

<p class="MsoNormal">Вычисление размера
элемента по любой оси зависит от состояния растягивания по этой
оси:</p>

<p class="MsoListBullet">&#9679; 
Растягивание выключено:</p>

<p class="MsoListBullet2">&#9679; 
Явно указанное свойство <span class="Term">Ширина</span> (<span class="Term">Высота</span>)
определяет размер элемента. В этом случае свойства, определяющие максимальный
размер элемента, игнорируются.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Term">Ширина</span>
(<span class="Term">Высота</span>)
установлено в значение 0. Это означает автоматическое определение размера
элемента. В этом случае размер элемента по соответствующему измерению
определяется по содержимому элемента. При этом размер элемента не может
быть больше максимального размера. Максимальный размер элемента
по соответствующей оси может быть указан как вычисляемый автоматически
(свойства <span class="Term">АвтоМаксимальная…</span>)
так и явно задан вручную (свойства <span class="Term">Максимальная…</span>).</p>

<p class="MsoListBullet">&#9679; 
Растягивание включено:</p>

<p class="MsoListBullet2">&#9679; 
Явно указанное свойство <span class="Term">Ширина</span> (<span class="Term">Высота</span>)
определяет «весовой» коэффициент растягивания/сжатия.</p>

<p class="MsoListBullet2">&#9679; 
Свойство <span class="Term">Ширина</span>
(<span class="Term">Высота</span>)
установлено в значение 0. Это означает автоматическое определение размера
элемента. Система подберет подходящий размер исходя из типа данных,
содержимого и других параметров. При этом размер элемента не может быть
больше максимального размера. Максимальный размер элемента
по соответствующей оси может быть указан как вычисляемый автоматически
(свойства <span class="Term">АвтоМаксимальная…</span>)
так и явно задан вручную (свойства <span class="Term">Максимальная…</span>).</p>

<p class="MsoListBullet2">&#9679; 
Если максимальная ширина или высота элемента
установлена в значение 0, то по соответствующему измерению элемент
может изменять размер неограниченно.</p>

<p class="MsoListBullet2">&#9679; 
При определении ширины поля ввода действуют
следующие особенности:</p>

<p class="MsoListBullet3">&#9679; 
Если свойство <span class="Term">МаксимальнаяШирина</span>
задано явно (свойство <span class="Term">АвтоМаксимальнаяШирина</span>
выключено), то оно определяет максимальную ширину в символах. При этом,
например, кнопки поля ввода входят в эту ширину.</p>

<p class="MsoListBullet3">&#9679; 
Если свойство <span class="Term">АвтоМаксимальнаяШирина</span>
включено, то максимальная ширина определяется в зависимости от типа
поля ввода, и кнопки также входят в неё для лучшего выравнивания
по правой границе. Свойство <span class="Term">Ширина</span>
в этом случае работает по-другому: если оно равно 0, то определяется
ширина в зависимости от типа поля ввода, и к ней прибавляется
количество включенных кнопок.</p>

<p class="MsoNormal">При определении
размеров элементов ограничивающим фактором «сверху» выступают размеры
родительских группирующих элементов: формы, группы, страницы. Размер
группирующего элемента ограничивает изменение размеров вложенных элементов.
Другими словами, если у группы задана ширина и запрещено
растягивание, то для всех подчиненных элементов заданная ширина группы будет
выступать ограничением при вычислении ширины этих элементов.</p>

<a name="_toc237692859"></a><a name="_toc298859912"></a><a name="_ref494885598"></a><a id="TI000001658" class="bookmark" name="issogl3_7.7.13.4_растягивание_групп"><h4>7.7.13.4. Растягивание групп</h4></a>

<p class="MsoNormal">Изменение
размеров обычной группы (растягивание) зависит от элементов, входящих
в группу и от значений свойств <span class="Interface">Растягивать
по вертикали</span> и <span class="Interface">Растягивать по горизонтали</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Авто</span> &#8209; никак не влияет на растягиваемость дочерних
элементов. Если сама группа имеет отображаемые элементы оформления, например,
вертикальная или горизонтальная черта или для неё задан цвет фона, то
соответствующие элементы будут иметь размеры, соответствующие наибольшим
дочерним, и растягиваться в тех же пределах.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Да</span> &#8209; никак не влияет на растягиваемость дочерних
элементов. Элементы, соответствующие самой группе (элементы оформления, область
с цветом фона) или пустое место в случае отсутствия таких элементов
будут растягиваться без ограничений. Если у группы свойство <span class="Interface">Выравнивание элементов
и заголовков</span> установлено в значение <span class="Interface">Элементы право</span>,
<span class="Interface">…</span>, то такие элементы будут двигаться вместе
с правой границей группы, если сами элементы не могут растягиваться.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span> &#8209; размеры группы определяются нормальными размерами
дочерних элементов. Внутри этих размеров дочерние элементы могут растягиваться.
Дальнейшее растягивание/сжатие дочерних элементов невозможно. Эти же размеры
будут использоваться для элементов оформления самой формы и ее цвета фона.
Если у группы задана ширина (высота), то размеры группы
по соответствующей оси определяются как максимум между нормальным размером
дочерних элементов и заданным значением.</p>

<a name="_ref494885706"></a><a id="TI000001971" class="bookmark" name="issogl3_7.7.13.5_ширина_и_высота_групп"><h4>7.7.13.5. Ширина и высота групп</h4></a>

<p class="MsoNormal">Если у группы явно установлена
ширина или высота, то при расчёте размеров дочерних элементов
предпринимается попытка уместить их в заданное ограничение,
если только вышестоящая группа или размеры целевого устройства не наложили
более жесткое ограничение.</p>

<p class="MsoNormal">Если в результате расчета
ширина дочерних элементов оказалась меньше заданной ширины группы, то группа
расширяется до заданной величины.</p>

<p class="MsoNormal">Если в результате расчета
ширина дочерних элементов оказалась больше заданной ширины группы, то ширина
группы игнорируется. Если расчёт выполняется в конфигураторе
и включён режим <span class="Interface">Показать
ошибки размещения</span>, то в окно
сообщений выдаётся соответствующая ошибка.</p>

<p class="MsoNormal">Если у группы есть отображаемый
заголовок, то он рассчитывается по тем же правилам что и дочерние
элементы &#8209;
если у группы задана ширина, то
предпринимается попытка уместить в нее
заголовок путем переноса строк. Если ширина заголовка все
равно оказалась больше ширины группы, то ширина группы будет не меньше ширины
заголовка (больше, если ширина дочерних элементов оказалась больше).</p>

<a id="TI000001659" class="bookmark" name="issogl3_7.7.13.6_управление_расстоянием_между_элементами"><h4>7.7.13.6. Управление расстоянием между элементами</h4></a>

<p class="MsoNormal">Для
некоторых специфических форм может возникать потребность размещать элементы
более плотно или, наоборот, более разрежено. Такое требование может возникать
как для всей формы, так и для некоторых ее фрагментов. Причем изменять
расстояние между элементами может потребоваться как по вертикали, так
и по горизонтали.</p>

<p class="MsoNormal">Для
решения этой задачи у группирующих элементов существуют свойства <span class="Interface">Горизонтальный
интервал</span> и <span class="Interface">Вертикальный интервал</span>. Изменяя эти свойства, можно
добиться необходимой плотности элементов формы.</p>

<p class="MsoNormal">Значение
<span class="Term">Авто</span>,
установленное у любого из этих свойств, означает, что интервал будет
определяться по родительскому группирующему элементу. Для формы значение
интервала <span class="Term">Авто</span>
определяет платформа.</p>

<p class="Regularbeforepicture">На
рисунке ниже приведен пример двух предельных вариантов установки вертикального
интервала между элементами.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:425/274" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00352.gif" width="425" alt="" height="274"></p>

<p class="MsoCaption">Рис.
354.
Различный вертикальный интервал</p>

<a name="_ref442116378"></a><a name="_toc420398529"></a><a id="TI000000427" class="bookmark" name="issogl3_7.7.13.7_выравнивание_элементов_формы"><h4>7.7.13.7. Выравнивание элементов формы</h4></a>

<a name="_ref442116822"></a><a id="TI000001660" class="bookmark" name="issogl4_7.7.13.7.1_общая_информация"><h5>7.7.13.7.1. Общая информация</h5></a>

<p class="MsoNormal">Элемент
формы состоит из <span class="Bold">области данных</span> &#8209; области элемента формы, в которой отображаются
данные, и <span class="Bold">области заголовка (заголовок)</span> &#8209; области элемента формы, которая отображает
заголовок (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145578032">рис.355</a>). <span class="Bold">Стандартная ширина области данных</span> определяет
ширину области данных и обладает следующими свойствами:</p>

<p class="MsoListBullet">&#9679; 
определяется типом данных реквизита, связанных
с элементом формы или свойством <span class="Interface">Ширина</span> элемента
формы;</p>

<p class="MsoListBullet">&#9679; 
не зависит от свойства элемента формы <span class="Interface">Растягивать
по горизонтали</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/102" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00353.gif" width="437" alt="" height="102"></p>

<p class="MsoCaption"><a name="_ref145578032">Рис. </a>355. Структура
элемента формы</p>

<p class="Regularbeforepicture">При
осуществлении выравнивания, ориентация заголовков и областей данных
формируется относительно воображаемой линии, которая проходит по границе
между заголовками и данными всех элементов, расположенных
в группирующем элементе. При этом размер области заголовков рассчитывается
по максимальной ширине заголовка всех элементов.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/308" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00354.gif" width="437" alt="" height="308"></p>

<p class="MsoCaption">Рис.
356.
Базовая линия для выравнивания</p>

<a id="TI000000428" class="bookmark" name="issogl4_7.7.13.7.2_выравнивание_в_рамках_группы"><h5>7.7.13.7.2. Выравнивание в рамках группы</h5></a>

<p class="MsoNormal">В
рамках группирующего элемента выравнивание границ компонентов элемента формы
определяется свойством <span class="Interface">Выравнивание элементов и заголовков</span>. Данное
свойство позволяет задать следующие варианты выравнивания:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Нет</span>. В этом случае
область данных располагается сразу после окончания заголовка. Никакого
выравнивания не выполняется.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/164" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00355.gif" width="437" alt="" height="164"></p>

<p class="MsoCaption">Рис.
357.
Выравнивание: нет</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Элементы лево, заголовки
лево</span>. Это режим выравнивания, который применялся в «1С:Предприятие»
версии 8.3.6 и младше. В этом случае заголовки полей выравниваются
по левой границе группирующего элемента. Области данных также
выравниваются по левой границе.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/164" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00356.gif" width="437" alt="" height="164"></p>

<p class="MsoCaption">Рис.
358.
Выравнивание: лево-лево</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Элементы право, заголовки
лево</span>. В этом случае заголовки полей выравниваются по своей левой
границе, а данные &#8209; по правой
границе.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/164" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00357.gif" width="437" alt="" height="164"></p>

<p class="MsoCaption">Рис.
359.
Выравнивание: право-лево</p>

<p class="MsoListBullet">&#9679; 
Элементы лево, заголовки право. В этом случае
заголовки выравниваются по правой границе, а данные &#8209; по левой.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/164" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00358.gif" width="437" alt="" height="164"></p>

<p class="MsoCaption">Рис.
360.
Выравнивание: лево-право</p>

<p class="MsoListBullet">&#9679; 
Элементы право, заголовки право. В этом случае
все части элемента формы выравниваются по правой границе «своей» области.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/164" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00359.gif" width="437" alt="" height="164"></p>

<p class="MsoCaption">Рис.
361.
Выравнивание: право-право</p>

<p class="Regularbeforepicture">Как
уже было сказано выше, выравнивание границ осуществляется в рамках
текущего группирующего элемента. В связи с этим, результирующее
выравнивание элементов может оказать не вполне удовлетворительным.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/406" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00360.gif" width="437" alt="" height="406"></p>

<p class="MsoCaption">Рис.
362.
Сквозное выравнивание по умолчанию</p>

<p class="Regularbeforepicture">Однако
в конкретном случае может оказаться, что флажки в группе <span class="Interface">ABC-классификация</span> необходимо
выравнивать относительно той же воображаемой линии, что и первые три
элемента (<span class="Interface">Код</span>, <span class="Interface">Наименование</span>, <span class="Interface">Дата</span>). Для
управления таким поведением существует свойство <span class="Interface">Сквозное выравнивание</span>
(доступно для группы управляемой формы). Если у группы <span class="Interface">ABC-классификация</span> установить
данное свойство в значение <span class="Interface">Использовать</span>, то выравнивание
несколько изменится:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:437/406" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00361.gif" width="437" alt="" height="406"></p>

<p class="MsoCaption">Рис.
363.
Сквозное выравнивание. Снизу «Использовать»</p>

<p class="MsoNormal">Видно,
что группа <span class="Interface">ABC-классификация</span>
стала использовать для выравнивания ту же линию, что и первые три
элемента. Данное поведение касается только первых левых элементов, которые
располагаются в группе. Собственно выравнивание реализуется путем
установки одинаковой ширины для заголовков элементов, которые (заголовки)
расположены слева. Если данное свойство установлено в значение <span class="Interface">Авто</span>, то
сквозное выравнивание определяется платформой самостоятельно. Явное указание
для данного свойства значения <span class="Interface">Не использовать</span> приведет
к тому, что в таком группирующем элементе не будет выполняться
выравнивание с учетом элементов, не входящих в группу.</p>

<p class="MsoNormal">Сквозное
выравнивание не используется для групп, свойство <span class="Interface">Поведение</span>
которых установлено в значение, отличное от <span class="Interface">Обычная</span>.</p>

<a id="TI000001661" class="bookmark" name="issogl4_7.7.13.7.3_выравнивание_между_группами"><h5>7.7.13.7.3. Выравнивание между группами</h5></a>

<p class="MsoNormal">При
разработке сложных форм могут возникать проблемы, связанные с взаимным
выравниванием элементов формы в том случае, если эти элементы расположены
в разных группах.</p>

<p class="MsoNormal">Предположим,
что необходимо создать форму, которая содержит флажки выбора действий
и пояснений к этим действиям. Флажки реализованы собственно флажками
(элементами формы), а пояснения &#8209; декорациями вида текст. Флажки расположены
в одной группе, пояснения &#8209; в другой.
Для упрощения примера, у групп отключены отображения заголовков
и выделение собственно групп.</p>

<p class="Regularbeforepicture">В
результате получается следующая форма:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:523/444" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00362.gif" width="523" alt="" height="444"></p>

<p class="MsoCaption">Рис.
364.
Выравнивание между группами</p>

<p class="MsoNormal">В
примере очевидно видна проблема: вертикальное выравнивание элементов
в группах не соответствует желаемому &#8209; декорации явно имеют меньшую высоту, нежели флажки.</p>

<p class="MsoNormal">Для
решения этой проблемы предназначено свойство группы формы <span class="Interface">Объединенная группа</span>.
Рассмотрим, как действует данное свойство.</p>

<p class="MsoNormal">Когда
у группы установлено данное свойство, то в этом случае вся группа
считается единым элементом (так настроен механизм размещения элементов формы).
Именно в такое значение это свойство установлено при создании новой
группы.</p>

<p class="Regularbeforepicture">Если
у группы выключить данное свойство, то механизм размещения элементов будет
анализировать все элементы такой группы как отдельные элементы. Так, если
отключить данное свойство у группы <span class="Interface">ГруппаДействий</span>
(на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145578109">рис.365</a>), то форма приобретет следующий вид:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:458/201" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00363.gif" width="458" alt="" height="201"></p>

<p class="MsoCaption"><a name="_ref145578109">Рис. </a>365. Выравнивание
между группами</p>

<p class="MsoNormal">Подробнее
остановимся на том, что изображено на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145578117">рис.366</a>. Основной вопрос заключается в следующем: почему
первая строка из элемента <span class="Interface">ГруппаДействие</span> по высоте заняла
столько же, сколько и весь элемент <span class="Interface">ГруппаОписаний</span>?</p>

<p class="MsoNormal">Как
было сказано в самом начале (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref442116947">здесь</a>),
единицей измерения по горизонтали при размещении элементов формы является
строка. Высота строки определяется как максимальная высота одного
из элементов формы, которые расположены по одной горизонтали,
и у которых совпадают верхние границы (если предположить, что свойство <span class="Interface">Вертикальное положение
в группе</span> у всех элементов установлено в одинаковое
значение). До тех пор, пока у обеих групп были установлены флажки <span class="Interface">Объединенная группа</span>,
каждая группа воспринималась системой размещения элементов как один элемент.
Поэтому на форме группы располагались на одном уровне, а внутри
каждой группы выравнивание работало по-своему.</p>

<p class="MsoNormal">После
того, как у элемента <span class="Interface">ГруппаДействие</span> был сброшен флажок <span class="Interface">Объединенная группа</span>,
группа перестала восприниматься механизмом размещения как единое целое. Каждый
элемент группы учитывается отдельно. Но для элемента <span class="Interface">ГруппаОписание</span>
флажок <span class="Interface">Объединенная группа</span> по-прежнему установлен. Это значит,
что механизм размещения считает, что элемент <span class="Interface">Действие1</span>
и элемент <span class="Interface">ГруппаОписание</span> расположены в одной строке,
и высота этой строки соответствует высоте элемента <span class="Interface">ГруппаОписание</span>.</p>

<p class="Regularbeforepicture">Если
теперь сбросить флажок <span class="Interface">Объединенная группа</span> у элемента <span class="Interface">ГруппаОписание</span>,
то форма станет выглядеть следующим образом:</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:458/158" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00364.gif" width="458" alt="" height="158"></p>

<p class="MsoCaption"><a name="_ref145578117">Рис. </a>366. Выравнивание
между группами</p>

<p class="MsoNormal">В
результате получилось желаемое поведение: размер декораций перестал оказывать
влияние на общее выравнивание элементов.</p>

<p class="MsoNormal">Таким
образом, с помощью свойства <span class="Interface">Объединенная группа</span>, имеется
возможность создавать группы, состоящие из нескольких колонок и строк
одновременно, с поддержкой выравнивания элементов во всех колонках
и строках:</p>

<p class="MsoListBullet">&#9679; 
Свойство установлено &#8209; группа считается единым элементом;</p>

<p class="MsoListBullet">&#9679; 
Свойство сброшено &#8209; каждый элемент, входящий в состав группы со
сброшенным свойством, считается отдельным элементом.</p>

<p class="MsoNormal">Кроме
этого, группа, у которой сброшено свойство <span class="Interface">Объединенная группа</span>
(группа становится «разъединенной»), обладает следующими особенностями:</p>

<p class="MsoListBullet">&#9679; 
Из всех свойств группы используются только
следующие свойства: <span class="Interface">Группировка</span>, <span class="Interface">Цвет фона</span>, <span class="Interface">Отображать заголовок</span>
и <span class="Interface">Отображение</span> (для определения параметров определения
заголовка группы). Свойство <span class="Interface">Группировка</span> используется для определения
порядка размещения элементов текущей группы в родительском группирующем
элементе.</p>

<p class="MsoListBullet">&#9679; 
Если свойство <span class="Interface">Отображать заголовок</span>
установлено в значение <span class="Term">Истина</span>,
то заголовок группы помещается в группу более верхнего уровня
в качестве первого элемента с соблюдением
группировки, т. е. для горизонтальной группировки заголовок будет
размещён слева от остальных элементов, для вертикальной выше остальных
элементов.</p>

<p class="MsoListBullet">&#9679; 
Не формируются разделители (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref423539198">здесь</a>).</p>

<a id="TI000001662" class="bookmark" name="issogl4_7.7.13.7.4_управление_относительным_расположением_элементов"><h5>7.7.13.7.4. Управление относительным расположением элементов</h5></a>

<p class="MsoNormal">При
разработке различных форм возникает необходимость управления относительным
расположением элементов формы. Например, необходимо, чтобы одна или несколько
кнопок располагались по центру группы или формы.</p>

<p class="MsoNormal">Для
организации такого расположения существуют несколько свойств:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Горизонтальное положение
подчиненных</span>. Доступно для группирующих элементов (форма, обычная группа
и группа вида страница). Определяет, каково будут горизонтальное относительное
расположение подчиненных элементов в рамках группирующего элемента.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Вертикальное положение
подчиненных</span>. Доступно для группирующих элементов (форма, обычная группа
и группа вида страница). Определяет, каково будут вертикальное
относительное расположение подчиненных элементов в рамках группирующего
элемента.</p>

<p class="Regularbeforepicture">Ниже
приведен пример, когда для группы с горизонтальным расположением элементов
кнопки располагаются по центру группы, а для группы
с вертикальным расположением элементов кнопки располагаются в нижней
части группы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:732/242" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00365.gif" width="732" alt="" height="242"></p>

<p class="MsoCaption">Рис.
367.
Управление относительным расположением</p>

<p class="MsoNormal">В
том случае, если любое из описанных свойств, установлено в значение <span class="Interface">Авто</span>, то это
означает, что фактическое значение свойства определяется через одноименные
свойства всех родителей, а для формы значение свойства выбирается
платформой автоматически. Обход родительских элементов прекратится в тот
момент, когда нужное свойство будет установлено в значение, отличное
от значения <span class="Interface">Авто</span>.</p>

<p class="MsoNormal">Также
следует помнить, что если у группирующего элемента значение свойства <span class="Interface">Горизонтальное
положение</span> отлично от <span class="Interface">Лево</span>, то у подчиненных
элементов перестает работать выравнивание заголовков.</p>

<a name="_ref423539198"></a><a id="TI000001663" class="bookmark" name="issogl3_7.7.13.8_разделители_элементов"><h4>7.7.13.8. Разделители элементов</h4></a>

<p class="Regularbeforepicture">В
ряде случаев платформа может сформировать на форме разделители. Это
специальные элементы формы, с помощью которых можно менять размеры смежных
элементов формы.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:383/238" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00366.gif" width="383" alt="" height="238"></p>

<p class="MsoCaption">Рис.
368.
Разделитель</p>

<p class="MsoNormal">Разделитель
автоматически формируется при размещении элементов формы при соблюдении всех
нижеперечисленных условий:</p>

<p class="List1">1. 
Оба разделяемых элемента растягиваются
в соответствующем направлении.</p>

<p class="MsoListNumberCxSpMiddle">2.  Между
разделяемыми элементами нет других элементов (они располагаются рядом).</p>

<p class="MsoListNumberCxSpMiddle">3.  Высота
каждого их разделяемых элементов не менее 2 строк.</p>

<p class="MsoListNumberCxSpMiddle">4.  Значение
свойства <span class="Term">Ширина</span>
(или <span class="Term">Высота</span>,
в зависимости от ориентации разделителя) каждого из разделяемых
элементов формы больше минимальной ширины (высоты) и меньше максимальной
ширины (высоты) элемента формы. Максимальные размеры задаются с помощью
свойств <span class="Term">Максимальная…</span>
или <span class="Term">АвтоМаксимальная…</span>.
Минимальная ширина и высота автоматически определяются платформой.</p>

<p class="MsoListNumberCxSpMiddle">5.  Ни
один из разделяемых элементов не является надписью с автоматическим
переносом текста.</p>

<p class="MsoListNumberCxSpMiddle">6.  Размер
соответствующего интервала между элементами родительской группы (или формы)
достаточен для размещения разделителя.</p>

<p class="MsoListNumberCxSpLast">7.  У
родительской группы (или формы) нет дочерних элементов типа <span class="Interface">Группа</span> вида <span class="Interface">Обычная группа</span>
с выключенным свойством <span class="Interface">Объединенная</span>.</p>

<a name="_ref343775740"></a><a name="_toc298859914"></a><a name="_toc237692860"></a><a name="_ref502244213"></a><a id="TI000002004" class="bookmark" name="issogl3_7.7.13.9_адаптация_формы_к_мобильному_клиенту"><h4>7.7.13.9. Адаптация формы к мобильному клиенту</h4></a>

<p class="MsoNormal">Интерфейс мобильного клиента аналогичен
интерфейсу приложения мобильной платформы. Это означает, что на экране
в один момент времени отображается одна форма, экран имеет относительно
небольшую ширину. Как правило, прокрутка формы по горизонтали не
применяется на мобильных устройствах. В то же время вертикальная прокрутка
формы является вполне допустимой.</p>

<p class="MsoNormal">Исходя из этих предпосылок мобильный
клиент пытается автоматически перестроить форму таким образом, чтобы она поместилась
на экране мобильного устройства. В процессе адаптации уменьшается ширина
элементов формы для тех элементов, ширина которых в конфигурации задана
так, что превышает фактическую ширину экрана на мобильном устройстве.
Ширина для таких элементов формируется такими образом, чтобы элемент поместился
(по ширине) в текущей ориентации мобильного устройства
без горизонтальной прокрутки. Кроме изменения ширины, система может
выполнить попытку уменьшить количество отображаемых элементов формы, чтобы
улучшить визуальный вид формы. Для управления необходимости такой перестройки
предназначено свойство формы <span class="Interface">Вариант сворачивания элементов формы по важности</span> (<span class="Term">СворачиваниеЭлементовПоВажности</span>).
Значение <span class="Term">Авто</span> трактуется как <span class="Term">Использовать</span>.</p>

<p class="MsoNormal">Для того, чтобы мобильному клиенту было
проще адаптировать форму, у элементов формы (и колонок таблиц) имеется
свойство <span class="Interface">Важность при
отображении</span> (<span class="Term">ВажностьПриОтображении</span>). Изменяя значение
этого свойства, разработчик может добиться нужного вида формы на экране
устройства. Значение этого свойства мобильный клиент обрабатывает следующим
образом:</p>

<p class="MsoListBullet">&#9679; 
Более важным элементам отводится больше места
на форме.</p>

<p class="MsoListBullet">&#9679; 
Если более важный элемент расположен под менее
важными, и эти менее важные элементы занимают более трех строк формы, то
менее важные элементы объединяются и помещаются в сворачиваемую
группу. Важно понимать, что здесь и далее важна высота, а не
количество элементов. Другими словами, три строки сетки формы могут занимать
как три элемента высотой каждый по одной строке, так и один элемент
формы, занимающий три строки высоты.</p>

<p class="MsoListBullet">&#9679; 
Если первым или последним из сворачиваемых
элементов является командная панель, то она не сворачивается, так как может
относиться к важному элементу.</p>

<p class="MsoListBullet">&#9679; 
Если более важный элемент расположен внутри
иерархии групп или страниц, и при этом в разных местах иерархии над
ним расположены менее важные элементы, занимающие более трех строк,
в каждом уровне иерархии формируется сворачиваемая группа.</p>

<p class="MsoListBullet">&#9679; 
Если имеются несколько элементов более высокой
важности, то менее важные элементы, находящиеся между ними, помещаются
в сворачиваемую группу, если менеее важные элементы занимают более трех
строк.</p>

<p class="MsoListBullet">&#9679; 
Менее важные элементы, находящиеся ниже
последнего более важного элемента, не сворачиваются.</p>

<p class="MsoListBullet">&#9679; 
Если внутри свернутой группы также расположены
элементы разной важности, то к этой группе алгоритм применяется рекурсивно.</p>

<p class="MsoListBullet">&#9679; 
Заголовок свертываемой группы формируется
по следующему алгоритму:</p>

<p class="MsoListBullet2">&#9679; 
Если свертывается уже существующая группа, то
используется заголовок этой группы.</p>

<p class="MsoListBullet2">&#9679; 
Если в свертываемую группу попадает один
элемент с заданным заголовком, то используется заголовок этого элемента.</p>

<p class="MsoListBullet2">&#9679; 
Если не подходит ни один
из вышеперечисленных пунктов &#8209; заголовок
формируется соединением, через ",", всех заголовков элементов,
входящих в свертываемую группу.</p>

<p class="MsoNormal">Если для элемента формы свойство <span class="Term">ВажностьПриОтображении</span>
установлено в значение <span class="Term">Авто</span>, то
фактическое значение свойства будет определяться по следующим правилам:</p>

<p class="MsoListBullet">&#9679; 
Значение <span class="Term">ОченьВысокая</span>
для элемента формы, отображающего данные основного реквизита формы (и
подчиненные реквизиты).</p>

<p class="MsoListBullet">&#9679; 
Значение <span class="Term">Высокая</span>,
если элемент растягивается по вертикали и является одним
из следующих элементов:</p>

<p class="MsoListBullet2">&#9679; 
таблица формы, отображающей динамический список;</p>

<p class="MsoListBullet2">&#9679; 
поле табличного документа;</p>

<p class="MsoListBullet2">&#9679; 
поле диаграммы любого вида и типа;</p>

<p class="MsoListBullet2">&#9679; 
поле форматированного документа;</p>

<p class="MsoListBullet2">&#9679; 
поле HTML-документа.</p>

<p class="MsoListBullet">&#9679; 
Если элементом является командная панель, то:</p>

<p class="MsoListBullet2">&#9679; 
Значение <span class="Term">Высокая</span>,
если источником команд для командной панели выступает собственно управляемая
форма.</p>

<p class="MsoListBullet2">&#9679; 
Значение важности элемента, который является
источником команд для командной панели.</p>

<p class="MsoListBullet2">&#9679; 
Значение важности самого важного элемента
в той же группе, что и командная панель, при условии, что для
командной панели не установлен источник команд.</p>

<p class="MsoListBullet">&#9679; 
Значение <span class="Term">Обычная</span>
для всех остальных элементов.</p>

<a name="_toc420398531"></a><a name="_toc164776124"></a><a id="TI000000434" class="bookmark" name="issogl1_7.8_командный_интерфейс_формы"><h2>7.8. Командный интерфейс формы</h2></a>

<p class="MsoNormal">Командный интерфейс
формы состоит:</p>

<p class="MsoListBullet">&#9679; 
из панели навигации формы,</p>

<p class="MsoListBullet">&#9679; 
командной панели самой формы.</p>

<p class="MsoNormal">Имеется
возможность редактирования командного интерфейса формы: включение новых,
использование имеющихся команд и т. д.</p>

<p class="MsoNormal">Заметим,
что командный интерфейс формы редактируется на отдельной закладке
в редакторе формы и описывает состав панели навигации
вспомогательного окна, в котором отображается форма, и частично
состав командной панели формы. В основном этот механизм нужен для настройки
команд глобального интерфейса, которые необходимо отображать в форме
в этих двух панелях. Состав командной панели формы определяется
и непосредственно в структуре элементов, и в редакторе
командного интерфейса.</p>

<p class="MsoNormal">Команда
автоматически попадает в командный интерфейс формы, в случае если тип
параметра параметризованной команды совпадает с типом основного реквизита
формы.</p>

<p class="MsoNormal">Кроме
того, можно принудительно добавить команду в нужную панель командного
интерфейса. Для этого достаточно просто перетащить ее в нужную группу
нужной командной панели.</p>

<p class="MsoNormal">Установленный
признак <span class="Interface">Автоположение</span>
показывает, что будет использована последовательность команд, формируемая
системой по умолчанию. Если его отключить, то можно редактировать порядок
команд.</p>

<p class="MsoNormal">Для того
чтобы настроить видимость команд, которые расположены в панелях командного
интерфейса, можно снять флажок в колонке <span class="Interface">Автовидимость</span> и изменить
значение в колонке <span class="Interface">Видимость</span>.</p>

<a name="_toc420398535"></a><a name="_ref404170871"></a><a name="_toc298859915"></a><a name="_toc237692861"></a><a name="_toc164776125"></a><a id="TI000000439" class="bookmark" name="issogl1_7.9_работа_с_формой_из_встроенного_языка"><h2>7.9. Работа с формой из встроенного языка</h2></a>

<a name="_toc420398536"></a><a name="_ref414274252"></a><a name="_ref414274251"></a><a name="_ref349746410"></a><a name="_toc298859916"></a><a name="_toc237692862"></a><a name="_toc164776126"></a><a id="TI000000440" class="bookmark" name="issogl2_7.9.1_открытие_формы"><h3>7.9.1. Открытие формы</h3></a>

<p class="MsoNormal">Для того чтобы
открыть форму, существуют два способа:</p>

<p class="MsoListBullet">&#9679; 
Воспользоваться методом <span class="Term">ОткрытьФорму()</span>.</p>

<p class="MsoListBullet">&#9679; 
Воспользоваться комбинацией метода <span class="Term">ПолучитьФорму()</span> и метода <span class="Term">Открыть()</span> объекта <span class="Term">ФормаКлиентскогоПриложения</span>.</p>

<p class="MsoNormal">В любом
из перечисленных случаев можно передать в открываемую форму параметры
формы.</p>

<p class="MsoNormal">Использовать
метод <span class="Term">ОткрытьФорму()</span> рекомендуется
во всех случаях, кроме необходимости открыть форму в модальном режиме
и затем получить результат работы формы через реквизиты открываемой формы.</p>

<p class="MsoNormal">Такая
особенность связана с тем, что в качестве значения возврата модальной
формы будут выступать те данные, которые возвращает сама форма, и у
разработчика не будет доступа к объекту <span class="Term">ФормаКлиентскогоПриложения</span>,
чтобы получить реквизиты формы. Если предварительно получить форму методом <span class="Term">ПолучитьФорму()</span>, доступ к реквизитам
можно будет получить после завершения работы метода <span class="Term">Открыть()</span>. Если необходимо открывать форму
в блокирующем режиме, то для этого следует использовать специальные
подходы, подробное описание которых см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref371695222">здесь</a>.</p>

<p class="Lang-subheader">Пример 1:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Откроем форму списка справочника товары</span>
<span class="comment">// в режиме "только просмотр"</span>
Параметры <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">(</span><span class="string">"ТолькоПросмотр"</span><span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">)</span><span class="operator">;</span>
ОткрытьФорму<span class="operator">(</span><span class="string">"Справочник.Товары.ФормаСписка"</span><span class="operator">,</span> Параметры<span class="operator">)</span><span class="operator">;</span></pre><p class="Lang-subheader">Пример 2:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// Открыть модальную форму и после закрытия</span>
<span class="comment">// получить доступ к реквизитам формы</span>
Форма <span class="operator">=</span> ПолучитьФорму<span class="operator">(</span><span class="string">"ОбщаяФорма.ВыборПериода"</span><span class="operator">)</span><span class="operator">;</span>
Результат <span class="operator">=</span> Форма<span class="operator">.</span>Открыть<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Описание работы
с параметрами формы см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref226351125">здесь</a>.</p>

<div>

<p class="Note"><a name="_toc237692863">Примечание. Не следует выполнять программное открытие
и закрытие одной и той же формы в одном вызове встроенного языка.</a></p>

</div>

<p class="MsoNormal">Не рекомендуется размещать
в обработчике события формы <span class="Term">ПриОткрытии</span> программный код по открытию
какой-либо другой формы, так как это может привести к нарушению порядка
отображения окон. В этом случае рекомендуется использовать обработчик ожидания
на короткий интервал времени или открывать другие формы интерактивно,
например, по нажатию на кнопку. Также следует помнить о том, что
исключения, возникающие во время открытии формы, не перехватываются во
встроенном языке и отображаются пользователю «как есть».</p>

<a name="_toc420398537"></a><a name="_ref391302200"></a><a name="_toc298859917"></a><a name="_toc164776127"></a><a id="TI000000441" class="bookmark" name="issogl2_7.9.2_переопределение_открываемой_формы"><h3>7.9.2. Переопределение открываемой формы</h3></a>

<p class="MsoNormal">В прикладных системах может возникать задача
открытия различных форм при различных параметрах объекта (или текущего окружения).
Например, для элемента справочника <span class="Term">Номенклатура</span> нужно
открывать разные формы для собственно товара и для услуги. Или для
некоторого автоматизированного рабочего места нужно открывать разные формы
в зависимости от текущих настроек пользователя.</p>

<p class="MsoNormal">Для выполнения такой задачи в модуле
менеджера объекта следует создать обработчик события <span class="Term">ОбработкаПолученияФормы</span>.
В этом обработчике нужно выполнить все необходимые проверки и принять
решение о том, какую форму следует открывать. Данный обработчик вызывается
только в том случае, если происходит попытка открыть стандартную форму
объекта с помощью имен форм по умолчанию.</p>

<p class="MsoNormal">Так, при открытии формы элемента справочника
<span class="Term">Номенклатура</span>
в следующем случае обработчик будет вызван.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ОткрытьФорму<span class="operator">(</span><span class="string">"Справочник.Номенклатура.ФормаОбъекта"</span><span class="operator">)</span><span class="operator">;</span></pre>

<p class="MsoNormal">Однако обработчик не будет вызван, если
попытаться открыть форму следующим образом.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ОткрытьФорму<span class="operator">(</span><span class="string">"Справочник.Товары.Форма.ФормаЭлемента"</span><span class="operator">)</span><span class="operator">;</span></pre>

<p class="MsoNormal">Рассмотрим пример с разными формами
формы элемента справочника более подробно.</p>

<p class="MsoNormal">При открытии формы будет выполняться анализ
реквизита <span class="Term">Вид</span> справочника <span class="Term">Номенклатура</span>,
и в том случае, если значение этого свойства равно значению <span class="Term">Перечисления.ВидыТоваров.Услуга</span>,
открывать форму <span class="Term">ФормаУслуги</span> справочника <span class="Term">Номенклатура</span>.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Процедура</span> ОбработкаПолученияФормы<span class="operator">(</span>ВидФормы<span class="operator">,</span> Параметры<span class="operator">,</span> ВыбраннаяФорма<span class="operator">,</span> ДополнительнаяИнформация<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    <span class="keyword">Если</span> ВидФормы <span class="operator">=</span> <span class="string">"ФормаОбъекта"</span> <span class="keyword">И</span> Параметры<span class="operator">.</span>Ключ<span class="operator">.</span>Вид <span class="operator">=</span> Перечисления<span class="operator">.</span>ВидыТоваров<span class="operator">.</span>Услуга <span class="keyword">Тогда</span>
        ВыбраннаяФорма <span class="operator">=</span> Метаданные<span class="operator">.</span>Справочники<span class="operator">.</span>Товары<span class="operator">.</span>Формы<span class="operator">.</span>ФормаУслуги<span class="operator">;</span>
        СтандартнаяОбработка <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Данный обработчик следует разместить
в модуле менеджера справочника <span class="Term">Номенклатура</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span> Обработчик <span class="Term">ОбработкаПолученияФормы</span>
не вызывается при попытке открытия общих форм, форм констант, форм хранилищ
настроек, внешних отчетов и внешних обработок.</p>

</div>

<a name="_toc420398538"></a><a name="_toc298859918"></a><a name="_toc164776128"></a><a id="TI000000442" class="bookmark" name="issogl2_7.9.3_модификация_свойств_элементов_формы"><h3>7.9.3. Модификация свойств элементов формы</h3></a>

<p class="MsoNormal">В процессе
работы с формой возникают ситуации, когда необходимо изменять какие-либо
свойство элементов формы, например, доступность элементов.</p>

<p class="MsoNormal">Для
выполнения этих действий следует воспользоваться коллекцией <span class="Term">Элементы</span>. Данная коллекция предоставляет
доступ к списку всех элементов формы (без учета иерархии).</p>

<p class="MsoNormal">Для
доступа к иерархии элементов предназначены свойства <span class="Term">Родитель</span> и <span class="Term">ПодчиненныеЭлементы</span>
(для элементов группа, таблица и для собственно формы).</p>

<p class="MsoNormal">Так,
отключение доступности элемента формы <span class="Term">ВидЦены</span>
выполняется следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Элементы<span class="operator">.</span>ВидЦены<span class="operator">.</span>Доступность <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span></pre>

<p class="MsoNormal">Следует
обратить внимание на особенность установки свойств <span class="Term">ТолькоПросмотр</span>, <span class="Term">Доступность</span>
и <span class="Term">Видимость</span> для
элементов, содержащих подчиненные элементы. Установка свойства для родительского
элемента оказывает влияние также на все подчиненные элементы формы. При
этом значение изменяемого свойства самого элемента не изменяется. Другими
словами, фактическое значение свойств <span class="Term">ТолькоПросмотр</span>,
<span class="Term">Доступность</span>
и <span class="Term">Видимость</span>
конкретного элемента формы определяется как сложение «по И» значений этих
свойств всех родителей данного элемента.</p>

<p class="MsoNormal">Например,
мы имеем группу <span class="Term">ВалютаДокумента</span>,
которая состоит из полей ввода <span class="Term">Валюта</span>
и <span class="Term">КурсВалюты</span>. Если
необходимо сделать всю группу недоступной, достаточно выполнить следующее:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">Элементы<span class="operator">.</span>ВалютаДокумента<span class="operator">.</span>Доступность <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span></pre>

<div>

<p class="Note"><span class="Note">совет.</span> При программной модификации свойств элементов
формы следует избегать неоправданной модификации свойств, для которых
в синтакс-помощнике указано <span class="Interface">Изменение свойства на клиенте требует обращения
к серверу</span>. Это замедляет работу формы и требует лишних
обращений к серверу.<br><br><a name="_toc237692864">Примечание. Если
модификация элементов формы приводит к изменению расположения элементов
на форме (например, при изменении видимости элементов формы), то возможны
вызовы различных обработчиков событий, связанных с активизацией элементов
(например, будет вызвано событие </a><span class="Term">ПриАктивизацииСтроки</span> у таблицы).</p>

</div>

<p class="MsoNormal">Программное изменение свойства <span class="Term">Вид</span>
у элемента формы, обладающего расширением (поле, таблица, группа,
декорация), приводит к созданию нового расширения элемента формы. Свойства
элемента формы, относящиеся к расширению, устанавливаются в значения
по умолчанию и не переносятся из расширения элемента, которое
было до изменения свойства <span class="Term">Вид</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span> Следует помнить, что
свойства элементов формы, относящиеся к отображаемым данным (например, <span class="Term">ПутьКДанным</span>,
<span class="Term">ПутьКДаннымЗаголовка</span>
и т. д.), можно изменять только для новых элементов формы или после
смены вида элемента формы.</p>

</div>

<a name="_toc420398539"></a><a name="_toc298859919"></a><a name="_toc164776129"></a><a id="TI000000443" class="bookmark" name="issogl2_7.9.4_модификация_формы"><h3>7.9.4. Модификация формы</h3></a>

<p class="MsoNormal">Существует
возможность программной модификации формы. Для модификации (создания, изменения
и удаления) доступны:</p>

<p class="MsoListBullet">&#9679; 
реквизиты формы,</p>

<p class="MsoListBullet">&#9679; 
локальные команды формы,</p>

<p class="MsoListBullet">&#9679; 
элементы формы.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Удалять можно только те объекты, которые созданы из встроенного языка.</p>

</div>

<p class="MsoNormal">Общую схему
программной работы с формой можно представить следующим образом:</p>

<p class="MsoListBullet">&#9679; 
изменение состава реквизитов формы,</p>

<p class="MsoListBullet">&#9679; 
изменение состава команд формы,</p>

<p class="MsoListBullet">&#9679; 
изменение состава элементов формы.</p>

<p class="MsoNormal">Отдельно
следует заметить, что работа по добавлению, изменению и удалению
составных частей формы возможна только на сервере. Также стоит обратить
внимание на тот факт, что на программную модель формы не оказывают
влияния пользовательские настройки и функциональные опции формы.</p>

<p class="MsoNormal">При
выполнении пользовательских настроек пользователь будет настраивать именно ту
форму, которую он видит (с учетом программных модификаций формы). Если
пользователь добавляет какие-либо элементы формы, то обращение к таким
элементам из встроенного языка невозможно. Об этой особенности следует
помнить и при разработке механизмов взаимодействия с пользователем.
Так, например, если в элемент формы <span class="Interface">Группа</span> вида <span class="Interface">Страницы</span> пользователь добавит страницу, то при переходе
на эту страницу свойство группы <span class="Term">ТекущаяСтраница</span>
станет равно <span class="Term">Неопределено</span>.
Свойство формы <span class="Term">ТекущийЭлемент</span>
также будет содержать значение <span class="Term">Неопределено</span>
в том случае, когда активным элементом формы является элемент, добавленный
пользователем.</p>

<p class="MsoNormal">Более
подробно рассмотрим все этапы модификации формы.</p>

<a name="_ref349747016"></a><a id="TI000000444" class="bookmark" name="issogl3_7.9.4.1_изменение_состава_реквизитов"><h4>7.9.4.1. Изменение состава реквизитов</h4></a>

<p class="MsoNormal">Изменение
(добавление и удаление) реквизитов выполняется методом <span class="Term">ИзменитьРеквизиты()</span> объекта <span class="Term">ФормаКлиентскогоПриложения</span>. При этом действия
удаления и добавления выполняются за один вызов. Это позволяет выполнять
операцию изменения свойств реквизитов формы. При этом следует понимать, что
операция изменения состава реквизитов является ресурсоемкой операцией
(фактически происходит полное создание формы), именно поэтому операции
изменения состава реквизитов формы выполняются пакетным образом.</p>

<p class="MsoNormal">Рассмотрим
подробнее методику создания реквизитов.</p>

<p class="MsoNormal">Вначале
нам необходимо создать нужное количество объектов типа <span class="Term">РеквизитФормы</span>. При создании реквизита мы
указываем его имя, тип реквизита и то место в иерархии реквизитов
формы (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref222923530">здесь</a>), которое будет занимать создаваемый реквизит.</p>

<p class="MsoNormal">Так, если
мы создаем таблицу значений из двух колонок, то программный код для их
создания будет выглядеть следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">МоиРеквизиты <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
МоиРеквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> РеквизитФормы<span class="operator">(</span><span class="string">"ТаблицаДанных"</span><span class="operator">,</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">"ТаблицаЗначений"</span><span class="operator">)</span><span class="operator">,</span> <span class="operator">,</span> <span class="string">"Таблица значений"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
МоиРеквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> РеквизитФормы<span class="operator">(</span><span class="string">"Поставщик"</span><span class="operator">,</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">"СправочникСсылка.Контрагенты"</span><span class="operator">)</span><span class="operator">,</span> <span class="string">"ТаблицаДанных"</span><span class="operator">,</span> <span class="string">"Кто поставляет"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
МоиРеквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> РеквизитФормы<span class="operator">(</span><span class="string">"Товар"</span><span class="operator">,</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">"СправочникСсылка.Товары"</span><span class="operator">)</span><span class="operator">,</span> <span class="string">"ТаблицаДанных"</span><span class="operator">,</span> <span class="string">"Имя товара"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span></pre><p class="MsoNormal">Следует обратить
внимание, что для двух последних реквизитов предпоследний параметр указывает,
для какого реквизита будут создаваться колонки. Другими словами, существует
возможность добавлять колонки для реквизитов тех типов, которые это позволяют.</p>

<p class="Regularbeforepicture">На <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145578131">рис.369</a> изображены реквизиты, созданные в редакторе
формы, аналог которых создает код, приведенный выше.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:394/130" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00367.gif" width="394" alt="" height="130"></p>

<p class="MsoCaption"><a name="_ref145578131">Рис. </a>369. Эквивалент
программному коду</p>

<p class="MsoNormal">После того как были
созданы все реквизиты, которые планировалось создать в форме, следует
выполнить изменение списка реквизитов:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ИзменитьРеквизиты<span class="operator">(</span>ДобавляемыеРеквизиты<span class="operator">,</span> УдаляемыеРеквизиты<span class="operator">)</span><span class="operator">;</span></pre>

<p class="MsoNormal">Выполнение
данного кода приведет к тому, что система вначале удалит реквизиты,
перечисленные в массиве <span class="Term">УдаляемыеРеквизиты</span>,
а затем выполнит добавление реквизитов из массива <span class="Term">ДобавляемыеРеквизиты</span>. После чего произойдет
перестроение формы.</p>

<p class="MsoNormal">При
удалении реквизитов происходит потеря данных, которые в них содержатся,
однако если добавляемый и удаляемый реквизит имеют совместимые типы или
добавляемый реквизит отличается от удаляемого реквизита только свойствами
(но не типом), то данные, хранимые реквизитом, будут сохранены.</p>

<p class="MsoNormal">После
добавления реквизита обращение к нему в программном коде возможно
только с помощью конструкции <span class="Term">Эт</span><span class="Term">отОбъект.ИмяРеквизита</span>.
Выражение «<span class="Term">ЭтотОбъект.</span>»
является обязательным для программно добавляемых реквизитов.</p>

<p class="MsoNormal">Для того
чтобы изменить состав или свойства реквизитов, следует вначале получить
изменяемые реквизиты. Сделать это можно с помощью метода <span class="Term">ПолучитьРеквизиты()</span>.</p>

<p class="MsoNormal">Следует
обратить внимание на две особенности полученного списка:</p>

<p class="MsoListBullet">&#9679; 
данный список не является динамическим и не
отслеживает изменения реквизитов, которые произошли после вызова метода;</p>

<p class="MsoListBullet">&#9679; 
несмотря на то, что полученный список можно
изменять, эти изменения никак не отразятся на реальных свойствах реквизитов
формы.</p>

<p class="MsoNormal">После того
как получен интересующий нас список реквизитов формы, можно выполнить
с полученными реквизитами какие-либо действия (например, изменить
заголовки всех реквизитов) и затем выполнить метод изменения реквизитов.
Изменение реквизитов следует делать с предварительным удалением.</p>

<p class="MsoNormal">Например,
если мы хотим изменить свойства реквизита <span class="Term">ПараметрЗаказа</span>,
то это следует делать таким образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">МассивРеквизитов <span class="operator">=</span> ПолучитьРеквизиты<span class="operator">(</span><span class="string">"ПараметрЗаказа"</span><span class="operator">)</span><span class="operator">;</span>
...
<span class="comment">// Выполним изменения реквизита</span>
...
УдаляемыеРеквизиты <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
УдаляемыеРеквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"ПараметрЗаказа"</span><span class="operator">)</span><span class="operator">;</span>
ИзменитьРеквизиты<span class="operator">(</span>МассивРеквизитов<span class="operator">,</span> УдаляемыеРеквизиты<span class="operator">)</span><span class="operator">;</span></pre><a id="TI000000445" class="bookmark" name="issogl3_7.9.4.2_изменение_состава_команд"><h4>7.9.4.2. Изменение состава команд</h4></a>

<p class="MsoNormal">Для того
чтобы управлять составом команд формы, у объекта <span class="Term">ФормаКлиентскогоПриложения</span> существует
специальная коллекция &#8209; <span class="Term">Команды</span>. С помощью этой коллекции мы можем
добавлять, удалять и изменять команды формы.</p>

<p class="MsoNormal">Так, для
добавления команды <span class="Term">КомандаУстановкиСтатуса</span>
с заголовком <span class="Interface">Установить статус</span>, которая будет вызывать обработчик
с именем <span class="Term">ОбработчикПрограммныхКоманд</span>,
необходимо выполнить следующий программный код:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриСозданииНаСервере<span class="operator">(</span>Отказ<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    Команда <span class="operator">=</span> Команды<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"КомандаУстановкиСтатуса"</span><span class="operator">)</span><span class="operator">;</span>
    Команда<span class="operator">.</span>Действие <span class="operator">=</span> <span class="string">"ОбработчикПрограммныхКоманд"</span><span class="operator">;</span>
    Команда<span class="operator">.</span>Заголовок <span class="operator">=</span> <span class="string">"Установить статус"</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ОбработчикПрограммныхКоманд<span class="operator">(</span>Команда<span class="operator">)</span>
    ...
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Обработчик команды
должен существовать в модуле формы и предваряться директивой
компиляции <span class="Term">&amp;НаКлиенте</span>.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
Один обработчик может обслуживать несколько программно добавляемых команд.</p>

</div>

<a name="_ref349747032"></a><a id="TI000000446" class="bookmark" name="issogl3_7.9.4.3_работа_с_элементами_формы"><h4>7.9.4.3. Работа с элементами формы</h4></a>

<p class="MsoNormal">После того
как созданы все необходимые реквизиты и команды, можно добавлять элементы
управления.</p>

<p class="MsoNormal">Для
управления элементами формы у объекта <span class="Term">ФормаКлиентскогоПриложения</span>
существует коллекция <span class="Term">Элементы</span>,
с помощью которой можно добавлять, удалять, изменять свойства элементов
формы, а также перемещать элементы формы между родителями.</p>

<p class="MsoNormal">Коллекция
<span class="Term">Элементы</span>
предоставляет доступ к списку элементов формы, который не учитывает
возможную иерархию элементов. Для работы с иерархией у объекта коллекции
<span class="Term">Элементы</span>
существуют свойства <span class="Term">Родитель</span>
и <span class="Term">ПодчиненныеЭлементы</span>.</p>

<p class="MsoNormal">Первое
свойство указывает на родительский элемент формы, например, для поля
формы, расположенного в группе, свойство <span class="Term">Родитель</span>
будет указывать на элемент формы типа <span class="Term">ГруппаФормы</span>.</p>

<p class="MsoNormal">Свойство <span class="Term">ПодчиненныеЭлементы</span> существует у тех
элементов формы, которые могут иметь подчиненные элементы. Например, для
элемента формы типа <span class="Term">ГруппаФормы</span>
коллекция <span class="Term">ПодчиненныеЭлементы</span>
будет содержать те элементы, которые расположены в этой группе.</p>

<p class="MsoNormal">Для
перемещения элемента из одной коллекции в другую (например,
из одной группы в другую) существует метод <span class="Term">Переместить()</span>. Параметры данного метода
описывают перемещаемый элемент, нового родителя элемента и тот элемент
формы, перед которым нужно поместить перемещаемый элемент.</p>

<p class="MsoNormal">Если
последний параметр метода не указан, то перемещаемый элемент будет размещен
в конце коллекции элементов нового родителя.</p>

<div>

<p class="Note"><span class="Note">Примечание.</span>
При программном изменении состава элементов формы возможны вызовы различных
обработчиков событий, связанных с активизацией элементов (например, будет
вызвано событие <span class="Term">ПриАктивизацииСтроки</span>
у таблицы).</p>

</div>

<p class="MsoNormal">Рассмотрим
подробнее способ добавления элемента управления.</p>

<p class="MsoNormal">В примере
показано, как разместить на форме два элемента:</p>

<p class="MsoListBullet">&#9679; 
поле формы, связанное с реквизитом формы;</p>

<p class="MsoListBullet">&#9679; 
кнопку, связанную с командой формы.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриСозданииНаСервере<span class="operator">(</span>Отказ<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    МоиРеквизиты <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
    ТипСтрока <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеТипов<span class="operator">(</span><span class="string">"Строка"</span><span class="operator">,</span> <span class="operator">,</span> <span class="keyword">Новый</span> КвалификаторыСтроки<span class="operator">(</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    МоиРеквизиты<span class="operator">.</span>Добавить<span class="operator">(</span><span class="keyword">Новый</span> РеквизитФормы<span class="operator">(</span><span class="string">"ОписаниеОбъекта"</span><span class="operator">,</span> ТипСтрока<span class="operator">,</span> <span class="string">""</span><span class="operator">,</span> <span class="string">"Описание объекта"</span><span class="operator">,</span> <span class="keyword">Ложь</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    ИзменитьРеквизиты<span class="operator">(</span>МоиРеквизиты<span class="operator">)</span><span class="operator">;</span>
    Команда <span class="operator">=</span> Команды<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"ИзменитьСтроку"</span><span class="operator">)</span><span class="operator">;</span>
    Команда<span class="operator">.</span>Действие <span class="operator">=</span> <span class="string">"ОбработчикПрограммныхКоманд"</span><span class="operator">;</span>
    Команда<span class="operator">.</span>Заголовок <span class="operator">=</span> <span class="string">"Изменить строку"</span><span class="operator">;</span>
    Элемент <span class="operator">=</span> Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"ОписаниеОбъекта"</span><span class="operator">,</span> Тип<span class="operator">(</span><span class="string">"ПолеФормы"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Элемент<span class="operator">.</span>Вид <span class="operator">=</span> ВидПоляФормы<span class="operator">.</span>ПолеВвода<span class="operator">;</span>
    Элемент<span class="operator">.</span>ПутьКДанным <span class="operator">=</span> <span class="string">"ОписаниеОбъекта"</span><span class="operator">;</span>
    Элемент <span class="operator">=</span> Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"ИзменитьСтроку"</span><span class="operator">,</span> Тип<span class="operator">(</span><span class="string">"КнопкаФормы"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    Элемент<span class="operator">.</span>ИмяКоманды <span class="operator">=</span> <span class="string">"ИзменитьСтроку"</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
...
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ОбработчикПрограммныхКоманд<span class="operator">(</span>Команда<span class="operator">)</span>
    ЭтотОбъект<span class="operator">.</span>ОписаниеОбъекта <span class="operator">=</span> <span class="string">"Описание объекта, сформированное командой"</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="Regularbeforepicture">Форма,
в которой будет размещен этот код, будет выглядеть как на <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref145578143">рис.370</a>. Форма показана после того, как пользователь нажал
кнопку <span class="Interface">Изменить
строку</span>.</p>

<p class="Picture"><img loading="eager" style="aspect-ratio:310/158" src="./Глава 7. Формы __ 1С_Предприятие 8.3.26. Документация_files/img00368.gif" width="310" alt="" height="158"></p>

<p class="MsoCaption"><a name="_ref145578143">Рис. </a>370. Результат
программной модификации формы</p>

<a name="_toc298859920"></a><a name="_toc164776130"></a><a id="TI000002738" class="bookmark" name="issogl2_7.9.5_обработка_ожидания_и_форма"><h3>7.9.5. Обработка ожидания и форма</h3></a>

<p class="MsoNormal">В обработчиках элементов формы могут
оказаться недоступны некоторые операции или эти операции могут приводить
к нежелательным последствиям. Об этом свидетельствует специальное
примечание в описании обработчика в Синтакс-помощнике
(см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%204.%20%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.htm_?anchor=_ref417645360" target="_top">здесь</a>). В этих случаях можно
применять установку однократного обработчика ожидания (метод формы клиентского
приложения<span class="Term"> ПодключитьОбработчикОжидания()</span>) на небольшой
промежуток времени, например, на 0,1 секунды). В этом случае работа
обработчика будет завершена, а на обработчик ожидания ограничений не
накладывается.</p>

<p class="MsoNormal">Однако, в этой схеме есть особенность.
Для понимания особенности рассмотрим, как выполняется обработчик ожидания. Операционная
система информирует приложение о том, что приложение не выполняет никакой
работы. В этот момент система «1С:Предприятие» проверяет, что интервал времени,
установленный для обработчика ожидания прошел и вызывает собственно
обработчик ожидания. Первым следствием этого описания следует то, что
управление будет передано в обработчик через больший интервал времени, чем
хотел разработчик прикладного решения. Если, например, после установки
обработчика ожидания было длительное исполнение кода на встроенном языке,
то обработчик ожидания не будет выполнен до окончания исполнения кода.</p>

<p class="MsoNormal">Вторым следствием описания будет то, что
возможны ситуации, когда информация от операционной системы и действие
пользователя произойдут практически одновременно. В этом случае возможна
ситуация, когда обработчик ожидания «вмешается» в стандартную
последовательность вызовов и, например, неявно нарушит запрет на контекстный
вызов сервера или вызовет перестроение формы. При таком стечении обстоятельств
нормальная работа пользователя и порядок вызова обработчиков нарушатся,
а результат будет непредсказуемым.</p>

<p class="MsoNormal">Из данного описания можно озвучить следующую
рекомендацию: обработчики ожидания следует использовать только там и тогда,
когда по-другому решить требуемую задачу не представляется возможным. При этом
разработчик должен отчетливо представлять себе, что и зачем он делает. Не
следует использовать обработчик ожидания как универсальный способ реализации
любых манипуляций с формой, требующих контекстных серверных вызовов.</p>

<p class="MsoNormal">Рассмотрим пример описываемого поведения.
Допустим, что в форме заказа пользователь редактирует сумму в табличной
части документа. В этот момент в обработчике ожидания формы изменяется
реквизит формы: вычислена (и отображена) текущая задолженность контрагента.</p>

<p class="MsoNormal">После вызова обработчика ожидания, так как
в нем было изменено значение реквизита, клиентское приложение выполнит установку
данных для всех элементов формы. Из-за этого текст в редактируемом поле
ввода «пропадет» и в поле будет находится значение, которое
отображалось до начала редактирования поля пользователем.</p>

<p class="MsoNormal">Чтобы текст в редактируемом поле ввода
не терялся, в обработчике ожидания, после изменений значений реквизитов,
необходимо вызвать метод формы <span class="Term">ОбновитьОтображениеДанных()</span>, передав ему
в качестве параметра список элементов формы, которые связаны (прямо или
косвенно) с измененным реквизитом (-ами) формы. Если таких элементов нет,
то необходимо в качестве параметра передать пустой массив.</p>

<p class="MsoNormal">Еще раз напомним, что в обработчике
ожидания не рекомендуется делать контекстные серверные вызовы, изменяющие
данные формы, если есть подозрение на то, что обработчик ожидания будет
«конфликтовать» с пользовательским вводом. В случае такого конфликта текст
в редактируемом поле ввода будет «пропадать».</p>

<p class="MsoNormal">Рассмотрим еще один пример. На форме имеется
поле ввода, связанное с реквизитом типа <span class="Term">Строка</span>,
для которого реализован обработчик изменения текста редактирования. В этом
обработчике, в числе прочего, подключается однократный обработчик ожидания
через очень короткий интервал времени (пусть будет 0,1 секунды). В обработчике
ожидания выполняется какое-либо действие, которое приводит к перестроению
элементов формы, например, меняется видимость элемента (-ов) формы.</p>

<p class="MsoNormal">Данный пример демонстрирует еще одну
особенность поведения системы: при выполнении перестроения элементов формы
текст, который находился в поле ввода, записывается в реквизит формы.
Однако никакие обработчики, связанные с изменением значения в поле
ввода, вызваны не будут. В качестве защиты от такой особенности можно
рассмотреть только рефакторинг алгоритма (и кода формы) таким образом, чтобы
все необходимые действия с формой выполнялись после того, как изменение
поля ввода завершены и выполнены все связанные обработчики поля ввода.</p>

<a name="_toc420398540"></a><a name="_ref391306060"></a><a name="_toc164776131"></a><a id="TI000000447" class="bookmark" name="issogl2_7.9.6_работа_с_динамическим_списком"><h3>7.9.6. Работа с динамическим списком</h3></a>

<p class="MsoNormal">В данном разделе
приведены примеры выполнения некоторых операций по работе
с динамическим списком, размещенным в форме.</p>

<div>

<p class="Note"><a name="_ref270609623"></a><span class="Note">Примечание.</span> Примеры, приведенные ниже, не являются
законченным. Они предназначены для демонстрации различных механизмов работы
с динамическим списком.</p>

</div>

<a id="TI000000448" class="bookmark" name="issogl3_7.9.6.1_параметр_запроса_динамического_списка"><h4>7.9.6.1. Параметр запроса динамического списка</h4></a>

<p class="MsoNormal">В данном разделе приведен пример установки
параметра запроса динамического списка.</p>

<p class="MsoNormal">Предположим, что для динамического списка
указан следующий запрос к данным:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">ВЫБРАТЬ</span>
    Товары<span class="operator">.</span>Код <span class="keyword">КАК</span> Код<span class="operator">,</span>
    Товары<span class="operator">.</span>Наименование <span class="keyword">КАК</span> Наименование<span class="operator">,</span>
    Товары<span class="operator">.</span>Артикул <span class="keyword">КАК</span> Артикул<span class="operator">,</span>
    ТоварныеЗапасыОстатки<span class="operator">.</span>КоличествоОстаток <span class="keyword">КАК</span> Количество<span class="operator">,</span>
    ЦеныТоваровСрезПоследних<span class="operator">.</span>Цена <span class="keyword">КАК</span> Цена<span class="operator">,</span>
    Товары<span class="operator">.</span>ЭтоГруппа
<span class="keyword">ИЗ</span>
    Справочник<span class="operator">.</span>Товары <span class="keyword">КАК</span> Товары
        ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления<span class="operator">.</span>ТоварныеЗапасы<span class="operator">.</span>Остатки<span class="operator">(</span><span class="operator">,</span> Склад <span class="operator">=</span> &amp;Склад<span class="operator">)</span> <span class="keyword">КАК</span> ТоварныеЗапасыОстатки
        <span class="keyword">ПО</span> <span class="operator">(</span>ТоварныеЗапасыОстатки<span class="operator">.</span>Товар <span class="operator">=</span> Товары<span class="operator">.</span>Ссылка<span class="operator">)</span>
        ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений<span class="operator">.</span>ЦеныТоваров<span class="operator">.</span>СрезПоследних<span class="operator">(</span><span class="operator">,</span> ВидЦен <span class="operator">=</span> &amp;ВидЦен<span class="operator">)</span> <span class="keyword">КАК</span> ЦеныТоваровСрезПоследних
        <span class="keyword">ПО</span> Товары<span class="operator">.</span>Ссылка <span class="operator">=</span> ЦеныТоваровСрезПоследних<span class="operator">.</span>Товар</pre><p class="MsoNormal">Тогда для установки параметров данного
запроса (в обработчике <span class="Term">ПриСозданииНаСервере()</span>) нужно указать
параметры <span class="Term">Склад</span> и <span class="Term">ВидЦен</span>
следующим образом.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// СписокТоваров - реквизит формы типа ДинамическийСписок</span>
<span class="comment">// Параметры.Склад и Параметры.ВидЦен - параметры формы соответствующих типов</span>
<span class="preprocessor">&amp;НаСервере</span>
<span class="keyword">Процедура</span> ПриСозданииНаСервере<span class="operator">(</span>Отказ<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    СписокТоваров<span class="operator">.</span>Параметры<span class="operator">.</span>УстановитьЗначениеПараметра<span class="operator">(</span><span class="string">"Склад"</span><span class="operator">,</span> Параметры<span class="operator">.</span>Склад<span class="operator">)</span><span class="operator">;</span>
    СписокТоваров<span class="operator">.</span>Параметры<span class="operator">.</span>УстановитьЗначениеПараметра<span class="operator">(</span><span class="string">"ВидЦен"</span><span class="operator">,</span> Параметры<span class="operator">.</span>ВидЦен<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><a id="TI000000449" class="bookmark" name="issogl3_7.9.6.2_отбор"><h4>7.9.6.2. Отбор</h4></a>

<p class="MsoNormal">В данном разделе
приведены примеры установки и удаления отбора в динамическом списке.</p>

<p class="Lang">Установить</p>

<p class="MsoNormal">Функция добавляет
отбор в динамический список и возвращает созданный элемент отбора.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Функция</span> ДобавитьОтбор<span class="operator">(</span>СписокОтборов<span class="operator">,</span> ИмяПоля<span class="operator">,</span> Значение<span class="operator">,</span> ВидСравнения <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">,</span> Использование <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">)</span>
    НовыйЭлемент <span class="operator">=</span> СписокОтборов<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Тип<span class="operator">(</span><span class="string">"ЭлементОтбораКомпоновкиДанных"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>ЛевоеЗначение <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>ИмяПоля<span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>ВидСравнения <span class="operator">=</span> <span class="operator">?</span><span class="operator">(</span>ВидСравнения <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">,</span> ВидСравненияКомпоновкиДанных<span class="operator">.</span>Равно<span class="operator">,</span> ВидСравнения<span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>ПравоеЗначение <span class="operator">=</span> Значение<span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>Использование <span class="operator">=</span> Использование<span class="operator">;</span>
    <span class="keyword">Возврат</span> НовыйЭлемент<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример
использования:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// ДинамическийСписок - реквизит формы типа "ДинамическийСписок"</span>
<span class="comment">// В списке должна быть колонка "Контрагент"</span>
<span class="comment">//</span>
<span class="comment">// Выполняется установка отбора по полю "Контрагент", значение</span>
<span class="comment">// отбора находится в переменной "КонтрагентСсылка", отбор включен,</span>
<span class="comment">// условие отбора - равно.</span>
ДобавитьОтбор<span class="operator">(</span>ДинамическийСписок<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>ФиксированныеНастройки<span class="operator">.</span>Отбор<span class="operator">,</span> <span class="string">"Контрагент"</span><span class="operator">,</span> КонтрагентСсылка<span class="operator">)</span><span class="operator">;</span></pre><p class="Lang">Удалить</p>

<p class="MsoNormal">Процедура удаляет
отбор динамического списка и возвращает результат удаления. Если имя поля
с удаляемым отбором не указано, выполняется очистка списка отборов.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Функция</span> УдалитьОтбор<span class="operator">(</span>СписокОтборов<span class="operator">,</span> ИмяПоля <span class="operator">=</span> <span class="string">""</span><span class="operator">)</span>
    <span class="keyword">Если</span> ПустаяСтрока<span class="operator">(</span>ИмяПоля<span class="operator">)</span> <span class="keyword">Тогда</span>
        СписокОтборов<span class="operator">.</span>Элементы<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">Возврат</span> <span class="keyword">Истина</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    Поле <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>ИмяПоля<span class="operator">)</span><span class="operator">;</span>
    ОтборУдален <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> ЭлементОтбора <span class="keyword">Из</span> СписокОтборов<span class="operator">.</span>Элементы <span class="keyword">Цикл</span>
        <span class="keyword">Если</span> ЭлементОтбора<span class="operator">.</span>Использование <span class="keyword">И</span> ЭлементОтбора<span class="operator">.</span>ЛевоеЗначение <span class="operator">=</span> Поле <span class="keyword">Тогда</span>
            СписокОтборов<span class="operator">.</span>Элементы<span class="operator">.</span>Удалить<span class="operator">(</span>ЭлементОтбора<span class="operator">)</span><span class="operator">;</span>
            ОтборУдален <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
        <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> ОтборУдален<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример
использования:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// ДинамическийСписок - реквизит формы типа "ДинамическийСписок"</span>
<span class="comment">//                В списке должна быть колонка "Контрагент"</span>
<span class="comment">// Выполняется удаление отбора по полю "Контрагент".</span>
Результат <span class="operator">=</span> УдалитьОтбор<span class="operator">(</span>ДинамическийСписок<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>ФиксированныеНастройки<span class="operator">.</span>Отбор<span class="operator">,</span> <span class="string">"Контрагент"</span><span class="operator">)</span><span class="operator">;</span></pre><a id="TI000000450" class="bookmark" name="issogl3_7.9.6.3_группировка"><h4>7.9.6.3. Группировка</h4></a>

<p class="MsoNormal">В данном разделе
приведены примеры установки и удаления группировки в динамическом
списке.</p>

<p class="Lang">Установка</p>

<p class="MsoNormal">Функция добавляет
группировку в динамический список и возвращает созданный элемент
группировки.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Функция</span> ДобавитьГруппировку<span class="operator">(</span>СписокГруппировок<span class="operator">,</span> ИмяПоля<span class="operator">,</span> Использование <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">,</span> ТипГруппировки <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">)</span>
    Поле <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>ИмяПоля<span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент <span class="operator">=</span> СписокГруппировок<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Тип<span class="operator">(</span><span class="string">"ПолеГруппировкиКомпоновкиДанных"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>Использование <span class="operator">=</span> Использование<span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>Поле <span class="operator">=</span> Поле<span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>ТипГруппировки <span class="operator">=</span> <span class="operator">?</span><span class="operator">(</span>ТипГруппировки <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">,</span> ТипГруппировкиКомпоновкиДанных<span class="operator">.</span>Элементы<span class="operator">,</span> ТипГруппировки<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> НовыйЭлемент<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример
использования:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// ДинамическийСписок - реквизит формы типа "ДинамическийСписок"</span>
<span class="comment">// В списке должна быть колонка "Контрагент"</span>
<span class="comment">//</span>
<span class="comment">// Выполняется создание группировки по полю "Контрагент", созданная</span>
<span class="comment">// группировка будет использоваться, тип группировки - только элементы</span>
Группировка <span class="operator">=</span> Список<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>Настройки<span class="operator">.</span>Структура<span class="operator">.</span>Добавить<span class="operator">(</span>Тип<span class="operator">(</span><span class="string">"ГруппировкаКомпоновкиДанных"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
ДобавитьГруппировку<span class="operator">(</span>Группировка<span class="operator">.</span>ПоляГруппировки<span class="operator">,</span> <span class="string">"Контрагент"</span><span class="operator">)</span><span class="operator">;</span></pre><p class="Lang">Удаление</p>

<p class="MsoNormal">Процедура удаляет
группировку динамического списка и возвращает результат удаления. Если имя
поля с удаляемой группировкой не указано, выполняется очистка списка
группировок.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Функция</span> УдалитьГруппировку<span class="operator">(</span>СписокГруппировок<span class="operator">,</span> ИмяПоля <span class="operator">=</span> <span class="string">""</span><span class="operator">)</span>
    <span class="keyword">Если</span> ПустаяСтрока<span class="operator">(</span>ИмяПоля<span class="operator">)</span> <span class="keyword">Тогда</span>
        СписокГруппировок<span class="operator">.</span>Элементы<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">Возврат</span> <span class="keyword">Истина</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    Поле <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>ИмяПоля<span class="operator">)</span><span class="operator">;</span>
    ГруппировкаУдалена <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    МассивЭлементовДляУдаления <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> ЭлементГруппировки <span class="keyword">из</span> СписокГруппировок<span class="operator">.</span>Элементы <span class="keyword">Цикл</span>
        <span class="keyword">Если</span> ЭлементГруппировки<span class="operator">.</span>Поле <span class="operator">=</span> Поле <span class="keyword">тогда</span>
            МассивЭлементовДляУдаления<span class="operator">.</span>Добавить<span class="operator">(</span>ЭлементГруппировки<span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> УдаляемыйЭлемент <span class="keyword">из</span> МассивЭлементовДляУдаления <span class="keyword">Цикл</span>
        СписокГруппировок<span class="operator">.</span>Элементы<span class="operator">.</span>Удалить<span class="operator">(</span>УдаляемыйЭлемент<span class="operator">)</span><span class="operator">;</span>
        ГруппировкаУдалена <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> ГруппировкаУдалена<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример
использования:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// ДинамическийСписок - реквизит формы типа "ДинамическийСписок"</span>
<span class="comment">//</span>
<span class="comment">// Выполняется удаление всех группировок в динамическом списке</span>
Результат <span class="operator">=</span> УдалитьГруппировку<span class="operator">(</span>ДинамическийСписок<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>ФиксированныеНастройки<span class="operator">.</span>Группировка<span class="operator">)</span><span class="operator">;</span></pre><a name="_ref458075055"></a><a id="TI000000451" class="bookmark" name="issogl3_7.9.6.4_порядок_сортировка"><h4>7.9.6.4. Порядок (сортировка)</h4></a>

<p class="MsoNormal">В данном разделе
приведены примеры установки и удаления упорядочивания динамического
списка.</p>

<p class="Lang">Установка</p>

<p class="MsoNormal">Функция добавляет
поле сортировки в динамический список и возвращает созданный элемент
порядка.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Функция</span> ДобавитьПорядок<span class="operator">(</span>СписокПорядков<span class="operator">,</span> ИмяПоля<span class="operator">,</span> Использование <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">,</span> ТипУпорядочивания <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">)</span>
    Поле <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>Поле<span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент <span class="operator">=</span> СписокПорядков<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Тип<span class="operator">(</span><span class="string">"ЭлементПорядкаКомпоновкиДанных"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>Использование <span class="operator">=</span> Использование<span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>Поле <span class="operator">=</span> Поле<span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>ТипУпорядочивания <span class="operator">=</span> <span class="operator">?</span><span class="operator">(</span>ТипУпорядочивания <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">,</span> НаправлениеСортировкиКомпоновкиДанных<span class="operator">.</span>Возр<span class="operator">,</span> ТипУпорядочивания<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> НовыйЭлемент<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример
использования:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// ДинамическийСписок - реквизит формы типа "ДинамическийСписок"</span>
<span class="comment">// В списке должна быть колонка "Наименование"</span>
<span class="comment">//</span>
<span class="comment">// Выполняется установка сортировки по полю "Наименование",</span>
<span class="comment">// направление сортировки - по убыванию, сортировка используется</span>
ДобавитьПорядок<span class="operator">(</span>ДинамическийСписок<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>Настройки<span class="operator">.</span>Порядок<span class="operator">,</span> <span class="string">"Наименование"</span><span class="operator">,</span> <span class="keyword">Истина</span><span class="operator">,</span> НаправлениеСортировкиКомпоновкиДанных<span class="operator">.</span>Убыв<span class="operator">)</span><span class="operator">;</span></pre><p class="Lang">Удаление</p>

<p class="MsoNormal">Процедура удаляет
сортировку динамического списка и возвращает результат удаления. Если имя
поля упорядочивания не указано, выполняется очистка списка упорядочивания.</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Функция</span> УдалитьПорядок<span class="operator">(</span>СписокПорядков<span class="operator">,</span> ИмяПоля <span class="operator">=</span> <span class="string">""</span><span class="operator">)</span>
    <span class="keyword">Если</span> ПустаяСтрока<span class="operator">(</span>ИмяПоля<span class="operator">)</span> <span class="keyword">Тогда</span>
        СписокПорядков<span class="operator">.</span>Элементы<span class="operator">.</span>Очистить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">Возврат</span> <span class="keyword">Истина</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    Поле <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>ИмяПоля<span class="operator">)</span><span class="operator">;</span>
    ПорядокУдален <span class="operator">=</span> <span class="keyword">Ложь</span><span class="operator">;</span>
    МассивЭлементовДляУдаления <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> ЭлементПорядка <span class="keyword">из</span> СписокПорядков<span class="operator">.</span>Элементы <span class="keyword">Цикл</span>
        <span class="keyword">Если</span> ЭлементПорядка<span class="operator">.</span>Поле <span class="operator">=</span> Поле <span class="keyword">тогда</span>
            МассивЭлементовДляУдаления<span class="operator">.</span>Добавить<span class="operator">(</span>ЭлементПорядка<span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> УдаляемыйЭлемент <span class="keyword">из</span> МассивЭлементовДляУдаления <span class="keyword">Цикл</span>
        СписокПорядков<span class="operator">.</span>Элементы<span class="operator">.</span>Удалить<span class="operator">(</span>УдаляемыйЭлемент<span class="operator">)</span><span class="operator">;</span>
        ПорядокУдален <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> ПорядокУдален<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример
использования:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="comment">// ДинамическийСписок - реквизит формы типа "ДинамическийСписок"</span>
<span class="comment">//</span>
<span class="comment">// Выполняется удаление (не отключение) порядка по полю "Наименование"</span>
Результат <span class="operator">=</span> УдалитьПорядок<span class="operator">(</span>ДинамическийСписок<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>ФиксированныеНастройки<span class="operator">.</span>Порядок<span class="operator">,</span> <span class="string">"Наименование"</span><span class="operator">)</span><span class="operator">;</span></pre><a id="TI000000452" class="bookmark" name="issogl3_7.9.6.5_условное_оформление"><h4>7.9.6.5. Условное оформление</h4></a>

<p class="MsoNormal">В данном разделе
приведены примеры задания условного оформления динамического списка. В условном
оформлении используется динамический список <span class="Term">Список</span>,
в котором есть поля <span class="Term">Организация</span>
и <span class="Term">Сумма</span> (типа <span class="Term">Число</span>). В примере задаются три элемента
условного оформления:</p>

<p class="MsoListBullet">&#9679; 
если значение поля <span class="Term">Сумма</span> меньше <span class="Interface">500</span>, то текст полей <span class="Term">Организация</span> и <span class="Term">Сумма</span> оформляется красным цветом;</p>

<p class="MsoListBullet">&#9679; 
если значение поля <span class="Term">Сумма</span> больше <span class="Interface">500</span>, но меньше <span class="Interface">10 000</span>, то для
всех полей строки текст оформляется синим цветом;</p>

<p class="MsoListBullet">&#9679; 
если значение поля <span class="Term">Сумма</span> больше <span class="Interface">10 000</span>, то текст полей <span class="Term">Организация</span> и <span class="Term">Сумма</span> оформляется зеленым цветом.</p>

<p class="MsoNormal">Также
в примере используется функция установки отбора (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref270609623">здесь</a>).</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Функция</span> УстановитьУсловноеОформление<span class="operator">(</span>СписокОформления<span class="operator">,</span> ИменаОформляемыхПолей<span class="operator">,</span> СтруктураОформление<span class="operator">,</span> Использование <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">)</span> <span class="keyword">Экспорт</span>
    НовыйЭлемент <span class="operator">=</span> СписокОформления<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    НовыйЭлемент<span class="operator">.</span>Использование <span class="operator">=</span> Использование<span class="operator">;</span>
    <span class="comment">// Зададим оформляемые поля, заданные массивом с именами полей</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> ИмяПоля <span class="keyword">Из</span> ИменаОформляемыхПолей <span class="keyword">Цикл</span>
        ОформляемоеПоле <span class="operator">=</span> НовыйЭлемент<span class="operator">.</span>Поля<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
        ОформляемоеПоле<span class="operator">.</span>Использование <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
        ОформляемоеПоле<span class="operator">.</span>Поле <span class="operator">=</span> <span class="keyword">Новый</span> ПолеКомпоновкиДанных<span class="operator">(</span>ИмяПоля<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="comment">// Зададим оформление, заданное структурой,</span>
    <span class="comment">// в которой - Ключ: имя параметра оформления,</span>
    <span class="comment">//    а Значение - значение параметра оформления</span>
    <span class="keyword">Для</span> <span class="keyword">каждого</span> ЭлементОформления <span class="keyword">Из</span> СтруктураОформление <span class="keyword">Цикл</span>
        НовыйЭлемент<span class="operator">.</span>Оформление<span class="operator">.</span>УстановитьЗначениеПараметра<span class="operator">(</span>ЭлементОформления<span class="operator">.</span>Ключ<span class="operator">,</span> ЭлементОформления<span class="operator">.</span>Значение<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">КонецЦикла</span><span class="operator">;</span>
    <span class="keyword">Возврат</span> НовыйЭлемент<span class="operator">;</span>
<span class="keyword">КонецФункции</span></pre><p class="Lang-subheader">Пример задания
условного оформления:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev">ЭлементыУсловногоОформления <span class="operator">=</span> Список<span class="operator">.</span>КомпоновщикНастроек<span class="operator">.</span>ФиксированныеНастройки<span class="operator">.</span>УсловноеОформление<span class="operator">;</span>
ОформляемыеПоля <span class="operator">=</span> <span class="keyword">Новый</span> Массив<span class="operator">;</span>
ОформляемыеПоля<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Сумма"</span><span class="operator">)</span><span class="operator">;</span>
ОформляемыеПоля<span class="operator">.</span>Добавить<span class="operator">(</span><span class="string">"Организация"</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// ***** Установка красного цвета для суммы менее 500</span>
Оформление <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">;</span>
Оформление<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ЦветТекста"</span><span class="operator">,</span> <span class="keyword">Новый</span> Цвет<span class="operator">(</span><span class="number">128</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
НовыйЭлемент <span class="operator">=</span> УстановитьУсловноеОформление<span class="operator">(</span>ЭлементыУсловногоОформления<span class="operator">,</span> ОформляемыеПоля<span class="operator">,</span> Оформление<span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Зададим условие оформления: Сумма &lt; 500</span>
ДобавитьОтбор<span class="operator">(</span>НовыйЭлемент<span class="operator">.</span>Отбор<span class="operator">,</span> <span class="string">"Сумма"</span><span class="operator">,</span> <span class="number">500</span><span class="operator">,</span> ВидСравненияКомпоновкиДанных<span class="operator">.</span>Меньше<span class="operator">)</span><span class="operator">;</span>
<span class="comment">// ***** Установка зеленого цвета для суммы более 10 000</span>
Оформление <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">;</span>
Оформление<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ЦветТекста"</span><span class="operator">,</span> <span class="keyword">Новый</span> Цвет<span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="number">128</span><span class="operator">,</span><span class="number">0</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
НовыйЭлемент <span class="operator">=</span> УстановитьУсловноеОформление<span class="operator">(</span>ЭлементыУсловногоОформления<span class="operator">,</span> ОформляемыеПоля<span class="operator">,</span> Оформление<span class="operator">)</span><span class="operator">;</span>
Зададим условие оформления: Сумма <span class="operator">&gt;</span> <span class="number">10</span> 000
ДобавитьОтбор<span class="operator">(</span>НовыйЭлемент<span class="operator">.</span>Отбор<span class="operator">,</span> <span class="string">"Сумма"</span><span class="operator">,</span> <span class="number">10000</span><span class="operator">,</span> ВидСравненияКомпоновкиДанных<span class="operator">.</span>Больше<span class="operator">)</span><span class="operator">;</span>
<span class="comment">// установка синего цвета, если сумма в интервале от 500 до 10 000</span>
Оформление <span class="operator">=</span> <span class="keyword">Новый</span> Структура<span class="operator">;</span>
Оформление<span class="operator">.</span>Вставить<span class="operator">(</span><span class="string">"ЦветТекста"</span><span class="operator">,</span> <span class="keyword">Новый</span> Цвет<span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">128</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Передача пустого массива в качестве списка оформляемых полей</span>
<span class="comment">// означает оформление всех полей строки</span>
НовыйЭлемент <span class="operator">=</span> УстановитьУсловноеОформление<span class="operator">(</span>ЭлементыУсловногоОформления<span class="operator">,</span> <span class="keyword">Новый</span> Массив<span class="operator">,</span> Оформление<span class="operator">)</span><span class="operator">;</span>
<span class="comment">// Cоздадим группу условий "И"</span>
ГруппаОтборов <span class="operator">=</span> НовыйЭлемент<span class="operator">.</span>Отбор<span class="operator">.</span>Элементы<span class="operator">.</span>Добавить<span class="operator">(</span>Тип<span class="operator">(</span><span class="string">"ГруппаЭлементовОтбораКомпоновкиДанных"</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span>
ГруппаОтборов<span class="operator">.</span>ТипГруппы <span class="operator">=</span> ТипГруппыЭлементовОтбораКомпоновкиДанных<span class="operator">.</span>ГруппаИ<span class="operator">;</span>
<span class="comment">// Зададим условие оформления: Сумма &gt; 500 И Сумма &lt; 10 000</span>
ДобавитьОтбор<span class="operator">(</span>ГруппаОтборов<span class="operator">,</span> <span class="string">"Сумма"</span><span class="operator">,</span> <span class="number">500</span><span class="operator">,</span> ВидСравненияКомпоновкиДанных<span class="operator">.</span>Больше<span class="operator">)</span><span class="operator">;</span>
ДобавитьОтбор<span class="operator">(</span>ГруппаОтборов<span class="operator">,</span> <span class="string">"Сумма"</span><span class="operator">,</span> <span class="number">10000</span><span class="operator">,</span> ВидСравненияКомпоновкиДанных<span class="operator">.</span>Меньше<span class="operator">)</span><span class="operator">;</span></pre><a name="_ref140583992"></a><a name="_ref140501842"></a><a name="_ref1551668"></a><a name="_ref1551667"></a><a name="_ref1401441"></a><a name="_ref511832728"></a><a name="_ref511832725"></a><a name="_ref453774176"></a><a name="_ref453774175"></a><a name="_toc420398530"></a><a name="_toc298859913"></a><a name="_toc164776132"></a><a id="TI000000433" class="bookmark" name="issogl2_7.9.7_механизм_перетаскивания"><h3>7.9.7. Механизм перетаскивания</h3></a>

<p class="MsoNormal">В
«1С:Предприятии» поддерживается операция перетаскивания. С ее помощью можно
осуществлять перенос данных между разными элементами формы. Например, можно
переносить элементы списка справочника из одной группы в другую,
переносить данные из табличного поля в поле табличного документа или
перенести список выделенных файлов из инструмента по работе
с файлами клиентской операционной системы в какой-либо элемент формы.</p>

<p class="MsoNormal">Операции
перетаскивания поддерживают следующие элементы формы:</p>

<p class="MsoListBullet">&#9679; 
таблица формы,</p>

<p class="MsoListBullet">&#9679; 
поле табличного документа,</p>

<p class="MsoListBullet">&#9679; 
поле календаря,</p>

<p class="MsoListBullet">&#9679; 
поле картинки,</p>

<p class="MsoListBullet">&#9679; 
декорация-картинка,</p>

<p class="MsoListBullet">&#9679; 
поле планировщика.</p>

<p class="MsoNormal">При операциях
перетаскивания используются следующие термины:</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">источник данных</span> &#8209; элемент формы, из которого можно перетаскивать
данные;</p>

<p class="MsoListBullet">&#9679; 
<span class="Bold">приемник данных</span> &#8209; элемент формы, в который можно перетаскивать
данные.</p>

<p class="MsoNormal">Существует
возможность разрешать или запрещать элементам управления предоставлять или
принимать данные, т. е. быть источником или приемником данных. Для
этого у элементов формы существуют следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Разрешить начало
перетаскивания</span> &#8209; разрешает
элементу формы предоставлять данные.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Разрешить перетаскивание</span> &#8209; разрешает элементу формы принимать данные. Эти
свойства можно устанавливать из палитры свойств или из встроенного
языка.</p>

<p class="MsoNormal">При нажатии кнопки
мыши на выделенной области элемента управления у элемента управления &#8209; источника данных вызывается обработчик события <span class="Term">НачалоПеретаскивания</span>. Если источником
перетаскивания выступает поле планировщика, то событие <span class="Term">НачалоПеретаскивания</span> возникает тогда, когда
курсор мыши выходит за границы этого поля. В качестве параметров данного
события передаются объекты типа <span class="Term">ПараметрыПеретаскивания</span>
и <span class="Term">Выполнение</span>.
Параметр <span class="Term">ПараметрыПеретаскивания</span>
имеет следующие свойства:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Значение</span> &#8209; содержит
перетаскиваемое значение, например, для таблицы управляемой формы это может
быть ссылка на объект, для табличного документа &#8209; область табличного документа, для календаря &#8209; дата. Можно присвоить этому свойству свое значение
(например, какую-нибудь структуру), тогда это значение будет являться
перетаскиваемым объектом. Для таблицы управляемой формы, связанной
с реквизитом формы типа <span class="Term">ДанныеФормыКоллекция</span>,
<span class="Term">ДанныеФормыДерево</span>
или <span class="Term">ДанныеФормыСтруктраСКоллекцией</span>,
в качестве значения перетаскивания передается:</p>

<p class="MsoListBullet2">&#9679; 
идентификатор строки (или массив
идентификаторов), если перетаскивание осуществляется в рамках одной
таблицы;</p>

<p class="MsoListBullet2">&#9679; 
элемент коллекции (или массив элементов), если
перетаскивание осуществляется между разными таблицами.</p>

<p class="Indentlist">При выполнении
операции перетаскивания из поля планировщика (см. <a href="https://its.1c.ru/db/content/v8326doc/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%207.%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B.htm#_ref389752968">здесь</a>), свойство <span class="Term">Значение</span>
содержит копии перетаскиваемых элементов.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">Действие</span> &#8209; указывает
действие перетаскивания и является значением типа <span class="Term">ДействиеПеретаскивания</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ДопустимыеДействия</span> &#8209; указывает допустимые действия перетаскивания
и является значением типа <span class="Term">ДопустимыеДействияПеретаскивания</span>.
При помощи этого свойства можно указать, какие операции возможны с данными
источника данных (например, только копирование).</p>

<p class="MsoNormal">Параметр <span class="Term">Выполнение</span> позволяет разрешить или запретить
стандартную обработку операции перетаскивания из данного элемента
управления. Для события <span class="Term">НачалоПеретаскивания</span>
стандартной обработкой является начало перетаскивания данных.</p>

<p class="MsoNormal">Далее
у элемента формы &#8209; приемника
данных вызывается обработчик события <span class="Term">ПроверкаПеретаскивания</span>.
Данный обработчик вызывается всякий раз, когда курсор попадает на новый
объект в элементе формы &#8209; приемнике
данных (например, в новую ячейку таблицы или поля табличного документа,
при попадании в новую дату в поле календаря). Набор параметров
данного события зависит от элемента формы &#8209;
приемника данных, но первые два параметра у всех одинаковы. Это объекты
типа <span class="Term">ПараметрыПеретаскивания</span>
и <span class="Term">СтандартнаяОбработка</span>.
Остальные параметры описывают объект под курсором. При обработке данного
события можно управлять видом курсора, т. е. например, указывать, что
перетаскивание в данный элемент управления запрещено или возможно только
копирование. Для этого нужно установить необходимое действие в свойстве <span class="Term">Действие</span> параметра <span class="Term">ПараметрыПеретаскивания</span>. Необходимо учитывать,
что устанавливаемое действие перетаскивания должно быть
разрешенным, т. е. не вступать в противоречие со значением
свойства <span class="Term">ДопустимыеДействия</span>.
Например, действие <span class="Term">Копирование</span>
не вступает в противоречие со значением допустимых действий <span class="Term">КопированиеИПеремещение</span>, а значение <span class="Term">Перемещение</span> вступает в противоречие со
значением допустимых действий <span class="Term">Копирование</span>.
Параметр <span class="Term">СтандартнаяОбработка</span>
используется для указания возможности стандартной обработки элементом формы
данного события. Стандартная обработка перетаскивания зависит от типа
элемента управления:</p>

<p class="MsoListBullet">&#9679; 
Для таблицы проверяется возможность вставки
значения, т. е. проверяется тип значения, и, если он совпадает
с типом отображаемых данных, производятся стандартные действия.
Стандартные действия для иерархических динамических списков &#8209; перемещение в группу, для таблиц, отображающих
наборы записей или табличные части, &#8209; изменение
порядка строк и копирование.</p>

<p class="Indentlist">Если
у таблицы свойство <span class="Term">ИзменятьПорядокСтрок</span>
установлено в значение <span class="Term">Ложь</span>,
то при перетаскивании внутри таблицы стандартная обработка отменяет
перетаскивание и событие <span class="Term">Перетаскивание</span>
вызвано не будет.</p>

<p class="Indentlist">Если
свойство <span class="Term">ИзменятьПорядокСтрок</span>
установлено в значение <span class="Term">Истина</span>
или перетаскивание осуществляется извне таблицы, стандартная обработка не
отменяет перетаскивание.</p>

<p class="Indentlist">Стандартная
обработка не отменяет перетаскивание, если у таблицы свойство <span class="Term">РежимВыделения</span> установлено в значение <span class="Term">Множественный</span>, свойство <span class="Term">ИзменятьПорядокСтрок</span> установлено
в значение <span class="Term">Истина</span>
или перетаскивание осуществляется извне таблицы, и перетаскивается более одного
элемента.</p>

<p class="MsoListBullet">&#9679; 
Для таблицы, отображающей дерево, стандартная
обработка перетаскивания осуществляется следующим образом:</p>

<p class="MsoListBullet2">&#9679; 
При перетаскивании элементов дерева внутри
одного узла осуществляется изменение порядка следования элементов дерева внутри
узла.</p>

<p class="MsoListBullet2">&#9679; 
При перетаскивании элементов дерева между
различными узлами осуществляется перемещение элементов дерева в выбранный
узел.</p>

<p class="MsoListBullet">&#9679; 
Для поля табличного документа &#8209; проверка возможности вставить передаваемое
значение.</p>

<p class="MsoListBullet">&#9679; 
Для поля картинки и календаря стандартной
обработки нет.</p>

<p class="MsoListBullet">&#9679; 
При перетаскивании файлов стандартным действием
будет попытка открыть файлы, которые участвуют в операции перетаскивания.</p>

<p class="MsoNormal">Если
отпустить клавишу мыши в элементе формы &#8209;
приемнике данных, вызывается обработчик события <span class="Term">Перетаскивание</span>.
Набор параметров этого события тот же, что и у события <span class="Term">ПроверкаПеретаскивания</span>. Параметр <span class="Term">СтандартнаяОбработка</span> позволяет разрешить или
запретить стандартную обработку события элементом формы. Стандартные действия
перетаскивания описаны выше.</p>

<p class="MsoNormal">Затем
в элементе управления &#8209; источнике
данных вызывается обработчик события <span class="Term">ОкончаниеПеретаскивания</span>.
При обработке этого события элемент формы &#8209; приемник данных
может, например, удалить перемещенные данные или очистить какие-либо
переменные.</p>

<p class="MsoNormal">Для
некоторых элементов формы (таблица формы, поле картинки, декорация-картинка)
имеется возможность указать, каким образом будет вести себя система при попытке
перетащить файлы на эти элементы формы. Для указания поведения служит
свойство <span class="Interface">Способ
перетаскивания файлов</span>:</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Как файл</span>. В этом
случае в качестве значения перетаскивания будет выступать объект типа <span class="Term">Файл</span> (или массив таких объектов). Данный
способ перетаскивания не поддерживается при использовании веб-клиента.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Как ссылка на файл</span>.
В этом случае в качестве значения перетаскивания будет выступать объект типа
<span class="Term">СсылкаНаФайл</span> (или
массив таких объектов). Данный способ перетаскивания поддерживается и для
тонкого клиента и для веб-клиента.</p>

<p class="MsoNormal">Если для элемента формы способ
перетаскивания файлов установлен в значение <span class="Interface">Как ссылка на файл</span>,
то:</p>

<p class="MsoListBullet">&#9679; 
В веб-клиенте обработчик события <span class="Term">ПроверкаПеретаскивания</span> возникает один раз, при
отпускании кнопки мыши и непосредственно перед выполнением обработчика
события <span class="Term">Перетаскивание</span>.</p>

<p class="MsoListBullet">&#9679; 
В тонком клиенте обработчик события <span class="Term">ПроверкаПеретаскивания</span> возникает многократно,
во время выполнения перетаскивания.</p>

<p class="MsoNormal">Если для элемента формы способ
перетаскивания файлов установлен в значение <span class="Interface">Как файл</span>,
то в веб-клиенте перетаскивание файлов игнорируется, и вызов
обработчиков событий <span class="Term">ПроверкаПеретаскивания</span>
и <span class="Term">Перетаскивание</span>
не выполняется.</p>

<p class="MsoNormal">Подробнее
рассмотрим объект <span class="Term">СсылкаНаФайл</span>.
Это специальный объект, который позволяет унифицированно работать
с файлами в разных окружениях и содержит некоторую ключевую
информацию о выбранном файле. При этом следует понимать, что, например,
работа веб-клиента подвержена более строгим ограничениям, по сравнению
с тонким клиентом. Наличие таких ограничений объясняет следующие
особенности объектов типа <span class="Term">СсылкаНаФайл</span>:</p>

<p class="MsoListBullet">&#9679; 
Данные объекты не могут быть сериализованы.</p>

<p class="MsoListBullet">&#9679; 
Как следствие предыдущего пункта, данные объекты
не могут хранится в реквизитах формы, в данных информационной базы
и передаваться между клиентом и сервером.</p>

<p class="MsoListBullet">&#9679; 
Объект <span class="Term">СсылкаНаФайл</span>
не может быть создан из встроенного языка. Он может создаваться только
платформой, во время работы с механизмом перетаскивания.</p>

<p class="MsoNormal">В то же
время, структуры данных, расположенные в оперативной памяти (массивы,
структуры, соответствия и т. д.) вполне могут хранить объекты типа <span class="Term">СсылкаНаФайл</span>.</p>

<p class="MsoNormal">Также надо
учитывать тот факт, что ссылка на файл гарантирует наличие файла
на диске только непосредственно сразу после ее формирования
в платформе. При этом объект <span class="Term">СсылкаНаФайл</span>
не предоставляет возможность проверить, что файл, на который ссылается
объект, существует и находится в том же месте. Поэтому рекомендуется
использовать объекты типа <span class="Term">СсылкаНаФайл</span>
непосредственно сразу после их получения. Однако, если все же требуется
хранение таких объектов до их фактического применения, то следует это делать
с помощью клиентских переменных формы, в которой выполняется работа
с файлами.</p>

<a name="_toc420398532"></a><a name="_ref373333764"></a><a name="_ref373246737"></a><a name="_ref371695222"></a><a name="_ref351476908"></a><a name="_toc164776133"></a><a id="TI000000435" class="bookmark" name="issogl2_7.9.8_различные_подходы_к_модальности"><h3>7.9.8. Различные подходы к модальности</h3></a>

<a name="_toc420398533"></a><a id="TI000000436" class="bookmark" name="issogl3_7.9.8.1_общая_информация"><h4>7.9.8.1. Общая информация</h4></a>

<p class="MsoNormal">В прикладных решениях, разрабатываемых
с помощью системы «1С:Предприятие», часто возникает необходимость открыть
форму, которая будет предоставлять одновременно несколько возможностей:</p>

<p class="MsoListBullet">&#9679; 
Блокировать работу с другими фрагментами
интерфейса прикладного решения;</p>

<p class="MsoListBullet">&#9679; 
Позволять ввести какую-либо информацию (включая
ответ на вопрос);</p>

<p class="MsoListBullet">&#9679; 
Останавливать исполнение кода прикладного
решения до момента, пока не будет завершена работа с открытой формой.</p>

<p class="MsoNormal">Причем рассматриваемые формы могут быть
созданы прикладным разработчиком на встроенном языке «1С:Предприятие»
и являться частью самой платформы (например формы, которые открывают
методы <span class="Term">Предупреждение()</span>, <span class="Term">Вопрос()</span>
и т. д.).</p>

<p class="MsoNormal">В рамках системы «1С:Предприятие» существуют
две схемы использования таких форм:</p>

<p class="MsoListBullet">&#9679; 
Модальные окна;</p>

<p class="MsoListBullet">&#9679; 
Блокирующие окна.</p>

<p class="MsoNormal">В рамках одного прикладного решения может
использовать или какой-либо один подход или смешанная модель. Для управления
такой возможностью существует специальное свойство конфигурации &#8209; <span class="Interface">Режим использования модальности</span> (см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B%20%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.htm_?anchor=_ref351461437" target="_top">здесь</a>).</p>

<p class="MsoNormal">Первая схема использования модальности
(модальные окна) предполагает использование синхронных вызовов встроенного языка
(подробнее см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%204.%20%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.htm_?anchor=_ref451869217" target="_top">здесь</a>) и особых типов
окон операционной системы &#8209; модальных окна. Модальные окна можно открыть
с помощью методов <span class="Term">ОткрытьФормуМодально()</span> или <span class="Term">Предупреждение()</span>.
Однако, модальные окна не поддерживаются при работе в веб-клиенте.</p>

<p class="MsoNormal">В этих случаях рекомендуется использовать
схему использования модальности с помощью асинхронных вызовов (подробнее
см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%204.%20%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.htm_?anchor=_ref451869217" target="_top">здесь</a>) и блокирующих
окон. Использование асинхронных вызовов требует существенной переработки
используемых алгоритмов. При этом можно использовать разные схемы использования
асинхронности: через механизм обратных вызовов или через механизм обещаний.</p>

<p class="MsoNormal">В некоторых случаях лучше использовать
механизм обратных вызовов, в некоторых &#8209; механизм
обещаний. Рассмотрим оба варианта. Допустим, у нас есть некоторый
алгоритм, в рамках которого необходимо задать пользователю вопрос
и в зависимости от данного ответа выполнить одну или другую
ветку прикладного кода.</p>

<p class="Lang-subheader">Пример с модальными окнами:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ВыполнитьАлгоритм<span class="operator">(</span><span class="operator">)</span>
    Результат <span class="operator">=</span> Вопрос<span class="operator">(</span><span class="string">"Выполнить быстро или не медленно?"</span><span class="operator">,</span> РежимДиалогаВопрос<span class="operator">.</span>ДаНет<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Если</span> Результат <span class="operator">=</span> КодВозвратаДиалога<span class="operator">.</span>Да <span class="keyword">Тогда</span>
        <span class="comment">// Первый вариант алгоритма</span>
    <span class="keyword">Иначе</span>
        <span class="comment">// Второй вариант алгоритма</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">В этом примере (модальные окна) работа
встроенного языка остановится на строке <span class="Term">Результат =
Вопрос()</span> и продолжится только после того, как пользователь
ответит на заданный вопрос.</p>

<p class="Lang-subheader">Пример с блокирующими окнами:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
Асинх <span class="keyword">Процедура</span> ВыполнитьАлгоритм<span class="operator">(</span>Команда<span class="operator">)</span>
    Результат <span class="operator">=</span> Ждать ВопросАсинх<span class="operator">(</span><span class="string">"Выполнить быстро или не медленно?"</span><span class="operator">,</span> РежимДиалогаВопрос<span class="operator">.</span>ДаНет<span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Если</span> Результат <span class="operator">=</span> КодВозвратаДиалога<span class="operator">.</span>Да <span class="keyword">Тогда</span>
        <span class="comment">// Первый вариант алгоритма</span>
    <span class="keyword">Иначе</span>
        <span class="comment">// Второй вариант алгоритма</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">Более подробное описание логики работы
асинхронного кода, использующего обещания, см. <a href="https://its.1c.ru/db/v8326doc/content/src/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%204.%20%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.htm_?anchor=_ref37158209" target="_top">здесь</a>.</p>

<p class="MsoNormal">Использование механизма обратного вызова
будет полезно в следующем случае: необходимо открыть какую-либо форму,
а затем обработать факт закрытия этой формы. Предположим, что открытие
формы выполняется из общего модуля <span class="Term">КлиентскаяРабота</span>.
Будет использоваться общая форма с именем <span class="Term">ПомощникОформления</span>.</p>

<p class="MsoNormal">В общем модуле будет следующий программный
код:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="keyword">Процедура</span> ОткрытьФормуПомощника<span class="operator">(</span><span class="operator">)</span> <span class="keyword">Экспорт</span>
    ЗакрытиеОбратныйВызов <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеОповещения<span class="operator">(</span><span class="string">"ОбработкаЗакрытияФормы"</span><span class="operator">,</span> ЭтотОбъект<span class="operator">)</span><span class="operator">;</span>
    ОткрытьФорму<span class="operator">(</span><span class="string">"ОбщаяФорма.ПомощникОформления"</span><span class="operator">,</span> <span class="operator">,</span> <span class="operator">,</span> <span class="operator">,</span> <span class="operator">,</span> <span class="operator">,</span> ЗакрытиеОбратныйВызов<span class="operator">,</span> РежимОткрытияОкнаФормы<span class="operator">.</span>БлокироватьОкноВладельца<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="keyword">Процедура</span> ОбработкаЗакрытияФормы<span class="operator">(</span>РезультатЗакрытия<span class="operator">,</span> ДополнительныеПараметры<span class="operator">)</span> <span class="keyword">Экспорт</span>
    Сообщить<span class="operator">(</span><span class="string">"Форма закрыта: "</span> <span class="operator">+</span> РезультатЗакрытия<span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">В модулей формы можно ничего не писать, если
нас интересует только сам факт закрытия формы. Если закрываемая форма должна
передать какой-то результат работы &#8209; следует предусмотреть в нашей форме
специальную кнопку, которая будет вызывать метод формы <span class="Term">Закрыть()</span>,
передав в качестве параметра метода те данные, которые будут обработаны
в обработчике закрытия. В обработчике оповещения о закрытии эти
данные будут доступны в виде параметра обработчика <span class="Term">РезультатЗакрытия</span>.
Обработчик нажатия кнопки закрытия может выглядеть следующим образом:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ЗакрытьФорму<span class="operator">(</span>Команда<span class="operator">)</span>
    Закрыть<span class="operator">(</span><span class="string">"Результат"</span><span class="operator">)</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal"> </p>

<a name="_ref438049787"></a><a id="TI000001779" class="bookmark" name="issogl3_7.9.8.2_закрытие_вспомогательного_или_основного_окна_приложения_и_блокирующие_окна"><h4>7.9.8.2. Закрытие вспомогательного или основного окна приложения и блокирующие окна</h4></a>

<p class="MsoNormal">Закрытие формы может выполняться в двух
сценариях работы &#8209; когда закрывается единственная форма и когда
закрывается целиком все приложение (выполняется закрытие основного окна
приложения). Для того чтобы разделить эти сценарии, в системе реализован
отдельный процесс обработки закрытия всего приложения. Для указания, что форма
закрывается во время закрытия всего приложения в обработчиках событий <span class="Term">ПередЗакрытием</span>,
<span class="Term">ПриЗакрытии</span>
реализован специальный параметр <span class="Term">ЗавершениеРаботы</span>. Кроме того,
в обработчике события формы <span class="Term">ПередЗакрытием</span> и обработчике события <span class="Term">ПередЗавершениемРаботы</span>
модуля управляемого приложения, реализован параметр <span class="Term">ТекстПредупреждения</span>.
Рассмотрим данные параметры более подробно:</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ЗавершениеРаботы</span> &#8209; данный параметр
устанавливается системой в значение <span class="Term">Истина</span> в том
случае, если пользователь пытается закрыть основное окно приложения (если этот
параметр существует для выбранного обработчика). При закрытии одной формы
данный параметр будет установлен в значение <span class="Term">Ложь</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ТекстПредупреждения</span> &#8209; данный параметр
должен быть сформирован в обработчике события (если этот параметр существует
для выбранного обработчика).</p>

<p class="MsoNormal">Более подробно рассмотрим совместную работу
этих параметров во время закрытия приложения. Код на встроенном языке, который
обрабатывает закрытие формы с учетом указанных особенностей, будет иметь
следующий вид:</p>

<a class="copy_source" href="javascript:" onclick="return false">Копировать в буфер обмена</a>
<pre class="src_dev"><span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Перем</span> ОтветПередЗакрытием<span class="operator">;</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ПередЗакрытием<span class="operator">(</span>Отказ<span class="operator">,</span> ЗавершениеРаботы<span class="operator">,</span> ТекстПредупреждения<span class="operator">,</span> СтандартнаяОбработка<span class="operator">)</span>
    <span class="keyword">Если</span> <span class="keyword">Не</span> ЗавершениеРаботы <span class="keyword">Тогда</span>
        <span class="keyword">Если</span> ОтветПередЗакрытием <span class="operator">&lt;</span><span class="operator">&gt;</span> <span class="keyword">Истина</span> <span class="keyword">Тогда</span>
            Отказ <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
            ОбратныйВызов <span class="operator">=</span> <span class="keyword">Новый</span> ОписаниеОповещения<span class="operator">(</span><span class="string">"ПередЗакрытиемЗавершение"</span><span class="operator">,</span> ЭтотОбъект<span class="operator">)</span><span class="operator">;</span>
            ПоказатьВопрос<span class="operator">(</span>ОбратныйВызов<span class="operator">,</span> <span class="string">"Закрыть форму?"</span><span class="operator">,</span> РежимДиалогаВопрос<span class="operator">.</span>ДаНет<span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">КонецЕсли</span><span class="operator">;</span>
    <span class="keyword">Иначе</span>
        Отказ <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
        ТекстПредупреждения <span class="operator">=</span> <span class="string">"При закрытии формы все данные будут утеряны. Вы хотите"</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span>
<span class="preprocessor">&amp;НаКлиенте</span>
<span class="keyword">Процедура</span> ПередЗакрытиемЗавершение<span class="operator">(</span>Результат<span class="operator">,</span> ДополнительныеПараметры<span class="operator">)</span> <span class="keyword">Экспорт</span>
    <span class="keyword">Если</span> Результат <span class="operator">=</span> КодВозвратаДиалога<span class="operator">.</span>Да <span class="keyword">Тогда</span>
        ОтветПередЗакрытием <span class="operator">=</span> <span class="keyword">Истина</span><span class="operator">;</span>
        Закрыть<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">Иначе</span>
        ОтветПередЗакрытием <span class="operator">=</span> <span class="keyword">Неопределено</span><span class="operator">;</span>
    <span class="keyword">КонецЕсли</span><span class="operator">;</span>
<span class="keyword">КонецПроцедуры</span></pre><p class="MsoNormal">В приведенном примере примера реализована
особая реакция на закрытие всего приложения. Обработка процесса закрытия
приложения работает следующим образом:</p>

<p class="MsoListBullet">&#9679; 
Если форма закрывается в процессе завершения
работы приложения, то прикладной разработчик может определить это
по состоянию параметра <span class="Term">ЗавершениеРаботы</span> и определяет, нужно
выдать пользователю какое-либо сообщение, которое требует реакции пользователя:
завершить работу или все-таки продолжить работу, т. к. в форме
есть существенная информация.</p>

<p class="MsoListBullet">&#9679; 
Если разработчик считает, что пользователю
необходимо выдать сообщение, то он может это сделать с помощью параметра <span class="Term">ТекстПредупреждения</span>
обработчика событий <span class="Term">ПередЗакрытием</span> или <span class="Term">ПередЗавершениемРаботыСистемы</span>.
Параметр <span class="Term">Отказ</span> также следует установить в значение
<span class="Term">Истина</span>.</p>

<p class="MsoListBullet">&#9679; 
Если хотя бы одна форма или процедура
обработчика события <span class="Term">ПередЗавершениемРаботыСистемы</span> сообщит
о том, что она «не хочет» закрытия приложения, система будет формировать
диалоги, требующие реакции пользователя. Количество диалогов равно количеству
отказов от закрытия (включая обработчик модуля управляемого приложения). В
веб-клиенте будет отображен один диалог, который будет содержать все сообщения,
которые были установлены в управляемых формах и модуле управляемого
приложения. При этом в веб-браузере Mozilla Firefox диалог будет
содержать только текст, установленный самим веб-браузером и не будет
отображаться текст, установленный в обработчиках событий системы
«1С:Предприятие».</p>

<p class="MsoListBullet">&#9679; 
В тонком клиенте в диалоге будет
отображаться текст предупреждения, который задал разработчик, и кнопки <span class="Interface">Завершить работу</span> и <span class="Interface">Продолжить работу</span>. Если во всех диалогах выбрано <span class="Interface">Завершить работу</span> &#8209; работа приложения будет
завершена. Если хотя бы в одном диалоге было выбрано <span class="Interface">Продолжить работу</span> &#8209; приложение не будет
завершено и работа продолжится. В случае отказа от завершения работы
на экране останется та форма, в которой была нажата кнопка <span class="Interface">Продолжить работу</span>.</p>

<p class="MsoNormal">Если параметр <span class="Term">ЗавершениеРаботы</span>
имеет значение <span class="Term">Ложь</span>, то это означает, что закрывается
единственная форма и в этом случае логика работы выглядит следующим
образом:</p>

<p class="MsoListBullet">&#9679; 
Вначале задается вопрос о необходимости
(возможности) закрытия формы и собственно закрытие формы отменяется.</p>

<p class="MsoListBullet">&#9679; 
После того, как пользователь ответил
на вопрос, в специальной клиентской переменной отмечается, что сейчас
будет выполнено «настоящее» закрытие формы и форма закрывается повторно.</p>

<p class="MsoNormal">При обработке завершения работы приложения
(параметр <span class="Term">ЗавершениеРаботы</span> равен значению <span class="Term">Истина</span>)
в обработчиках <span class="Term">ПередЗакрытием</span>, <span class="Term">ПриЗакрытии</span>,
а также в обработчиках <span class="Term">ПередЗавершениемРаботыСистемы</span> и <span class="Term">ПриЗавершенииРаботыСистемы</span>
запрещено использование любых серверных вызовов и открытие любых форм. Из
этого следует рекомендация хранить в данных формы ту информацию, которая
может потребоваться для определения того, можно закрыть форму при завершении
работы приложения или нет. Для существующих форм может потребоваться
переработка механизмов, отвечающих за закрытие.</p>

<p class="MsoNormal">Таким образом, отображение диалога
с кнопками <span class="Interface">Завершить работу</span>
и <span class="Interface">Продолжить работу</span>
выполняется в том случае, если при покидании обработчиков <span class="Term">ПередЗакрытием</span>
параметры обработчика установлены следующим образом: параметр <span class="Term">ЗавершениеРаботы</span>
установлен в значение <span class="Term">Истина</span> и параметр <span class="Term">Отказ</span>
установлен в значение <span class="Term">Истина</span>. В этом случае в диалоге будет
отображаться текст, который установлен в параметре <span class="Term">ТекстПредупреждения</span>.
Если параметр <span class="Term">ТекстПредупреждения</span> не установлен, то
в качестве текста предупреждения в диалоге будет показана строка <span class="Interface">Работа в данном окне не завершена</span>.</p>

<p class="MsoNormal">Аналогичное поведение будет наблюдаться
в том случае, если в обработчике <span class="Term">ПередЗавершениемРаботыСистемы</span>
параметр <span class="Term">Отказ</span> будет установлен в значение <span class="Term">Истина</span>.</p>

<p class="MsoNormal">Во всех остальных случаях считается, что нет
причин, препятствующих закрытию форм и приложения.</p>

<a name="_ref511823637"></a><a name="_ref511823634"></a><a name="_toc420398534"></a><a id="TI000000437" class="bookmark" name="issogl3_7.9.8.3_особенности_использования_блокирующих_окон"><h4>7.9.8.3. Особенности использования блокирующих окон</h4></a>

<p class="MsoNormal">В платформе реализовано некоторое количество
вспомогательных объектов, которые можно использовать для единообразного
выполнения каких либо действий. Единообразность действий обеспечивается тем,
что диалоги для выполнения этих действий, предоставлются платформой. Значит
пользователю не придется каждый раз привыкать к новому интерфейсу для
выполнения те или иных действий.</p>

<p class="MsoNormal">Схема именования методов открытия диалогов
для таких объектов &#8209; стандартная для платформы:</p>

<p class="MsoListBullet">&#9679; 
Синхронный метод (если есть) &#8209; <span class="Term">Открыть()</span>,
<span class="Term">Выбрать()</span>
и т. д.</p>

<p class="MsoListBullet">&#9679; 
Асинхронный метод (с использованием обратного
вызова) &#8209; <span class="Term">Показать()</span>.</p>

<p class="MsoListBullet">&#9679; 
Асинхронный метод (с использованием обещаний) &#8209; <span class="Term">ОткрытьАсинх()</span>,
<span class="Term">ВыбратьАсинх()</span>
и т. д.</p>



<div class="Section13">		<script type="text/javascript">listenCopy('/swf/zeroclipboard.swf', '/js/zeroclipboard.min.js');</script>
	
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://its.1c.ru/db/content/v8326doc/src/руководство разработчика/глава 7. формы.htm"
    },
    "headline": "Глава 7. Формы",
    "image": [
        "https://its.1c.ru/img/its/its_logo_small.png"
    ],
    "author": {
        "@type": "Organization",
        "name": "1С",
        "url": "https://1c.ru/"
    },
    "publisher": {
        "@type": "Organization",
        "name": "1С",
        "url": "https://1c.ru/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://its.1c.ru/img/its/its_logo_small.png"
        }
    },
    "isAccessibleForFree": "False",
    "hasPart": {
        "@type": "WebPageElement",
        "isAccessibleForFree": "False",
        "cssSelector": ".paywall"
    },
    "dateModified": "2025-02-26T00:00:00+03:00",
    "articleSection": "1С:Предприятие 8.3.26. Документация"
}
</script>

</div></body></html>